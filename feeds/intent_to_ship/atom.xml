<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://negibokken.github.io/feeds/intent_to_ship/atom.xml</id>
    <title>intent to ship feed</title>
    <link href="https://negibokken.github.io/feeds/intent_to_ship/atom.xml" rel="self"/>
    <updated>2023-04-15T00:14:11.000Z</updated>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08546.html</id>
        <title>Re: [blink-dev] Intent to Ship: Lazy load scroll margin</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08546.html"/>
        <updated>2023-11-30T17:33:45.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08546.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Lazy+load+scroll+margin%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Lazy load scroll margin&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Traian+Captan%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Traian Captan&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231130" rel="nofollow"&gt;Thu, 30 Nov 2023 09:33:45 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;You're welcome Rick!
&lt;/pre&gt;&lt;pre&gt;

On Thu, Nov 30, 2023 at 5:33 AM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:

&amp;gt; Thank you Traian!
&amp;gt;
&amp;gt; On Thu, Nov 30, 2023 at 7:27 PM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Hi Rick,
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Yes. I uploaded a CL that increases the spacer size by 30px:
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5075126"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5075126&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; The tests are now failing as expected on Safari:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=pr_head&amp;max-count=1&amp;pr=43446"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=pr_head&amp;max-count=1&amp;pr=43446&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Thu, Nov 30, 2023 at 12:14 AM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Interesting. Could you try to improve the tests to capture the interop
&amp;gt;&amp;gt;&amp;gt; difference and ensure passing reflects full conformance to the spec? We
&amp;gt;&amp;gt;&amp;gt; rely on WPTs as our quantifiable measure of interoperability...
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Rick
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Thu, Nov 30, 2023 at 5:07 PM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Thank you Rick!
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; I did some investigating into why WebKit is passing some of the new
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WPTs for lazy loaded images.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; I think it might be because WebKit is considering the edge as
&amp;gt;&amp;gt;&amp;gt;&amp;gt; inclusive, while Blink and Gecko do not.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; In the following example if the spacer height is 100px Safari will
&amp;gt;&amp;gt;&amp;gt;&amp;gt; report intersecting as true while Chrome and FireFox would report it as
&amp;gt;&amp;gt;&amp;gt;&amp;gt; false.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; If the height is increased to 101px, all 3 browsers will report the
&amp;gt;&amp;gt;&amp;gt;&amp;gt; intersection as false.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;!DOCTYPE html&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;style&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; #scroller { width: 100px; height: 100px; overflow: scroll;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; background-color: gray; }
&amp;gt;&amp;gt;&amp;gt;&amp;gt; #spacer { width: 50px; height: 100px; }
&amp;gt;&amp;gt;&amp;gt;&amp;gt; #target { width: 50px; height: 50px; background-color: green; }
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;/style&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=scroller&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=spacer&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=target&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;script&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; let entries = [];
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; window.onload = function() {
&amp;gt;&amp;gt;&amp;gt;&amp;gt; const observer = new IntersectionObserver(
&amp;gt;&amp;gt;&amp;gt;&amp;gt; callback,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; {
&amp;gt;&amp;gt;&amp;gt;&amp;gt; rootMargin: &amp;quot;0px&amp;quot;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; }
&amp;gt;&amp;gt;&amp;gt;&amp;gt; );
&amp;gt;&amp;gt;&amp;gt;&amp;gt; observer.observe(target);
&amp;gt;&amp;gt;&amp;gt;&amp;gt; };
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; function callback(entries) {
&amp;gt;&amp;gt;&amp;gt;&amp;gt; console.log(`isIntersecting = ${entries[0].isIntersecting}`);
&amp;gt;&amp;gt;&amp;gt;&amp;gt; }
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;/script&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Mon, Nov 27, 2023 at 11:40 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 2:37 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Thanks, that sounds like a strict improvement.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 6:25 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Yes, that's correct.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:18 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do I understand correctly that currently lazy-loaded images in CSS
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scrollers have suboptimal behavior and this would improve that without
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; potentially harming other cases?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 1:55 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailstcap...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; A short (inline) explainer would help reviewers to understand e.g. if
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; this involves changes to the API surface that developers need to care 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; about.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Can you write a few words on the impact on developers?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#lazy-load-root-margin"&gt;https://html.spec.whatwg.org/#lazy-load-root-margin&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The spec doesn't mention anything specific around root margins or
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scroll margins (other than the algorithm name).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Are these concepts interoperable?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; I dug around a little to try to better understand this. The HTML spec
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; does mention
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element"&gt;https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;  setting
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the &amp;quot;scrollMargin&amp;quot; on the IntersectionObserver, a new property we recently
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; shipped (I2S
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; While WebKit and Gecko aren't yet passing the WPT tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin"&gt;https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; for this yet, interestingly WebKit is already passing
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; most of the newly added
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5023396"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5023396&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WPTs for lazy loaded images in particular. So perhaps their implementation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; already handled this?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Seems reasonable to me - LGTM1
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Changes the lazy load intersection observer's init dictionary to
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; use a scrollMargin instead of a rootMargin. This allows lazy loading 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; images
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; contained inside CSS scrollers, like carousels, to load as expected 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; near the viewport instead of the current behavior where these images 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; load
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when at least one pixel is intersecting the viewport.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Image
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Search tagslazyload
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:lazyload"&gt;https://chromestatus.com/features#tags:lazyload&lt;/a&gt;&amp;gt;, scrollmargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:scrollmargin"&gt;https://chromestatus.com/features#tags:scrollmargin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Overall low as scroll margin also applies to the root element thus
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; not affecting lazy loading images that are currently loading with 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; just a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; root margin.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431"&gt;https://github.com/w3c/IntersectionObserver/issues/431&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1864794"&gt;https://bugzilla.mozilla.org/show_bug.cgi?id=1864794&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435"&gt;https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ) &lt;a  rel="nofollow" href="https://bugs.webkit.org/show_bug.cgi?id=264864"&gt;https://bugs.webkit.org/show_bug.cgi?id=264864&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; such that it has potentially high risk for Android WebView-based
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; (Windows, Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsLazyLoadScrollMargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This feature is behind an enabled-by-default flag that can be
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; disabled if needed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on WebView 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; compat or interop issues. Please list open issues (e.g. links to known
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; github issues in the project for the feature specification) whose
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; resolution may introduce web compat/interop risk (e.g., changing to 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; naming
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; or structure of the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5106926245642240"&gt;https://chromestatus.com/feature/5106926245642240&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussionsIntent to prototype:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; send an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; send an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvuw19j2DwRAV4kGecr_V%2BZ2D89nW5PdSUJ1z43HG7JW8g%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvuw19j2DwRAV4kGecr_V%2BZ2D89nW5PdSUJ1z43HG7JW8g%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08545.html</id>
        <title>Re: [blink-dev] Intent to Ship: Lazy load scroll margin</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08545.html"/>
        <updated>2023-11-30T17:33:30.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08545.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Lazy+load+scroll+margin%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Lazy load scroll margin&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Traian+Captan%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Traian Captan&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231130" rel="nofollow"&gt;Thu, 30 Nov 2023 09:33:30 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Will do.
Would you mind sharing an example of the case you encountered so that I can
test it locally?&lt;/pre&gt;&lt;pre&gt;


On Thu, Nov 30, 2023 at 2:34 AM PhistucK &amp;lt;phist...@gmail.com&amp;gt; wrote:

&amp;gt; I hit a case where even when 5 - 10 pixels of the image is in the
&amp;gt; scrolling viewport, it is still not loaded, so hopefully it will take care
&amp;gt; of it as well. Let me know when this is in canary and I can try and test it
&amp;gt; out (at the moment I am not using lazy loading as a result). :)
&amp;gt;
&amp;gt; ☆*PhistucK*
&amp;gt;
&amp;gt;
&amp;gt; On Thu, Nov 30, 2023 at 10:27 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Hi Rick,
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Yes. I uploaded a CL that increases the spacer size by 30px:
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5075126"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5075126&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; The tests are now failing as expected on Safari:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=pr_head&amp;max-count=1&amp;pr=43446"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=pr_head&amp;max-count=1&amp;pr=43446&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Thu, Nov 30, 2023 at 12:14 AM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Interesting. Could you try to improve the tests to capture the interop
&amp;gt;&amp;gt;&amp;gt; difference and ensure passing reflects full conformance to the spec? We
&amp;gt;&amp;gt;&amp;gt; rely on WPTs as our quantifiable measure of interoperability...
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Rick
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Thu, Nov 30, 2023 at 5:07 PM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Thank you Rick!
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; I did some investigating into why WebKit is passing some of the new
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WPTs for lazy loaded images.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; I think it might be because WebKit is considering the edge as
&amp;gt;&amp;gt;&amp;gt;&amp;gt; inclusive, while Blink and Gecko do not.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; In the following example if the spacer height is 100px Safari will
&amp;gt;&amp;gt;&amp;gt;&amp;gt; report intersecting as true while Chrome and FireFox would report it as
&amp;gt;&amp;gt;&amp;gt;&amp;gt; false.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; If the height is increased to 101px, all 3 browsers will report the
&amp;gt;&amp;gt;&amp;gt;&amp;gt; intersection as false.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;!DOCTYPE html&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;style&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; #scroller { width: 100px; height: 100px; overflow: scroll;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; background-color: gray; }
&amp;gt;&amp;gt;&amp;gt;&amp;gt; #spacer { width: 50px; height: 100px; }
&amp;gt;&amp;gt;&amp;gt;&amp;gt; #target { width: 50px; height: 50px; background-color: green; }
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;/style&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=scroller&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=spacer&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=target&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;script&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; let entries = [];
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; window.onload = function() {
&amp;gt;&amp;gt;&amp;gt;&amp;gt; const observer = new IntersectionObserver(
&amp;gt;&amp;gt;&amp;gt;&amp;gt; callback,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; {
&amp;gt;&amp;gt;&amp;gt;&amp;gt; rootMargin: &amp;quot;0px&amp;quot;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; }
&amp;gt;&amp;gt;&amp;gt;&amp;gt; );
&amp;gt;&amp;gt;&amp;gt;&amp;gt; observer.observe(target);
&amp;gt;&amp;gt;&amp;gt;&amp;gt; };
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; function callback(entries) {
&amp;gt;&amp;gt;&amp;gt;&amp;gt; console.log(`isIntersecting = ${entries[0].isIntersecting}`);
&amp;gt;&amp;gt;&amp;gt;&amp;gt; }
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;/script&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Mon, Nov 27, 2023 at 11:40 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 2:37 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Thanks, that sounds like a strict improvement.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 6:25 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Yes, that's correct.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:18 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do I understand correctly that currently lazy-loaded images in CSS
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scrollers have suboptimal behavior and this would improve that without
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; potentially harming other cases?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 1:55 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailstcap...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; A short (inline) explainer would help reviewers to understand e.g. if
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; this involves changes to the API surface that developers need to care 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; about.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Can you write a few words on the impact on developers?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#lazy-load-root-margin"&gt;https://html.spec.whatwg.org/#lazy-load-root-margin&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The spec doesn't mention anything specific around root margins or
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scroll margins (other than the algorithm name).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Are these concepts interoperable?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; I dug around a little to try to better understand this. The HTML spec
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; does mention
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element"&gt;https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;  setting
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the &amp;quot;scrollMargin&amp;quot; on the IntersectionObserver, a new property we recently
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; shipped (I2S
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; While WebKit and Gecko aren't yet passing the WPT tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin"&gt;https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; for this yet, interestingly WebKit is already passing
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; most of the newly added
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5023396"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5023396&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WPTs for lazy loaded images in particular. So perhaps their implementation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; already handled this?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Seems reasonable to me - LGTM1
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Changes the lazy load intersection observer's init dictionary to
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; use a scrollMargin instead of a rootMargin. This allows lazy loading 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; images
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; contained inside CSS scrollers, like carousels, to load as expected 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; near the viewport instead of the current behavior where these images 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; load
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when at least one pixel is intersecting the viewport.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Image
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Search tagslazyload
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:lazyload"&gt;https://chromestatus.com/features#tags:lazyload&lt;/a&gt;&amp;gt;, scrollmargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:scrollmargin"&gt;https://chromestatus.com/features#tags:scrollmargin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Overall low as scroll margin also applies to the root element thus
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; not affecting lazy loading images that are currently loading with 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; just a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; root margin.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431"&gt;https://github.com/w3c/IntersectionObserver/issues/431&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1864794"&gt;https://bugzilla.mozilla.org/show_bug.cgi?id=1864794&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435"&gt;https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ) &lt;a  rel="nofollow" href="https://bugs.webkit.org/show_bug.cgi?id=264864"&gt;https://bugs.webkit.org/show_bug.cgi?id=264864&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; such that it has potentially high risk for Android WebView-based
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; (Windows, Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsLazyLoadScrollMargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This feature is behind an enabled-by-default flag that can be
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; disabled if needed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on WebView 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; compat or interop issues. Please list open issues (e.g. links to known
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; github issues in the project for the feature specification) whose
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; resolution may introduce web compat/interop risk (e.g., changing to 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; naming
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; or structure of the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5106926245642240"&gt;https://chromestatus.com/feature/5106926245642240&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussionsIntent to prototype:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; send an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; send an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt;&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt;&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvCQF36A34oECY-0tpJVjTk%3D2gD_8WcwMWWAyc5_O3JFg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvCQF36A34oECY-0tpJVjTk%3D2gD_8WcwMWWAyc5_O3JFg%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvCQF36A34oECY-0tpJVjTk%3D2gD_8WcwMWWAyc5_O3JFg%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvCQF36A34oECY-0tpJVjTk%3D2gD_8WcwMWWAyc5_O3JFg%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtmB8ehuK2i-NAOHXaa4b-jMOD65t-mT6hVWMOMF63Lbw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtmB8ehuK2i-NAOHXaa4b-jMOD65t-mT6hVWMOMF63Lbw%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08544.html</id>
        <title>[blink-dev] PSA: FedCM: Chrome relaxes explicit mediation requirement if IdP has third party cookies access</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08544.html"/>
        <updated>2023-11-30T15:26:58.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08544.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+PSA%5C%3A+FedCM%5C%3A+Chrome+relaxes+explicit+mediation+requirement+if+IdP+has+third+party+cookies+access%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] PSA: FedCM: Chrome relaxes explicit mediation requirement if IdP has third party cookies access&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Yi+Gu%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Yi Gu&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231130" rel="nofollow"&gt;Thu, 30 Nov 2023 07:26:58 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;In the FedCM API, when a user is signing in to a relying party (RP) with an
identity provider (IdP) in the browser for the first time,  the browser
will treat them as a “new” user since it didn’t observe such a sign-in
moment before. When the FedCM API is invoked again on the same RP with the
same IdP, the browser will treat them as a “returning” user and may trigger
“returning user only features” like auto re-authentication
&amp;lt;&lt;a  rel="nofollow" href="https://developer.chrome.com/blog/fedcm-auto-reauthn/"&gt;https://developer.chrome.com/blog/fedcm-auto-reauthn/&lt;/a&gt;&amp;gt; or providing user
info to IdP
&amp;lt;&lt;a  rel="nofollow" href="https://developer.chrome.com/blog/fedcm-chrome-116-updates/#user-info"&gt;https://developer.chrome.com/blog/fedcm-chrome-116-updates/#user-info&lt;/a&gt;&amp;gt;.&lt;/pre&gt;&lt;pre&gt;

Strictly speaking, the source of truth about whether a user has already
created an account on rp.example with idp.example is held by the IdP. The
current implementation could lead to suboptimal UX in some cases. For
example, a user may create such an account in browser A and can be auto
re-authenticated without explicit permission in browser A; however, because
of the potential of abuse (e.g. a tracker impersonating an IdP can lie to
the browser to bypass explicit mediation), when FedCM API is called in
browser B, the user-agent requires an explicit user mediation when it
hasn’t observed one, regardless of what it gets from the IdP for privacy
reasons.

However, there are already many ways that an IdP may get access to third
party cookies on the RP: user settings, enterprise policies, heuristics (
Safari
&amp;lt;&lt;a  rel="nofollow" href="https://webkit.org/blog/8311/intelligent-tracking-prevention-2-0/#:~:text=Temporary%20Compatibility%20Fix%3A%20Automatic%20Storage%20Access%20for%20Popups"&gt;https://webkit.org/blog/8311/intelligent-tracking-prevention-2-0/#:~:text=Temporary%20Compatibility%20Fix%3A%20Automatic%20Storage%20Access%20for%20Popups&lt;/a&gt;&amp;gt;,
Firefox
&amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/Privacy/State_Partitioning#storage_access_heuristics"&gt;https://developer.mozilla.org/en-US/docs/Web/Privacy/State_Partitioning#storage_access_heuristics&lt;/a&gt;&amp;gt;,
Chrome in progress &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/feature/5181771549507584"&gt;https://chromestatus.com/feature/5181771549507584&lt;/a&gt;&amp;gt;) and
other Web Platform APIs (e.g. Storage Access API
&amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Storage_Access_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Storage_Access_API&lt;/a&gt;&amp;gt;). In
Chrome, this choice is represented by the navigator.cookieEnabled
&amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/cookieEnabled"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Navigator/cookieEnabled&lt;/a&gt;&amp;gt;
API.

FedCM provides only a subset of the capabilities possible via third-party
cookies, so if the IdP already has access to third-party cookies on the RP,
access to FedCM presents no additional privacy risk.

Therefore, starting from M121, Chrome will take the “IdP having third party
cookies access” factor into consideration and relax the returning user
criteria. In particular:

   1.

   If the IdP doesn’t already have access to third party cookies on the RP,
   continue FedCM’s algorithm as usual
   2.

   Otherwise, if the IdP claims that the user has created an account on the
   RP (through the approved_clients
   
&amp;lt;&lt;a  rel="nofollow" href="https://fedidcg.github.io/FedCM/#dom-identityprovideraccount-approved_clients"&gt;https://fedidcg.github.io/FedCM/#dom-identityprovideraccount-approved_clients&lt;/a&gt;&amp;gt;
   list), Chrome will trust that signal and treat the user as a “returning
   user”, e.g. allowing auto re-authentication
   &amp;lt;&lt;a  rel="nofollow" href="https://developer.chrome.com/blog/fedcm-auto-reauthn/"&gt;https://developer.chrome.com/blog/fedcm-auto-reauthn/&lt;/a&gt;&amp;gt; if other
   conditions are met.

It’s worth noting that Chrome will not override its own returning user
knowledge with the IdP’s claim. For example, when an IdP loses the third
party cookies access in the future, if a user has not explicitly granted
permission via the FedCM UI, Chrome will still treat them as a new user.

This change is backward compatible and we have communicated with existing
partners such that they are aware of the implications.

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACh2XCNpWu49YfOJf9pSXV25vJJw1iH1x9P8aVKBEDFP%3DonMcQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACh2XCNpWu49YfOJf9pSXV25vJJw1iH1x9P8aVKBEDFP%3DonMcQ%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08543.html</id>
        <title>Re: [blink-dev] Intent to Ship: Lazy load scroll margin</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08543.html"/>
        <updated>2023-11-30T13:33:41.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08543.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Lazy+load+scroll+margin%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Lazy load scroll margin&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Rick+Byers%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Rick Byers&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231130" rel="nofollow"&gt;Thu, 30 Nov 2023 05:33:41 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Thank you Traian!

On Thu, Nov 30, 2023 at 7:27 PM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt; wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; Hi Rick,
&amp;gt;
&amp;gt; Yes. I uploaded a CL that increases the spacer size by 30px:
&amp;gt; &lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5075126"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5075126&lt;/a&gt;
&amp;gt;
&amp;gt; The tests are now failing as expected on Safari:
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=pr_head&amp;max-count=1&amp;pr=43446"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=pr_head&amp;max-count=1&amp;pr=43446&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; On Thu, Nov 30, 2023 at 12:14 AM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Interesting. Could you try to improve the tests to capture the interop
&amp;gt;&amp;gt; difference and ensure passing reflects full conformance to the spec? We
&amp;gt;&amp;gt; rely on WPTs as our quantifiable measure of interoperability...
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Rick
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Thu, Nov 30, 2023 at 5:07 PM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Thank you Rick!
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; I did some investigating into why WebKit is passing some of the new WPTs
&amp;gt;&amp;gt;&amp;gt; for lazy loaded images.
&amp;gt;&amp;gt;&amp;gt; I think it might be because WebKit is considering the edge as inclusive,
&amp;gt;&amp;gt;&amp;gt; while Blink and Gecko do not.
&amp;gt;&amp;gt;&amp;gt; In the following example if the spacer height is 100px Safari will
&amp;gt;&amp;gt;&amp;gt; report intersecting as true while Chrome and FireFox would report it as
&amp;gt;&amp;gt;&amp;gt; false.
&amp;gt;&amp;gt;&amp;gt; If the height is increased to 101px, all 3 browsers will report the
&amp;gt;&amp;gt;&amp;gt; intersection as false.
&amp;gt;&amp;gt;&amp;gt; &amp;lt;!DOCTYPE html&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;style&amp;gt;
&amp;gt;&amp;gt;&amp;gt; #scroller { width: 100px; height: 100px; overflow: scroll;
&amp;gt;&amp;gt;&amp;gt; background-color: gray; }
&amp;gt;&amp;gt;&amp;gt; #spacer { width: 50px; height: 100px; }
&amp;gt;&amp;gt;&amp;gt; #target { width: 50px; height: 50px; background-color: green; }
&amp;gt;&amp;gt;&amp;gt; &amp;lt;/style&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=scroller&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=spacer&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=target&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;script&amp;gt;
&amp;gt;&amp;gt;&amp;gt; let entries = [];
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; window.onload = function() {
&amp;gt;&amp;gt;&amp;gt; const observer = new IntersectionObserver(
&amp;gt;&amp;gt;&amp;gt; callback,
&amp;gt;&amp;gt;&amp;gt; {
&amp;gt;&amp;gt;&amp;gt; rootMargin: &amp;quot;0px&amp;quot;
&amp;gt;&amp;gt;&amp;gt; }
&amp;gt;&amp;gt;&amp;gt; );
&amp;gt;&amp;gt;&amp;gt; observer.observe(target);
&amp;gt;&amp;gt;&amp;gt; };
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; function callback(entries) {
&amp;gt;&amp;gt;&amp;gt; console.log(`isIntersecting = ${entries[0].isIntersecting}`);
&amp;gt;&amp;gt;&amp;gt; }
&amp;gt;&amp;gt;&amp;gt; &amp;lt;/script&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Mon, Nov 27, 2023 at 11:40 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 2:37 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Thanks, that sounds like a strict improvement.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 6:25 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Yes, that's correct.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:18 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do I understand correctly that currently lazy-loaded images in CSS
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scrollers have suboptimal behavior and this would improve that without
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; potentially harming other cases?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 1:55 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailstcap...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; A short (inline) explainer would help reviewers to understand e.g. if
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; this involves changes to the API surface that developers need to care 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; about.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Can you write a few words on the impact on developers?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#lazy-load-root-margin"&gt;https://html.spec.whatwg.org/#lazy-load-root-margin&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The spec doesn't mention anything specific around root margins or
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scroll margins (other than the algorithm name).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Are these concepts interoperable?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; I dug around a little to try to better understand this. The HTML spec
&amp;gt;&amp;gt;&amp;gt;&amp;gt; does mention
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element"&gt;https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;  setting
&amp;gt;&amp;gt;&amp;gt;&amp;gt; the &amp;quot;scrollMargin&amp;quot; on the IntersectionObserver, a new property we recently
&amp;gt;&amp;gt;&amp;gt;&amp;gt; shipped (I2S
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ).
&amp;gt;&amp;gt;&amp;gt;&amp;gt; While WebKit and Gecko aren't yet passing the WPT tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin"&gt;https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; for this yet, interestingly WebKit is already passing
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; most of the newly added
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5023396"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5023396&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WPTs for lazy loaded images in particular. So perhaps their implementation
&amp;gt;&amp;gt;&amp;gt;&amp;gt; already handled this?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Seems reasonable to me - LGTM1
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Changes the lazy load intersection observer's init dictionary to
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; use a scrollMargin instead of a rootMargin. This allows lazy loading 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; images
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; contained inside CSS scrollers, like carousels, to load as expected 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; near the viewport instead of the current behavior where these images 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; load
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when at least one pixel is intersecting the viewport.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Image
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Search tagslazyload
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:lazyload"&gt;https://chromestatus.com/features#tags:lazyload&lt;/a&gt;&amp;gt;, scrollmargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:scrollmargin"&gt;https://chromestatus.com/features#tags:scrollmargin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Overall low as scroll margin also applies to the root element thus
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; not affecting lazy loading images that are currently loading with just 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; root margin.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431"&gt;https://github.com/w3c/IntersectionObserver/issues/431&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1864794"&gt;https://bugzilla.mozilla.org/show_bug.cgi?id=1864794&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435"&gt;https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ) &lt;a  rel="nofollow" href="https://bugs.webkit.org/show_bug.cgi?id=264864"&gt;https://bugs.webkit.org/show_bug.cgi?id=264864&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; such that it has potentially high risk for Android WebView-based
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsLazyLoadScrollMargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This feature is behind an enabled-by-default flag that can be
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; disabled if needed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on WebView 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; or interop issues. Please list open issues (e.g. links to known github
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; issues in the project for the feature specification) whose resolution 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; may
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; structure of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5106926245642240"&gt;https://chromestatus.com/feature/5106926245642240&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussionsIntent to prototype:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; send an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFUtAY_S2tKr5ykSHqkRLD_z2G4PuOaDUO%3DZP2Xf3ntxkGGY-A%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFUtAY_S2tKr5ykSHqkRLD_z2G4PuOaDUO%3DZP2Xf3ntxkGGY-A%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08542.html</id>
        <title>[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08542.html"/>
        <updated>2023-11-30T11:34:31.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08542.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Prototype%5C%3A+Extending+Storage+Access+API+%5C%28SAA%5C%29+to+non%5C-cookie+storage%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Jesper+van+den+Ende%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Jesper van den Ende&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231130" rel="nofollow"&gt;Thu, 30 Nov 2023 03:34:31 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;&amp;gt; requestStorageAccess currently provides no way to directly control any 
surfaces with first-party SameSite=Strict cookies
Ah I see, that makes sense yeah. Thanks for clarifying!&lt;/pre&gt;&lt;pre&gt;

&amp;gt; Chrome would want to see more developer interest before considering that.
That's understandable, I reckon this is probably a super niche use case.
I found one other developer that seemed affected by this 
(&lt;a  rel="nofollow" href="https://crbug.com/1490528"&gt;https://crbug.com/1490528&lt;/a&gt;), but for all I know they found a different 
solution for their use case.

I'll try to see if I can get something going with some combination of 
BroadcastChannel and window.open(). And otherwise I can always fall back to 
using WebRTC.
Anyway, thanks for the responses!
On Thursday, November 30, 2023 at 3:04:02 AM UTC+1 Ari Chivukula wrote:

&amp;gt; requestStorageAccess currently provides no way to directly control any 
&amp;gt; surfaces with first-party SameSite=Strict cookies. If the handle returned 
&amp;gt; allowed you to access first-party SharedWorkers, those workers would have 
&amp;gt; access to SameSite=Strict cookies. Chrome's decision at this juncture is to 
&amp;gt; not provide that as it would the assurances around what party was making 
&amp;gt; the request the cookies were included in.
&amp;gt;
&amp;gt; Chrome could provide some independent pool of SharedWorkers accessible via 
&amp;gt; requestStorageAccess in a third-party context that did not have access to 
&amp;gt; SameSite=Strict cookies, but where otherwise essentially first-party 
&amp;gt; workers. Chrome could even make these workers accessible from a first-party 
&amp;gt; context via some additional argument (e.g., SharedWorker(..., 
&amp;gt; {enableThirdPartyAccessWithoutSameSiteStrictCookies: true}). That might 
&amp;gt; meet some use cases, but not others. Chrome would want to see more 
&amp;gt; developer interest before considering that.
&amp;gt;
&amp;gt; As for two separate frames on different origins messaging each other, if 
&amp;gt; one frame opens the other in a way that allows access via window.opener, 
&amp;gt; then the two frames can use postMessage cross-origin. Otherwise there isn't 
&amp;gt; a way to message between frames without some sort of extension mediating 
&amp;gt; the process AFAIK.
&amp;gt;
&amp;gt; ~ Ari Chivukula (Their/There/They're)
&amp;gt;
&amp;gt;
&amp;gt; On Wed, Nov 29, 2023 at 4:34 PM Jesper van den Ende &amp;lt;jesper...@gmail.com&amp;gt; 
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Ah that's too bad.
&amp;gt;&amp;gt; I don't think using object urls would be performant. The data in the 
&amp;gt;&amp;gt; ArrayBuffer is still accessible after creating the object url, so that does 
&amp;gt;&amp;gt; not seem like it is getting transferred.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Is there any chance an api could be exposed in the future that would 
&amp;gt;&amp;gt; allow two separate origins to share the same SharedWorker?
&amp;gt;&amp;gt; Being able to access requestStorageAccess() from within a SharedWorker 
&amp;gt;&amp;gt; wouldn't work for my use case, since at that point the two separate workers 
&amp;gt;&amp;gt; have already been created.
&amp;gt;&amp;gt; I need some way to request storage access before creating the 
&amp;gt;&amp;gt; SharedWorker.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Maybe I'm misunderstanding the issue of SameSite=Strict cookies being 
&amp;gt;&amp;gt; accessible within SharedWorkers, but what if you could only gain access to 
&amp;gt;&amp;gt; `handle.SharedWorker` when you requested storageAccess with {all: true}?
&amp;gt;&amp;gt; Wouldn't that mean you explicitly requested storage access for 
&amp;gt;&amp;gt; everything, thus allowing access to any existing SharedWorkers that may 
&amp;gt;&amp;gt; have been created?
&amp;gt;&amp;gt; On Wednesday, November 29, 2023 at 12:05:04 AM UTC+1 Ari Chivukula wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Testing locally, event.source seems always to be null when using 
&amp;gt;&amp;gt;&amp;gt; Broadcast Channel. This seems to align with the spec which doesn't mention 
&amp;gt;&amp;gt;&amp;gt; setting source at all for the MessageEvent: 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://html.spec.whatwg.org/multipage/web-messaging.html#broadcasting-to-other-browsing-contexts"&gt;https://html.spec.whatwg.org/multipage/web-messaging.html#broadcasting-to-other-browsing-contexts&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt; and the chrome code which doesn't set it: 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/broadcastchannel/broadcast_channel.cc;drc=8e78783dc1f7007bad46d657c9f332614e240fd8;l=173"&gt;https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/broadcastchannel/broadcast_channel.cc;drc=8e78783dc1f7007bad46d657c9f332614e240fd8;l=173&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; It looks like storing the ArrayBuffer as a Blob (
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL_static"&gt;https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL_static&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt; and sharing the resulting URL via BroadcastChannel or other means may work, 
&amp;gt;&amp;gt;&amp;gt; but I'm unsure about the efficiency of such an approach.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; ~ Ari Chivukula (Their/There/They're)
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 28, 2023 at 5:35 PM Jesper van den Ende &amp;lt;jesper...@gmail.com&amp;gt; 
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Awesome, thanks for the info!
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; A broadcast channel doesn't work for my use case unfortunately.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; I'd like to create a MessageChannel 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel"&gt;https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel&lt;/a&gt;&amp;gt; and 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; then transfer the two MessagePorts to both tabs.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Since a broadcast channel doesn't allow transferring objects 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/7088#issuecomment-922529073"&gt;https://github.com/whatwg/html/issues/7088#issuecomment-922529073&lt;/a&gt;&amp;gt;, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; there's no way for me to send messages to both tabs without it also being 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; sent to all other tabs.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; And with no way to transfer things such as ArrayBuffers, I reckon this 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; would also be pretty inefficient for some operations.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; But maybe I'm missing something? One thing that comes to mind is using 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; the MessageEvent.source to get access to the window of another tab and 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; then 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; send a message to it directly. But I'm not sure if that would work.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tuesday, November 28, 2023 at 10:44:54 PM UTC+1 Ari Chivukula wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Thanks for letting us know about your use case. Yes, Chrome has 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; decided not to pursue Shared Worker access via the handle returned by 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; requestStorageAccess given it would allow access to SameSite=Strict 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; cookies 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; to a third-party iframe via that shared worker. We are examining an 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; alternate option where requestStorageAccess will be available in workers: 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/157"&gt;https://github.com/privacycg/storage-access/issues/157&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Either way, this change will probably require switching from using a 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; (shared) Shared Worker for tab discovery to something like Broadcast 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Channel 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API&lt;/a&gt;&amp;gt;which
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; would allow for cross-tab messaging without the need to be online.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ~ Ari Chivukula (Their/There/They're)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 28, 2023 at 4:35 PM Jesper van den Ende &amp;lt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; jesper...@gmail.com&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Hi all,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; I noticed the TODOs for shared workers were removed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; My application relies on cross origin shared workers and to be honest 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; this was the main part of the proposal I was looking forward to haha.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; I'm currently relying on the origin trial for disabling third party 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; storage partitioning.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Are there any plans for the shared worker use case? I'm not sure what 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; to do once the origin trial expires. And as far as I can tell there is 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; no 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; good alternative for what I'm trying to achieve.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specifically, I'd like to be able to discover other tabs (that are 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; also broadcasting their existence using the same shared worker) and then 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; initiate a connection to them.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; One alternative I could think of was using WebRTC for this, but 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ideally I'd like this to work while the user is offline, which is not 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; possible with WebRTC.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is there any discussion about the plan to remove shared workers from 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the proposal? I couldn't find anything about SameSite=Strict cookies 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; anywhere other than the commit that removed the TODOs.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Cheers,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Jesper
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Monday, October 2, 2023 at 3:44:05 PM UTC+2 Ari Chivukula wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ari...@chromium.org, wande...@chromium.org, joha...@chromium.org, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; hel...@google.com
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://arichiv.github.io/saa-non-cookie-storage/"&gt;https://arichiv.github.io/saa-non-cookie-storage/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; We propose an extension of the Storage Access API 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://webkit.org/blog/8124/introducing-storage-access-api/"&gt;https://webkit.org/blog/8124/introducing-storage-access-api/&lt;/a&gt;&amp;gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; (backwards compatible) to allow access to unpartitioned (cookie and 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; non-cookie) storage in a third-party context, and imagine the API 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; mechanics 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; to be roughly like this (JS running in an embedded iframe):
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Request a new storage handle via rSA (this should prompt the user)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; let handle = await document.requestStorageAccess({all: true});
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Write some cross-site localstorage
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; handle.localStorage.setItem(&amp;quot;userid&amp;quot;, &amp;quot;1234&amp;quot;);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Open or create an indexedDB that is shared with the 1P context
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; let messageDB = handle.defaultBucket.indexedDB.open(&amp;quot;messages&amp;quot;);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The same flow would be used by iframes to get a storage handle when 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; their top-level ancestor successfully called rSAFor 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/requestStorageAccessFor"&gt;https://github.com/privacycg/requestStorageAccessFor&lt;/a&gt;&amp;gt;, just that 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; in this case the storage-access permission was already granted and thus 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; rSA call would not require a user gesture or show a prompt, allowing 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; for 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; “hidden” iframes accessing storage.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Browsers currently shipping the Storage Access API apply varying 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; methods of when or how to ask the user for permission to grant 3p 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; cookie 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; access to a site. Given that this proposal involves extending the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; existing 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Storage Access API, while maintaining largely the same implications 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; (from a 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; privacy/security perspective) to the user, a consistent prompt for 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; cookie 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and non-cookie access is preferred. No prompt is needed when the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; origins 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; are RWS (Related Website Sets, the new name for First Party Sets).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink&amp;gt;Storage 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Motivation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; There has been increasing developer 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and implementer 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/102"&gt;https://github.com/privacycg/storage-access/issues/102&lt;/a&gt;&amp;gt; interest 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; in first-party DOM Storage 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API&lt;/a&gt;&amp;gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and Quota Managed Storage 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API&lt;/a&gt;&amp;gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; being available in third-party contexts the same way that Cookies 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; already can be &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access"&gt;https://github.com/privacycg/storage-access&lt;/a&gt;&amp;gt;. In 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the absence of such a solution, we would in effect be pushing 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; developers to 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; migrate to Cookies from other storage mechanisms. There are significant 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; tradeoffs between Cookie and non-Cookie storage (size, flexibility, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; server 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; exposure, network request size, etc.) that could cause a detriment in 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; user 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; experience from a privacy, security and performance perspective. To 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; prevent 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; sub-optimal use of cookies and to preserve context, we propose a 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; solution 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; for developers to regain 3p access to unpartitioned storage in select 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; instances to avoid user-facing breakage in browsers shipping storage 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; partitioning.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/906"&gt;https://github.com/w3ctag/design-reviews/issues/906&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The Storage Access API is already implemented in Safari, Firefox, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and Chrome 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://caniuse.com/mdn-api_document_requeststorageaccess"&gt;https://caniuse.com/mdn-api_document_requeststorageaccess&lt;/a&gt;&amp;gt;, but 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the proposed API shape would not change existing behavior without new 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; arguments added.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Gecko: &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/898"&gt;https://github.com/mozilla/standards-positions/issues/898&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebKit: &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/262"&gt;https://github.com/WebKit/standards-positions/issues/262&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Web developers: Positive 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Storage written can be examined in devtools.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tests will be added.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://crbug.com/1484966"&gt;https://crbug.com/1484966&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5175585823522816"&gt;https://chromestatus.com/feature/5175585823522816&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/046addaa-dee1-4a41-b0a1-e2cda5cda5aen%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/046addaa-dee1-4a41-b0a1-e2cda5cda5aen%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08541.html</id>
        <title>Re: [blink-dev] Intent to Ship: Lazy load scroll margin</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08541.html"/>
        <updated>2023-11-30T10:34:13.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08541.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Lazy+load+scroll+margin%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Lazy load scroll margin&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22PhistucK%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;PhistucK&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231130" rel="nofollow"&gt;Thu, 30 Nov 2023 02:34:13 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;I hit a case where even when 5 - 10 pixels of the image is in the scrolling
viewport, it is still not loaded, so hopefully it will take care of it as
well. Let me know when this is in canary and I can try and test it out (at
the moment I am not using lazy loading as a result). :)&lt;/pre&gt;&lt;pre&gt;

☆*PhistucK*


On Thu, Nov 30, 2023 at 10:27 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt; wrote:

&amp;gt; Hi Rick,
&amp;gt;
&amp;gt; Yes. I uploaded a CL that increases the spacer size by 30px:
&amp;gt; &lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5075126"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5075126&lt;/a&gt;
&amp;gt;
&amp;gt; The tests are now failing as expected on Safari:
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=pr_head&amp;max-count=1&amp;pr=43446"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=pr_head&amp;max-count=1&amp;pr=43446&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; On Thu, Nov 30, 2023 at 12:14 AM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Interesting. Could you try to improve the tests to capture the interop
&amp;gt;&amp;gt; difference and ensure passing reflects full conformance to the spec? We
&amp;gt;&amp;gt; rely on WPTs as our quantifiable measure of interoperability...
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Rick
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Thu, Nov 30, 2023 at 5:07 PM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Thank you Rick!
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; I did some investigating into why WebKit is passing some of the new WPTs
&amp;gt;&amp;gt;&amp;gt; for lazy loaded images.
&amp;gt;&amp;gt;&amp;gt; I think it might be because WebKit is considering the edge as inclusive,
&amp;gt;&amp;gt;&amp;gt; while Blink and Gecko do not.
&amp;gt;&amp;gt;&amp;gt; In the following example if the spacer height is 100px Safari will
&amp;gt;&amp;gt;&amp;gt; report intersecting as true while Chrome and FireFox would report it as
&amp;gt;&amp;gt;&amp;gt; false.
&amp;gt;&amp;gt;&amp;gt; If the height is increased to 101px, all 3 browsers will report the
&amp;gt;&amp;gt;&amp;gt; intersection as false.
&amp;gt;&amp;gt;&amp;gt; &amp;lt;!DOCTYPE html&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;style&amp;gt;
&amp;gt;&amp;gt;&amp;gt; #scroller { width: 100px; height: 100px; overflow: scroll;
&amp;gt;&amp;gt;&amp;gt; background-color: gray; }
&amp;gt;&amp;gt;&amp;gt; #spacer { width: 50px; height: 100px; }
&amp;gt;&amp;gt;&amp;gt; #target { width: 50px; height: 50px; background-color: green; }
&amp;gt;&amp;gt;&amp;gt; &amp;lt;/style&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=scroller&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=spacer&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;div id=target&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;script&amp;gt;
&amp;gt;&amp;gt;&amp;gt; let entries = [];
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; window.onload = function() {
&amp;gt;&amp;gt;&amp;gt; const observer = new IntersectionObserver(
&amp;gt;&amp;gt;&amp;gt; callback,
&amp;gt;&amp;gt;&amp;gt; {
&amp;gt;&amp;gt;&amp;gt; rootMargin: &amp;quot;0px&amp;quot;
&amp;gt;&amp;gt;&amp;gt; }
&amp;gt;&amp;gt;&amp;gt; );
&amp;gt;&amp;gt;&amp;gt; observer.observe(target);
&amp;gt;&amp;gt;&amp;gt; };
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; function callback(entries) {
&amp;gt;&amp;gt;&amp;gt; console.log(`isIntersecting = ${entries[0].isIntersecting}`);
&amp;gt;&amp;gt;&amp;gt; }
&amp;gt;&amp;gt;&amp;gt; &amp;lt;/script&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Mon, Nov 27, 2023 at 11:40 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 2:37 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Thanks, that sounds like a strict improvement.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 6:25 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Yes, that's correct.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:18 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do I understand correctly that currently lazy-loaded images in CSS
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scrollers have suboptimal behavior and this would improve that without
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; potentially harming other cases?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 1:55 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailstcap...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; A short (inline) explainer would help reviewers to understand e.g. if
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; this involves changes to the API surface that developers need to care 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; about.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Can you write a few words on the impact on developers?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#lazy-load-root-margin"&gt;https://html.spec.whatwg.org/#lazy-load-root-margin&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The spec doesn't mention anything specific around root margins or
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scroll margins (other than the algorithm name).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Are these concepts interoperable?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; I dug around a little to try to better understand this. The HTML spec
&amp;gt;&amp;gt;&amp;gt;&amp;gt; does mention
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element"&gt;https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;  setting
&amp;gt;&amp;gt;&amp;gt;&amp;gt; the &amp;quot;scrollMargin&amp;quot; on the IntersectionObserver, a new property we recently
&amp;gt;&amp;gt;&amp;gt;&amp;gt; shipped (I2S
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ).
&amp;gt;&amp;gt;&amp;gt;&amp;gt; While WebKit and Gecko aren't yet passing the WPT tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin"&gt;https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; for this yet, interestingly WebKit is already passing
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; most of the newly added
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5023396"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5023396&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WPTs for lazy loaded images in particular. So perhaps their implementation
&amp;gt;&amp;gt;&amp;gt;&amp;gt; already handled this?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Seems reasonable to me - LGTM1
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Changes the lazy load intersection observer's init dictionary to
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; use a scrollMargin instead of a rootMargin. This allows lazy loading 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; images
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; contained inside CSS scrollers, like carousels, to load as expected 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; near the viewport instead of the current behavior where these images 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; load
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when at least one pixel is intersecting the viewport.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Image
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Search tagslazyload
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:lazyload"&gt;https://chromestatus.com/features#tags:lazyload&lt;/a&gt;&amp;gt;, scrollmargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:scrollmargin"&gt;https://chromestatus.com/features#tags:scrollmargin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Overall low as scroll margin also applies to the root element thus
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; not affecting lazy loading images that are currently loading with just 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; root margin.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431"&gt;https://github.com/w3c/IntersectionObserver/issues/431&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1864794"&gt;https://bugzilla.mozilla.org/show_bug.cgi?id=1864794&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435"&gt;https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ) &lt;a  rel="nofollow" href="https://bugs.webkit.org/show_bug.cgi?id=264864"&gt;https://bugs.webkit.org/show_bug.cgi?id=264864&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; such that it has potentially high risk for Android WebView-based
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsLazyLoadScrollMargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This feature is behind an enabled-by-default flag that can be
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; disabled if needed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on WebView 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; or interop issues. Please list open issues (e.g. links to known github
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; issues in the project for the feature specification) whose resolution 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; may
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; structure of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5106926245642240"&gt;https://chromestatus.com/feature/5106926245642240&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussionsIntent to prototype:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; send an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt; To view this discussion on the web visit
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvCQF36A34oECY-0tpJVjTk%3D2gD_8WcwMWWAyc5_O3JFg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvCQF36A34oECY-0tpJVjTk%3D2gD_8WcwMWWAyc5_O3JFg%40mail.gmail.com&lt;/a&gt;
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvCQF36A34oECY-0tpJVjTk%3D2gD_8WcwMWWAyc5_O3JFg%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvCQF36A34oECY-0tpJVjTk%3D2gD_8WcwMWWAyc5_O3JFg%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt; .
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CABc02_K_BkQMt5nvQiM6HyDU1TLm%3D8QzMywdqDq%2Bc5_Ty7ZEYw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CABc02_K_BkQMt5nvQiM6HyDU1TLm%3D8QzMywdqDq%2Bc5_Ty7ZEYw%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08540.html</id>
        <title>Re: [blink-dev] Intent to Ship: Lazy load scroll margin</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08540.html"/>
        <updated>2023-11-30T10:27:42.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08540.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Lazy+load+scroll+margin%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Lazy load scroll margin&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Traian+Captan%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Traian Captan&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231130" rel="nofollow"&gt;Thu, 30 Nov 2023 02:27:42 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Hi Rick,

Yes. I uploaded a CL that increases the spacer size by 30px:
&lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5075126"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5075126&lt;/a&gt;&lt;/pre&gt;&lt;pre&gt;

The tests are now failing as expected on Safari:
&lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=pr_head&amp;max-count=1&amp;pr=43446"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=pr_head&amp;max-count=1&amp;pr=43446&lt;/a&gt;


On Thu, Nov 30, 2023 at 12:14 AM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:

&amp;gt; Interesting. Could you try to improve the tests to capture the interop
&amp;gt; difference and ensure passing reflects full conformance to the spec? We
&amp;gt; rely on WPTs as our quantifiable measure of interoperability...
&amp;gt;
&amp;gt; Rick
&amp;gt;
&amp;gt; On Thu, Nov 30, 2023 at 5:07 PM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Thank you Rick!
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; I did some investigating into why WebKit is passing some of the new WPTs
&amp;gt;&amp;gt; for lazy loaded images.
&amp;gt;&amp;gt; I think it might be because WebKit is considering the edge as inclusive,
&amp;gt;&amp;gt; while Blink and Gecko do not.
&amp;gt;&amp;gt; In the following example if the spacer height is 100px Safari will report
&amp;gt;&amp;gt; intersecting as true while Chrome and FireFox would report it as false.
&amp;gt;&amp;gt; If the height is increased to 101px, all 3 browsers will report the
&amp;gt;&amp;gt; intersection as false.
&amp;gt;&amp;gt; &amp;lt;!DOCTYPE html&amp;gt;
&amp;gt;&amp;gt; &amp;lt;style&amp;gt;
&amp;gt;&amp;gt; #scroller { width: 100px; height: 100px; overflow: scroll;
&amp;gt;&amp;gt; background-color: gray; }
&amp;gt;&amp;gt; #spacer { width: 50px; height: 100px; }
&amp;gt;&amp;gt; #target { width: 50px; height: 50px; background-color: green; }
&amp;gt;&amp;gt; &amp;lt;/style&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &amp;lt;div id=scroller&amp;gt;
&amp;gt;&amp;gt; &amp;lt;div id=spacer&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt;&amp;gt; &amp;lt;div id=target&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt;&amp;gt; &amp;lt;/div&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &amp;lt;script&amp;gt;
&amp;gt;&amp;gt; let entries = [];
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; window.onload = function() {
&amp;gt;&amp;gt; const observer = new IntersectionObserver(
&amp;gt;&amp;gt; callback,
&amp;gt;&amp;gt; {
&amp;gt;&amp;gt; rootMargin: &amp;quot;0px&amp;quot;
&amp;gt;&amp;gt; }
&amp;gt;&amp;gt; );
&amp;gt;&amp;gt; observer.observe(target);
&amp;gt;&amp;gt; };
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; function callback(entries) {
&amp;gt;&amp;gt; console.log(`isIntersecting = ${entries[0].isIntersecting}`);
&amp;gt;&amp;gt; }
&amp;gt;&amp;gt; &amp;lt;/script&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Mon, Nov 27, 2023 at 11:40 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 2:37 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Thanks, that sounds like a strict improvement.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 6:25 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Yes, that's correct.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:18 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do I understand correctly that currently lazy-loaded images in CSS
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scrollers have suboptimal behavior and this would improve that without
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; potentially harming other cases?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 1:55 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailstcap...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; A short (inline) explainer would help reviewers to understand e.g. if
&amp;gt;&amp;gt;&amp;gt;&amp;gt; this involves changes to the API surface that developers need to care 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; about.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Can you write a few words on the impact on developers?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#lazy-load-root-margin"&gt;https://html.spec.whatwg.org/#lazy-load-root-margin&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; The spec doesn't mention anything specific around root margins or
&amp;gt;&amp;gt;&amp;gt;&amp;gt; scroll margins (other than the algorithm name).
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Are these concepts interoperable?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; I dug around a little to try to better understand this. The HTML spec
&amp;gt;&amp;gt;&amp;gt; does mention
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element"&gt;https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;  setting
&amp;gt;&amp;gt;&amp;gt; the &amp;quot;scrollMargin&amp;quot; on the IntersectionObserver, a new property we recently
&amp;gt;&amp;gt;&amp;gt; shipped (I2S
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; ).
&amp;gt;&amp;gt;&amp;gt; While WebKit and Gecko aren't yet passing the WPT tests
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin"&gt;https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; for this yet, interestingly WebKit is already passing
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; most of the newly added
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5023396"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5023396&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; WPTs for lazy loaded images in particular. So perhaps their implementation
&amp;gt;&amp;gt;&amp;gt; already handled this?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Seems reasonable to me - LGTM1
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Changes the lazy load intersection observer's init dictionary to use
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; a scrollMargin instead of a rootMargin. This allows lazy loading images
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; contained inside CSS scrollers, like carousels, to load as expected when
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; near the viewport instead of the current behavior where these images 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; load
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when at least one pixel is intersecting the viewport.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Image
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Search tagslazyload
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:lazyload"&gt;https://chromestatus.com/features#tags:lazyload&lt;/a&gt;&amp;gt;, scrollmargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:scrollmargin"&gt;https://chromestatus.com/features#tags:scrollmargin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Overall low as scroll margin also applies to the root element thus
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; not affecting lazy loading images that are currently loading with just a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; root margin.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431"&gt;https://github.com/w3c/IntersectionObserver/issues/431&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1864794"&gt;https://bugzilla.mozilla.org/show_bug.cgi?id=1864794&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435"&gt;https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ) &lt;a  rel="nofollow" href="https://bugs.webkit.org/show_bug.cgi?id=264864"&gt;https://bugs.webkit.org/show_bug.cgi?id=264864&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsLazyLoadScrollMargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This feature is behind an enabled-by-default flag that can be
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; disabled if needed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on WebView 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; or interop issues. Please list open issues (e.g. links to known github
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; issues in the project for the feature specification) whose resolution 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; may
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; structure of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5106926245642240"&gt;https://chromestatus.com/feature/5106926245642240&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussionsIntent to prototype:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; send an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvCQF36A34oECY-0tpJVjTk%3D2gD_8WcwMWWAyc5_O3JFg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvCQF36A34oECY-0tpJVjTk%3D2gD_8WcwMWWAyc5_O3JFg%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08539.html</id>
        <title>Re: [blink-dev] Intent to Ship: Lazy load scroll margin</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08539.html"/>
        <updated>2023-11-30T08:14:14.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08539.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Lazy+load+scroll+margin%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Lazy load scroll margin&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Rick+Byers%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Rick Byers&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231130" rel="nofollow"&gt;Thu, 30 Nov 2023 00:14:14 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Interesting. Could you try to improve the tests to capture the interop
difference and ensure passing reflects full conformance to the spec? We
rely on WPTs as our quantifiable measure of interoperability...&lt;/pre&gt;&lt;pre&gt;

Rick

On Thu, Nov 30, 2023 at 5:07 PM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt; wrote:

&amp;gt; Thank you Rick!
&amp;gt;
&amp;gt; I did some investigating into why WebKit is passing some of the new WPTs
&amp;gt; for lazy loaded images.
&amp;gt; I think it might be because WebKit is considering the edge as inclusive,
&amp;gt; while Blink and Gecko do not.
&amp;gt; In the following example if the spacer height is 100px Safari will report
&amp;gt; intersecting as true while Chrome and FireFox would report it as false.
&amp;gt; If the height is increased to 101px, all 3 browsers will report the
&amp;gt; intersection as false.
&amp;gt; &amp;lt;!DOCTYPE html&amp;gt;
&amp;gt; &amp;lt;style&amp;gt;
&amp;gt; #scroller { width: 100px; height: 100px; overflow: scroll;
&amp;gt; background-color: gray; }
&amp;gt; #spacer { width: 50px; height: 100px; }
&amp;gt; #target { width: 50px; height: 50px; background-color: green; }
&amp;gt; &amp;lt;/style&amp;gt;
&amp;gt;
&amp;gt; &amp;lt;div id=scroller&amp;gt;
&amp;gt; &amp;lt;div id=spacer&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt; &amp;lt;div id=target&amp;gt;&amp;lt;/div&amp;gt;
&amp;gt; &amp;lt;/div&amp;gt;
&amp;gt;
&amp;gt; &amp;lt;script&amp;gt;
&amp;gt; let entries = [];
&amp;gt;
&amp;gt; window.onload = function() {
&amp;gt; const observer = new IntersectionObserver(
&amp;gt; callback,
&amp;gt; {
&amp;gt; rootMargin: &amp;quot;0px&amp;quot;
&amp;gt; }
&amp;gt; );
&amp;gt; observer.observe(target);
&amp;gt; };
&amp;gt;
&amp;gt; function callback(entries) {
&amp;gt; console.log(`isIntersecting = ${entries[0].isIntersecting}`);
&amp;gt; }
&amp;gt; &amp;lt;/script&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt; On Mon, Nov 27, 2023 at 11:40 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 2:37 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Thanks, that sounds like a strict improvement.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 6:25 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Yes, that's correct.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:18 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do I understand correctly that currently lazy-loaded images in CSS
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scrollers have suboptimal behavior and this would improve that without
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; potentially harming other cases?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 1:55 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailstcap...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; A short (inline) explainer would help reviewers to understand e.g. if
&amp;gt;&amp;gt;&amp;gt; this involves changes to the API surface that developers need to care about.
&amp;gt;&amp;gt;&amp;gt; Can you write a few words on the impact on developers?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#lazy-load-root-margin"&gt;https://html.spec.whatwg.org/#lazy-load-root-margin&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; The spec doesn't mention anything specific around root margins or scroll
&amp;gt;&amp;gt;&amp;gt; margins (other than the algorithm name).
&amp;gt;&amp;gt;&amp;gt; Are these concepts interoperable?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; I dug around a little to try to better understand this. The HTML spec
&amp;gt;&amp;gt; does mention
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element"&gt;https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;  setting
&amp;gt;&amp;gt; the &amp;quot;scrollMargin&amp;quot; on the IntersectionObserver, a new property we recently
&amp;gt;&amp;gt; shipped (I2S
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; ).
&amp;gt;&amp;gt; While WebKit and Gecko aren't yet passing the WPT tests
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin"&gt;https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; for this yet, interestingly WebKit is already passing
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; most of the newly added
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5023396"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5023396&lt;/a&gt;&amp;gt; WPTs
&amp;gt;&amp;gt; for lazy loaded images in particular. So perhaps their implementation
&amp;gt;&amp;gt; already handled this?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Seems reasonable to me - LGTM1
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Changes the lazy load intersection observer's init dictionary to use
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; a scrollMargin instead of a rootMargin. This allows lazy loading images
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; contained inside CSS scrollers, like carousels, to load as expected when
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; near the viewport instead of the current behavior where these images load
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when at least one pixel is intersecting the viewport.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Image
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Search tagslazyload &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:lazyload"&gt;https://chromestatus.com/features#tags:lazyload&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; , scrollmargin &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:scrollmargin"&gt;https://chromestatus.com/features#tags:scrollmargin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Overall low as scroll margin also applies to the root element thus
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; not affecting lazy loading images that are currently loading with just a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; root margin.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431"&gt;https://github.com/w3c/IntersectionObserver/issues/431&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1864794"&gt;https://bugzilla.mozilla.org/show_bug.cgi?id=1864794&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435"&gt;https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ) &lt;a  rel="nofollow" href="https://bugs.webkit.org/show_bug.cgi?id=264864"&gt;https://bugs.webkit.org/show_bug.cgi?id=264864&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsLazyLoadScrollMargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This feature is behind an enabled-by-default flag that can be
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; disabled if needed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on WebView 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; or interop issues. Please list open issues (e.g. links to known github
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; issues in the project for the feature specification) whose resolution may
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5106926245642240"&gt;https://chromestatus.com/feature/5106926245642240&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussionsIntent to prototype:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; send an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFUtAY98Y76fGzWxXjA_MX38UZsPhT7qyqFJ3Lsyji1STsq6ng%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFUtAY98Y76fGzWxXjA_MX38UZsPhT7qyqFJ3Lsyji1STsq6ng%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08538.html</id>
        <title>Re: [blink-dev] Intent to Ship: Lazy load scroll margin</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08538.html"/>
        <updated>2023-11-30T08:07:50.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08538.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Lazy+load+scroll+margin%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Lazy load scroll margin&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Traian+Captan%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Traian Captan&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231130" rel="nofollow"&gt;Thu, 30 Nov 2023 00:07:50 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Thank you Rick!

I did some investigating into why WebKit is passing some of the new WPTs
for lazy loaded images.
I think it might be because WebKit is considering the edge as inclusive,
while Blink and Gecko do not.
In the following example if the spacer height is 100px Safari will report
intersecting as true while Chrome and FireFox would report it as false.
If the height is increased to 101px, all 3 browsers will report the
intersection as false.
&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;style&amp;gt;
#scroller { width: 100px; height: 100px; overflow: scroll; background-color:
gray; }
#spacer { width: 50px; height: 100px; }
#target { width: 50px; height: 50px; background-color: green; }
&amp;lt;/style&amp;gt;&lt;/pre&gt;&lt;pre&gt;

&amp;lt;div id=scroller&amp;gt;
&amp;lt;div id=spacer&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;div id=target&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;

&amp;lt;script&amp;gt;
let entries = [];

window.onload = function() {
const observer = new IntersectionObserver(
callback,
{
rootMargin: &amp;quot;0px&amp;quot;
}
);
observer.observe(target);
};

function callback(entries) {
console.log(`isIntersecting = ${entries[0].isIntersecting}`);
}
&amp;lt;/script&amp;gt;




On Mon, Nov 27, 2023 at 11:40 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:

&amp;gt; On Wed, Nov 22, 2023 at 2:37 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Thanks, that sounds like a strict improvement.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 6:25 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Yes, that's correct.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:18 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do I understand correctly that currently lazy-loaded images in CSS
&amp;gt;&amp;gt;&amp;gt;&amp;gt; scrollers have suboptimal behavior and this would improve that without
&amp;gt;&amp;gt;&amp;gt;&amp;gt; potentially harming other cases?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 1:55 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailstcap...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt; A short (inline) explainer would help reviewers to understand e.g. if
&amp;gt;&amp;gt; this involves changes to the API surface that developers need to care about.
&amp;gt;&amp;gt; Can you write a few words on the impact on developers?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#lazy-load-root-margin"&gt;https://html.spec.whatwg.org/#lazy-load-root-margin&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt; The spec doesn't mention anything specific around root margins or scroll
&amp;gt;&amp;gt; margins (other than the algorithm name).
&amp;gt;&amp;gt; Are these concepts interoperable?
&amp;gt;&amp;gt;
&amp;gt;
&amp;gt; I dug around a little to try to better understand this. The HTML spec does
&amp;gt; mention
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element"&gt;https://html.spec.whatwg.org/#start-intersection-observing-a-lazy-loading-element&lt;/a&gt;&amp;gt;
&amp;gt;  setting
&amp;gt; the &amp;quot;scrollMargin&amp;quot; on the IntersectionObserver, a new property we recently
&amp;gt; shipped (I2S
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/Ax8rTBusZ4s/m/nogj-s-eGQAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt; ).
&amp;gt; While WebKit and Gecko aren't yet passing the WPT tests
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin"&gt;https://wpt.fyi/results/intersection-observer?label=master&amp;label=experimental&amp;aligned&amp;q=scroll-margin&lt;/a&gt;&amp;gt;
&amp;gt; for this yet, interestingly WebKit is already passing
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;&amp;gt;
&amp;gt; most of the newly added
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5023396"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5023396&lt;/a&gt;&amp;gt; WPTs
&amp;gt; for lazy loaded images in particular. So perhaps their implementation
&amp;gt; already handled this?
&amp;gt;
&amp;gt; Seems reasonable to me - LGTM1
&amp;gt;
&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Changes the lazy load intersection observer's init dictionary to use a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; scrollMargin instead of a rootMargin. This allows lazy loading images
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; contained inside CSS scrollers, like carousels, to load as expected when
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; near the viewport instead of the current behavior where these images load
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; when at least one pixel is intersecting the viewport.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Image
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Search tagslazyload &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:lazyload"&gt;https://chromestatus.com/features#tags:lazyload&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; , scrollmargin &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:scrollmargin"&gt;https://chromestatus.com/features#tags:scrollmargin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Overall low as scroll margin also applies to the root element thus not
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; affecting lazy loading images that are currently loading with just a root
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; margin.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431"&gt;https://github.com/w3c/IntersectionObserver/issues/431&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1864794"&gt;https://bugzilla.mozilla.org/show_bug.cgi?id=1864794&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435"&gt;https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ) &lt;a  rel="nofollow" href="https://bugs.webkit.org/show_bug.cgi?id=264864"&gt;https://bugs.webkit.org/show_bug.cgi?id=264864&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsLazyLoadScrollMargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This feature is behind an enabled-by-default flag that can be disabled
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; if needed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on WebView 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat or
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; interop issues. Please list open issues (e.g. links to known github issues
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; in the project for the feature specification) whose resolution may
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5106926245642240"&gt;https://chromestatus.com/feature/5106926245642240&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussionsIntent to prototype:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt;&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt;&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVhH_QxckxRLbR05jrN0CY48aQ-Ag3BypusnsyKoDTc0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtbmszXvTrP4PAvNcqziQXNOm0PsPL7JGwai71dXZ17CQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtbmszXvTrP4PAvNcqziQXNOm0PsPL7JGwai71dXZ17CQ%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08537.html</id>
        <title>Re: [blink-dev] Intent to Ship: Lazy load scroll margin</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08537.html"/>
        <updated>2023-11-30T07:33:50.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08537.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Lazy+load+scroll+margin%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Lazy load scroll margin&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Traian+Captan%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Traian Captan&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 23:33:50 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;&amp;gt;
&amp;gt;
&amp;gt; Thanks, that sounds like a strict improvement.
&amp;gt;
Yes.

ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt; A short (inline) explainer would help reviewers to understand e.g. if this
&amp;gt; involves changes to the API surface that developers need to care about.
&amp;gt; Can you write a few words on the impact on developers?
&amp;gt;
Here's a link to the explainer I extracted out of the motivation section:
&lt;a  rel="nofollow" href="https://gist.github.com/tcaptan-cr/bf0ac25f77cb6b6c58c916e6577d91c3"&gt;https://gist.github.com/tcaptan-cr/bf0ac25f77cb6b6c58c916e6577d91c3&lt;/a&gt;
I added it to the &amp;quot;Doc link(s)&amp;quot; section in Chrome Platform Status tool
since I didn't see a specific place label &amp;quot;Explainer&amp;quot;.
This change is internal to how we set up the intersection observer for lazy
loaded images and no new API surface is exposed.
Developers only need to add the `loading=&amp;quot;lazy&amp;quot;` attribute to the out of
viewport images like they did before, the only difference being that the
images now will load when near the viewport like expected instead of
loading late, when at least one pixel is intersecting the viewport.&lt;/pre&gt;&lt;pre&gt;

Specification&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#lazy-load-root-margin"&gt;https://html.spec.whatwg.org/#lazy-load-root-margin&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt; The spec doesn't mention anything specific around root margins or scroll
&amp;gt; margins (other than the algorithm name).
&amp;gt; Are these concepts interoperable?
&amp;gt;
 It is mentioned in the intersection observer setup options:
&amp;quot;The options is an IntersectionObserverInit
&amp;lt;&lt;a  rel="nofollow" href="https://w3c.github.io/IntersectionObserver/#dictdef-intersectionobserverinit"&gt;https://w3c.github.io/IntersectionObserver/#dictdef-intersectionobserverinit&lt;/a&gt;&amp;gt;
dictionary
with the following dictionary members: «[ &amp;quot;scrollMargin&amp;quot; → lazy load scroll
margin &amp;lt;&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#lazy-load-root-margin"&gt;https://html.spec.whatwg.org/#lazy-load-root-margin&lt;/a&gt;&amp;gt; ]»&amp;quot;
As for interoperability between them, you can think of scrollMargin as a
superset of rootMargin. In cases without nested scrollers, initializing an
intersection observer with either scroll or root margin will behave the
same. However, in cases with nested scrollers, using root margin will cause
images to load late while using scroll margin will cause them to load as
expected.


On Tue, Nov 21, 2023 at 9:37 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:

&amp;gt; Thanks, that sounds like a strict improvement.
&amp;gt;
&amp;gt; On Wed, Nov 22, 2023 at 6:25 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Yes, that's correct.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:18 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Do I understand correctly that currently lazy-loaded images in CSS
&amp;gt;&amp;gt;&amp;gt; scrollers have suboptimal behavior and this would improve that without
&amp;gt;&amp;gt;&amp;gt; potentially harming other cases?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 1:55 AM Traian Captan &amp;lt;tcap...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailstcap...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt; A short (inline) explainer would help reviewers to understand e.g. if this
&amp;gt; involves changes to the API surface that developers need to care about.
&amp;gt; Can you write a few words on the impact on developers?
&amp;gt;
&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/#lazy-load-root-margin"&gt;https://html.spec.whatwg.org/#lazy-load-root-margin&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt; The spec doesn't mention anything specific around root margins or scroll
&amp;gt; margins (other than the algorithm name).
&amp;gt; Are these concepts interoperable?
&amp;gt;
&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Changes the lazy load intersection observer's init dictionary to use a
&amp;gt;&amp;gt;&amp;gt;&amp;gt; scrollMargin instead of a rootMargin. This allows lazy loading images
&amp;gt;&amp;gt;&amp;gt;&amp;gt; contained inside CSS scrollers, like carousels, to load as expected when
&amp;gt;&amp;gt;&amp;gt;&amp;gt; near the viewport instead of the current behavior where these images load
&amp;gt;&amp;gt;&amp;gt;&amp;gt; when at least one pixel is intersecting the viewport.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Image
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EImage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Search tagslazyload &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:lazyload"&gt;https://chromestatus.com/features#tags:lazyload&lt;/a&gt;&amp;gt;,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; scrollmargin &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:scrollmargin"&gt;https://chromestatus.com/features#tags:scrollmargin&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Overall low as scroll margin also applies to the root element thus not
&amp;gt;&amp;gt;&amp;gt;&amp;gt; affecting lazy loading images that are currently loading with just a root
&amp;gt;&amp;gt;&amp;gt;&amp;gt; margin.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431"&gt;https://github.com/w3c/IntersectionObserver/issues/431&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1864794"&gt;https://bugzilla.mozilla.org/show_bug.cgi?id=1864794&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435"&gt;https://github.com/w3c/IntersectionObserver/issues/431#issuecomment-930602435&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ) &lt;a  rel="nofollow" href="https://bugs.webkit.org/show_bug.cgi?id=264864"&gt;https://bugs.webkit.org/show_bug.cgi?id=264864&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-"&gt;https://wpt.fyi/results/html/semantics/embedded-content/the-img-element?label=master&amp;label=experimental&amp;aligned&amp;q=image-loading-lazy-in-&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsLazyLoadScrollMargin
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; This feature is behind an enabled-by-default flag that can be disabled
&amp;gt;&amp;gt;&amp;gt;&amp;gt; if needed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1391989"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1391989&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on WebView 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat or
&amp;gt;&amp;gt;&amp;gt;&amp;gt; interop issues. Please list open issues (e.g. links to known github issues
&amp;gt;&amp;gt;&amp;gt;&amp;gt; in the project for the feature specification) whose resolution may
&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure of
&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5106926245642240"&gt;https://chromestatus.com/feature/5106926245642240&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussionsIntent to prototype:
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvtrmHkoOpTuD2eZYVOyFuAhP8ZFVoTuNBS8zYTVY%3DTaaQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvsUb0GEG9WNWRN7Akkowjm03gLj%2Biiq5rG8%2BzdAWMBTNA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvx7%3D9Ky%3DAzJXvVFCiL23vT5fY8k3Fi7imbuhKiz3LQcg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFxahvvx7%3D9Ky%3DAzJXvVFCiL23vT5fY8k3Fi7imbuhKiz3LQcg%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08536.html</id>
        <title>Re: [blink-dev] Re: Intent to Ship: Document picture-in-picture: require user gesture for resize APIs</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08536.html"/>
        <updated>2023-11-30T07:31:59.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08536.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+Document+picture%5C-in%5C-picture%5C%3A+require+user+gesture+for+resize+APIs%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Ship: Document picture-in-picture: require user gesture for resize APIs&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Rick+Byers%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Rick Byers&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 23:31:59 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Thank you Tommy! Superfluous LGTM4

On Thu, Nov 30, 2023 at 1:58 AM Chris Harrelson &amp;lt;chris...@chromium.org&amp;gt;
wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; LGTM3
&amp;gt;
&amp;gt; On Wed, Nov 29, 2023 at 8:36 AM Philip Jägenstedt &amp;lt;foo...@chromium.org&amp;gt;
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; LGTM2
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Wed, Nov 29, 2023 at 4:12 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; LGTM1
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Wednesday, November 29, 2023 at 4:04:49 PM UTC+1 Tommy Steimel wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Okay the security reviewer has now re-reviewed it given the updated
&amp;gt;&amp;gt;&amp;gt;&amp;gt; information. Thanks!
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Mon, Nov 27, 2023 at 11:55 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 11:49 PM 'Tommy Steimel' via blink-dev &amp;lt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; blink-dev@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:43 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Friday, November 17, 2023 at 8:47:34 PM UTC+1 Tommy Steimel wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailsstei...@chromium.org, liber...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://github.com/WICG/document-picture-in-picture/"&gt;https://github.com/WICG/document-picture-in-picture/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; pull/104
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This adds a user gesture requirement for the resizeBy() and
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; resizeTo() Window APIs for document picture-in-picture windows. This 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; allows
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; websites to make use of those APIs while mitigating much of the abuse
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; potential of those APIs on an always-on-top window.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Media&amp;gt;PictureInPicture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EPictureInPicture"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EPictureInPicture&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewN/A as this is a minor change to the behavior of an
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; existing API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This added requirement would mean that calls to these API can now
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; fail. Is that new? Or are developers already expected to handle 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; failures?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do we expect developers to start checking the UserActivation API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/UserActivation"&gt;https://developer.mozilla.org/en-US/docs/Web/API/UserActivation&lt;/a&gt;&amp;gt; before
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; calling these methods?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Currently these APIs always fail on document picture-in-picture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; windows regardless of user activation (to prevent really spammy
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; always-on-top windows). We don't expect developers to check the
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; UserActivation API at all, just to only call resizeTo()/resizeBy() in
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; response to a user gesture.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; From the subject and summary I also originally assumed this intent was
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; about adding a user gesture restriction, and it looks like your security
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; approval was also based on that incorrect understanding. Can you please
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; re-request a security review with the clarification of the scope of this
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; feature? Please also update the summary of the feature in ChromeStatus, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; eg:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;quot;This enables the resizeBy() and resizeTo() Windows methods on document
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; picture-in-picture windows, but with the added restriction of a user
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; gesture requirement to mitigate the abuse potential&amp;quot;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Otherwise it looks fine to me.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: No signal (&lt;a  rel="nofollow" href="https://github.com/mozilla/"&gt;https://github.com/mozilla/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/670#issuecomment-1786354361) Added
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; comment to existing standards position issue for document
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; picture-in-picture. No response yet
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal (&lt;a  rel="nofollow" href="https://github.com/WebKit/"&gt;https://github.com/WebKit/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/41#issuecomment-1786354016) Added
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; comment to existing standards position issue for document
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; picture-in-picture. No response yet
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive The ability to programmatically resize
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the document picture-in-picture window is one of the most-requested
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; features for document picture-in-picture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Ergonomics
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Activation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Security
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; While being able to resize an always-on-top window at will is a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; security/annoyance risk, by making the API consume a user gesture, the
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; website can only resize once per click, which limits the possible abuse
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; vectors
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?No
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The document picture-in-picture API is not supported on Android
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; document-picture-in-picture/resize-requires-user-gesture.https.html
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Small, low-risk change to existing API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug&lt;a  rel="nofollow" href="https://crbug.com/1354325"&gt;https://crbug.com/1354325&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Sample links
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://steimelchrome.github.io/document-pip/click_to_resize.html"&gt;https://steimelchrome.github.io/document-pip/click_to_resize.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestonesShipping on desktop121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; or interop issues. Please list open issues (e.g. links to known github
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; issues in the project for the feature specification) whose resolution 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; may
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; structure of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; feature/5398995019235328
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; send an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt; --
&amp;gt;&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt;&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt;&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYdioCrFHatD-3FV0yuzGmUxDmAoQuupJxF79kDG3nxdUA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYdioCrFHatD-3FV0yuzGmUxDmAoQuupJxF79kDG3nxdUA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYdioCrFHatD-3FV0yuzGmUxDmAoQuupJxF79kDG3nxdUA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYdioCrFHatD-3FV0yuzGmUxDmAoQuupJxF79kDG3nxdUA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFUtAY-F3CdkHvxcUjHTZZy1uwKzs_YsvwD7qwkiGbJ1SZefdg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFUtAY-F3CdkHvxcUjHTZZy1uwKzs_YsvwD7qwkiGbJ1SZefdg%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08535.html</id>
        <title>[blink-dev] Intent to Ship: URLPattern: hasRegExpGroups</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08535.html"/>
        <updated>2023-11-30T02:34:52.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08535.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+URLPattern%5C%3A+hasRegExpGroups%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Intent to Ship: URLPattern: hasRegExpGroups&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Jeremy+Roman%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Jeremy Roman&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 18:34:52 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Contact emailsjbro...@chromium.org

ExplainerNone&lt;/pre&gt;&lt;pre&gt;

Specification
&lt;a  rel="nofollow" href="https://urlpattern.spec.whatwg.org/#dom-urlpattern-hasregexpgroups"&gt;https://urlpattern.spec.whatwg.org/#dom-urlpattern-hasregexpgroups&lt;/a&gt;

Summary

Allows easy inspection of whether a URLPattern uses one or more ECMAScript
regular expression groups, and therefore may not be suitable for use in
cases where an ECMAScript engine is not available (such as some upcoming
planned APIs). Strictly speaking this reflects back something developers
could know anyway from inspecting the pattern, but having easy access to
the UA's implementation of this check makes that more straightforward.


Blink componentBlink&amp;gt;URLPattern
&amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EURLPattern"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EURLPattern&lt;/a&gt;&amp;gt;

TAG reviewNone

TAG review statusNot applicable

Risks


Interoperability and Compatibility

Interoperability risk is low. The feature is simple, has a small API
surface area, and is easy to implement. It could be polyfilled if other
browser vendors implemented URLPattern but not this feature, though that
outcome does not seem likely.


*Gecko*: No signal (
&lt;a  rel="nofollow" href="https://mozilla.github.io/standards-positions/#urlpattern"&gt;https://mozilla.github.io/standards-positions/#urlpattern&lt;/a&gt;) This addition is
too trivial to request a separate position, but Mozilla is positive on
URLPattern generally.

*WebKit*: No signal (&lt;a  rel="nofollow" href="https://webkit.org/standards-positions/#position-61"&gt;https://webkit.org/standards-positions/#position-61&lt;/a&gt;)
This addition is too trivial to request a separate position, but WebKit is
positive on URLPattern generally.

*Web developers*: No signals No significant signals, but this feature is
trivial

*Other signals*:

Ergonomics

No significant concerns anticipated


Activation

No; in fact this property is added specifically to make activation of
features which can only accept patterns with no regexp groups easier.


Security

No security risks have been identified.


WebView application risks

Does this intent deprecate or change behavior of existing APIs, such that
it has potentially high risk for Android WebView-based applications?

None


Debuggability

Standard developer tools (e.g., the JavaScript console) are likely to be
sufficient. If URL patterns become extremely popular one could imagine
tools particular to them, but those could be developed independently of
this ship decision.


Will this feature be supported on all six Blink platforms (Windows, Mac,
Linux, ChromeOS, Android, and Android WebView)?Yes

Is this feature fully tested by web-platform-tests
&amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
?Yes

&lt;a  rel="nofollow" href="https://wpt.fyi/results/urlpattern?label=master&amp;label=experimental&amp;aligned&amp;q=urlpattern-hasregexpgroups"&gt;https://wpt.fyi/results/urlpattern?label=master&amp;label=experimental&amp;aligned&amp;q=urlpattern-hasregexpgroups&lt;/a&gt;


Flag name on chrome://flagsNone

Finch feature nameURLPatternHasRegExpGroups

Requires code in //chrome?False

Tracking bug&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1504650"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1504650&lt;/a&gt;

Availability expectationDependent on implementation of URL Pattern API in
non-Chromium browsers.

Estimated milestones
Shipping on desktop 122
Shipping on Android 122
Shipping on WebView 122
If approvals arrive in time for 121 branch, I'll enable this in 121, but
I'm currently assuming not.

Anticipated spec changes

Open questions about a feature may be a source of future web compat or
interop issues. Please list open issues (e.g. links to known github issues
in the project for the feature specification) whose resolution may
introduce web compat/interop risk (e.g., changing to naming or structure of
the API in a non-backward-compatible way).
None

Link to entry on the Chrome Platform Status
&lt;a  rel="nofollow" href="https://chromestatus.com/feature/4761338127843328"&gt;https://chromestatus.com/feature/4761338127843328&lt;/a&gt;

This intent message was generated by Chrome Platform Status
&amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13eBnT2Ee55fE%3DcNw9v%3DoJ9SZ_H4%2B6RKZnUwfsW4W3e%3DGw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13eBnT2Ee55fE%3DcNw9v%3DoJ9SZ_H4%2B6RKZnUwfsW4W3e%3DGw%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08534.html</id>
        <title>[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08534.html"/>
        <updated>2023-11-30T02:04:00.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08534.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Prototype%5C%3A+Extending+Storage+Access+API+%5C%28SAA%5C%29+to+non%5C-cookie+storage%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Ari+Chivukula%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Ari Chivukula&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 18:04:00 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;requestStorageAccess currently provides no way to directly control any
surfaces with first-party SameSite=Strict cookies. If the handle returned
allowed you to access first-party SharedWorkers, those workers would have
access to SameSite=Strict cookies. Chrome's decision at this juncture is to
not provide that as it would the assurances around what party was making
the request the cookies were included in.&lt;/pre&gt;&lt;pre&gt;

Chrome could provide some independent pool of SharedWorkers accessible via
requestStorageAccess in a third-party context that did not have access to
SameSite=Strict cookies, but where otherwise essentially first-party
workers. Chrome could even make these workers accessible from a first-party
context via some additional argument (e.g., SharedWorker(...,
{enableThirdPartyAccessWithoutSameSiteStrictCookies: true}). That might
meet some use cases, but not others. Chrome would want to see more
developer interest before considering that.

As for two separate frames on different origins messaging each other, if
one frame opens the other in a way that allows access via window.opener,
then the two frames can use postMessage cross-origin. Otherwise there isn't
a way to message between frames without some sort of extension mediating
the process AFAIK.

~ Ari Chivukula (Their/There/They're)


On Wed, Nov 29, 2023 at 4:34 PM Jesper van den Ende &amp;lt;jesperthe...@gmail.com&amp;gt;
wrote:

&amp;gt; Ah that's too bad.
&amp;gt; I don't think using object urls would be performant. The data in the
&amp;gt; ArrayBuffer is still accessible after creating the object url, so that does
&amp;gt; not seem like it is getting transferred.
&amp;gt;
&amp;gt; Is there any chance an api could be exposed in the future that would allow
&amp;gt; two separate origins to share the same SharedWorker?
&amp;gt; Being able to access requestStorageAccess() from within a SharedWorker
&amp;gt; wouldn't work for my use case, since at that point the two separate workers
&amp;gt; have already been created.
&amp;gt; I need some way to request storage access before creating the SharedWorker.
&amp;gt;
&amp;gt; Maybe I'm misunderstanding the issue of SameSite=Strict cookies being
&amp;gt; accessible within SharedWorkers, but what if you could only gain access to
&amp;gt; `handle.SharedWorker` when you requested storageAccess with {all: true}?
&amp;gt; Wouldn't that mean you explicitly requested storage access for everything,
&amp;gt; thus allowing access to any existing SharedWorkers that may have been
&amp;gt; created?
&amp;gt; On Wednesday, November 29, 2023 at 12:05:04 AM UTC+1 Ari Chivukula wrote:
&amp;gt;
&amp;gt;&amp;gt; Testing locally, event.source seems always to be null when using
&amp;gt;&amp;gt; Broadcast Channel. This seems to align with the spec which doesn't mention
&amp;gt;&amp;gt; setting source at all for the MessageEvent:
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://html.spec.whatwg.org/multipage/web-messaging.html#broadcasting-to-other-browsing-contexts"&gt;https://html.spec.whatwg.org/multipage/web-messaging.html#broadcasting-to-other-browsing-contexts&lt;/a&gt;
&amp;gt;&amp;gt; and the chrome code which doesn't set it:
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/broadcastchannel/broadcast_channel.cc;drc=8e78783dc1f7007bad46d657c9f332614e240fd8;l=173"&gt;https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/broadcastchannel/broadcast_channel.cc;drc=8e78783dc1f7007bad46d657c9f332614e240fd8;l=173&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; It looks like storing the ArrayBuffer as a Blob (
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL_static"&gt;https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL_static&lt;/a&gt;)
&amp;gt;&amp;gt; and sharing the resulting URL via BroadcastChannel or other means may work,
&amp;gt;&amp;gt; but I'm unsure about the efficiency of such an approach.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; ~ Ari Chivukula (Their/There/They're)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Tue, Nov 28, 2023 at 5:35 PM Jesper van den Ende &amp;lt;jesper...@gmail.com&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Awesome, thanks for the info!
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; A broadcast channel doesn't work for my use case unfortunately.
&amp;gt;&amp;gt;&amp;gt; I'd like to create a MessageChannel
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel"&gt;https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel&lt;/a&gt;&amp;gt; and
&amp;gt;&amp;gt;&amp;gt; then transfer the two MessagePorts to both tabs.
&amp;gt;&amp;gt;&amp;gt; Since a broadcast channel doesn't allow transferring objects
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/7088#issuecomment-922529073"&gt;https://github.com/whatwg/html/issues/7088#issuecomment-922529073&lt;/a&gt;&amp;gt;,
&amp;gt;&amp;gt;&amp;gt; there's no way for me to send messages to both tabs without it also being
&amp;gt;&amp;gt;&amp;gt; sent to all other tabs.
&amp;gt;&amp;gt;&amp;gt; And with no way to transfer things such as ArrayBuffers, I reckon this
&amp;gt;&amp;gt;&amp;gt; would also be pretty inefficient for some operations.
&amp;gt;&amp;gt;&amp;gt; But maybe I'm missing something? One thing that comes to mind is using
&amp;gt;&amp;gt;&amp;gt; the MessageEvent.source to get access to the window of another tab and then
&amp;gt;&amp;gt;&amp;gt; send a message to it directly. But I'm not sure if that would work.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Tuesday, November 28, 2023 at 10:44:54 PM UTC+1 Ari Chivukula wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Thanks for letting us know about your use case. Yes, Chrome has decided
&amp;gt;&amp;gt;&amp;gt;&amp;gt; not to pursue Shared Worker access via the handle returned by
&amp;gt;&amp;gt;&amp;gt;&amp;gt; requestStorageAccess given it would allow access to SameSite=Strict cookies
&amp;gt;&amp;gt;&amp;gt;&amp;gt; to a third-party iframe via that shared worker. We are examining an
&amp;gt;&amp;gt;&amp;gt;&amp;gt; alternate option where requestStorageAccess will be available in workers:
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/157"&gt;https://github.com/privacycg/storage-access/issues/157&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Either way, this change will probably require switching from using a
&amp;gt;&amp;gt;&amp;gt;&amp;gt; (shared) Shared Worker for tab discovery to something like Broadcast
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Channel
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API&lt;/a&gt;&amp;gt;which
&amp;gt;&amp;gt;&amp;gt;&amp;gt; would allow for cross-tab messaging without the need to be online.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ~ Ari Chivukula (Their/There/They're)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 28, 2023 at 4:35 PM Jesper van den Ende &amp;lt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; jesper...@gmail.com&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Hi all,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; I noticed the TODOs for shared workers were removed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; My application relies on cross origin shared workers and to be honest
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; this was the main part of the proposal I was looking forward to haha.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; I'm currently relying on the origin trial for disabling third party
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; storage partitioning.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Are there any plans for the shared worker use case? I'm not sure what
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; to do once the origin trial expires. And as far as I can tell there is no
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; good alternative for what I'm trying to achieve.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specifically, I'd like to be able to discover other tabs (that are
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; also broadcasting their existence using the same shared worker) and then
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; initiate a connection to them.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; One alternative I could think of was using WebRTC for this, but
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ideally I'd like this to work while the user is offline, which is not
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; possible with WebRTC.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is there any discussion about the plan to remove shared workers from
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the proposal? I couldn't find anything about SameSite=Strict cookies
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; anywhere other than the commit that removed the TODOs.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Cheers,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Jesper
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Monday, October 2, 2023 at 3:44:05 PM UTC+2 Ari Chivukula wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ari...@chromium.org, wande...@chromium.org, joha...@chromium.org,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; hel...@google.com
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://arichiv.github.io/saa-non-cookie-storage/"&gt;https://arichiv.github.io/saa-non-cookie-storage/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; We propose an extension of the Storage Access API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://webkit.org/blog/8124/introducing-storage-access-api/"&gt;https://webkit.org/blog/8124/introducing-storage-access-api/&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; (backwards compatible) to allow access to unpartitioned (cookie and
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; non-cookie) storage in a third-party context, and imagine the API 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; mechanics
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; to be roughly like this (JS running in an embedded iframe):
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Request a new storage handle via rSA (this should prompt the user)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; let handle = await document.requestStorageAccess({all: true});
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Write some cross-site localstorage
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; handle.localStorage.setItem(&amp;quot;userid&amp;quot;, &amp;quot;1234&amp;quot;);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Open or create an indexedDB that is shared with the 1P context
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; let messageDB = handle.defaultBucket.indexedDB.open(&amp;quot;messages&amp;quot;);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The same flow would be used by iframes to get a storage handle when
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; their top-level ancestor successfully called rSAFor
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/requestStorageAccessFor"&gt;https://github.com/privacycg/requestStorageAccessFor&lt;/a&gt;&amp;gt;, just that in
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; this case the storage-access permission was already granted and thus the
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; rSA call would not require a user gesture or show a prompt, allowing for
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; “hidden” iframes accessing storage.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Browsers currently shipping the Storage Access API apply varying
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; methods of when or how to ask the user for permission to grant 3p cookie
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; access to a site. Given that this proposal involves extending the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; existing
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Storage Access API, while maintaining largely the same implications 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; (from a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; privacy/security perspective) to the user, a consistent prompt for cookie
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and non-cookie access is preferred. No prompt is needed when the origins
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; are RWS (Related Website Sets, the new name for First Party Sets).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink&amp;gt;Storage
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Motivation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; There has been increasing developer
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and implementer
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/102"&gt;https://github.com/privacycg/storage-access/issues/102&lt;/a&gt;&amp;gt; interest in
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; first-party DOM Storage
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and Quota Managed Storage
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; being available in third-party contexts the same way that Cookies
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; already can be &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access"&gt;https://github.com/privacycg/storage-access&lt;/a&gt;&amp;gt;. In the
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; absence of such a solution, we would in effect be pushing developers to
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; migrate to Cookies from other storage mechanisms. There are significant
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; tradeoffs between Cookie and non-Cookie storage (size, flexibility, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; server
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; exposure, network request size, etc.) that could cause a detriment in 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; user
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; experience from a privacy, security and performance perspective. To 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; prevent
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; sub-optimal use of cookies and to preserve context, we propose a solution
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; for developers to regain 3p access to unpartitioned storage in select
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; instances to avoid user-facing breakage in browsers shipping storage
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; partitioning.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/906"&gt;https://github.com/w3ctag/design-reviews/issues/906&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The Storage Access API is already implemented in Safari, Firefox,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and Chrome
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://caniuse.com/mdn-api_document_requeststorageaccess"&gt;https://caniuse.com/mdn-api_document_requeststorageaccess&lt;/a&gt;&amp;gt;, but the
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; proposed API shape would not change existing behavior without new 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; arguments
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; added.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Gecko: &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/898"&gt;https://github.com/mozilla/standards-positions/issues/898&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebKit: &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/262"&gt;https://github.com/WebKit/standards-positions/issues/262&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Web developers: Positive
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Storage written can be examined in devtools.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tests will be added.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://crbug.com/1484966"&gt;https://crbug.com/1484966&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5175585823522816"&gt;https://chromestatus.com/feature/5175585823522816&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGpy5DKAAQVBwfU1jbk6jVbUmfSSwAE9Q1Gf08-HJOSpR0abig%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGpy5DKAAQVBwfU1jbk6jVbUmfSSwAE9Q1Gf08-HJOSpR0abig%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08533.html</id>
        <title>[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08533.html"/>
        <updated>2023-11-29T23:47:18.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08533.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Prototype%5C%3A+Extending+Storage+Access+API+%5C%28SAA%5C%29+to+non%5C-cookie+storage%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Jesper+van+den+Ende%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Jesper van den Ende&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 15:47:18 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Ah that's too bad.
I don't think using object urls would be performant. The data in the 
ArrayBuffer is still accessible after creating the object url, so that does 
not seem like it is getting transferred.&lt;/pre&gt;&lt;pre&gt;

Is there any chance an api could be exposed in the future that would allow 
two separate origins to share the same SharedWorker?
Being able to access requestStorageAccess() from within a SharedWorker 
wouldn't work for my use case, since at that point the two separate workers 
have already been created.
I need some way to request storage access before creating the SharedWorker.

Maybe I'm misunderstanding the issue of SameSite=Strict cookies being 
accessible within SharedWorkers, but what if you could only gain access to 
`handle.SharedWorker` when you requested storageAccess with {all: true}?
Wouldn't that mean you explicitly requested storage access for everything, 
thus allowing access to any existing SharedWorkers that may have been 
created?
On Wednesday, November 29, 2023 at 12:05:04 AM UTC+1 Ari Chivukula wrote:

&amp;gt; Testing locally, event.source seems always to be null when using Broadcast 
&amp;gt; Channel. This seems to align with the spec which doesn't mention setting 
&amp;gt; source at all for the MessageEvent: 
&amp;gt; &lt;a  rel="nofollow" href="https://html.spec.whatwg.org/multipage/web-messaging.html#broadcasting-to-other-browsing-contexts"&gt;https://html.spec.whatwg.org/multipage/web-messaging.html#broadcasting-to-other-browsing-contexts&lt;/a&gt;
&amp;gt;  
&amp;gt; and the chrome code which doesn't set it: 
&amp;gt; &lt;a  rel="nofollow" href="https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/broadcastchannel/broadcast_channel.cc;drc=8e78783dc1f7007bad46d657c9f332614e240fd8;l=173"&gt;https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/broadcastchannel/broadcast_channel.cc;drc=8e78783dc1f7007bad46d657c9f332614e240fd8;l=173&lt;/a&gt;
&amp;gt;
&amp;gt; It looks like storing the ArrayBuffer as a Blob (
&amp;gt; &lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL_static"&gt;https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL_static&lt;/a&gt;) 
&amp;gt; and sharing the resulting URL via BroadcastChannel or other means may work, 
&amp;gt; but I'm unsure about the efficiency of such an approach.
&amp;gt;
&amp;gt; ~ Ari Chivukula (Their/There/They're)
&amp;gt;
&amp;gt;
&amp;gt; On Tue, Nov 28, 2023 at 5:35 PM Jesper van den Ende &amp;lt;jesper...@gmail.com&amp;gt; 
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Awesome, thanks for the info!
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; A broadcast channel doesn't work for my use case unfortunately.
&amp;gt;&amp;gt; I'd like to create a MessageChannel 
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel"&gt;https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel&lt;/a&gt;&amp;gt; and 
&amp;gt;&amp;gt; then transfer the two MessagePorts to both tabs.
&amp;gt;&amp;gt; Since a broadcast channel doesn't allow transferring objects 
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/7088#issuecomment-922529073"&gt;https://github.com/whatwg/html/issues/7088#issuecomment-922529073&lt;/a&gt;&amp;gt;, 
&amp;gt;&amp;gt; there's no way for me to send messages to both tabs without it also being 
&amp;gt;&amp;gt; sent to all other tabs.
&amp;gt;&amp;gt; And with no way to transfer things such as ArrayBuffers, I reckon this 
&amp;gt;&amp;gt; would also be pretty inefficient for some operations.
&amp;gt;&amp;gt; But maybe I'm missing something? One thing that comes to mind is using 
&amp;gt;&amp;gt; the MessageEvent.source to get access to the window of another tab and then 
&amp;gt;&amp;gt; send a message to it directly. But I'm not sure if that would work.
&amp;gt;&amp;gt;
&amp;gt;
&amp;gt;&amp;gt; On Tuesday, November 28, 2023 at 10:44:54 PM UTC+1 Ari Chivukula wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Thanks for letting us know about your use case. Yes, Chrome has decided 
&amp;gt;&amp;gt;&amp;gt; not to pursue Shared Worker access via the handle returned by 
&amp;gt;&amp;gt;&amp;gt; requestStorageAccess given it would allow access to SameSite=Strict cookies 
&amp;gt;&amp;gt;&amp;gt; to a third-party iframe via that shared worker. We are examining an 
&amp;gt;&amp;gt;&amp;gt; alternate option where requestStorageAccess will be available in workers: 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/157"&gt;https://github.com/privacycg/storage-access/issues/157&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Either way, this change will probably require switching from using a 
&amp;gt;&amp;gt;&amp;gt; (shared) Shared Worker for tab discovery to something like Broadcast 
&amp;gt;&amp;gt;&amp;gt; Channel 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API&lt;/a&gt;&amp;gt;which
&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt; would allow for cross-tab messaging without the need to be online.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; ~ Ari Chivukula (Their/There/They're)
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 28, 2023 at 4:35 PM Jesper van den Ende &amp;lt;jesper...@gmail.com&amp;gt; 
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Hi all,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; I noticed the TODOs for shared workers were removed.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; My application relies on cross origin shared workers and to be honest 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; this was the main part of the proposal I was looking forward to haha.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; I'm currently relying on the origin trial for disabling third party 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; storage partitioning.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Are there any plans for the shared worker use case? I'm not sure what 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; to do once the origin trial expires. And as far as I can tell there is no 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; good alternative for what I'm trying to achieve.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specifically, I'd like to be able to discover other tabs (that are also 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; broadcasting their existence using the same shared worker) and then 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; initiate a connection to them.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; One alternative I could think of was using WebRTC for this, but ideally 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; I'd like this to work while the user is offline, which is not possible 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; with 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebRTC.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is there any discussion about the plan to remove shared workers from 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; the proposal? I couldn't find anything about SameSite=Strict cookies 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; anywhere other than the commit that removed the TODOs.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Cheers,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Jesper
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Monday, October 2, 2023 at 3:44:05 PM UTC+2 Ari Chivukula wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ari...@chromium.org, wande...@chromium.org, joha...@chromium.org, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; hel...@google.com
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://arichiv.github.io/saa-non-cookie-storage/"&gt;https://arichiv.github.io/saa-non-cookie-storage/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; We propose an extension of the Storage Access API 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://webkit.org/blog/8124/introducing-storage-access-api/"&gt;https://webkit.org/blog/8124/introducing-storage-access-api/&lt;/a&gt;&amp;gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; (backwards compatible) to allow access to unpartitioned (cookie and 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; non-cookie) storage in a third-party context, and imagine the API 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; mechanics 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; to be roughly like this (JS running in an embedded iframe):
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Request a new storage handle via rSA (this should prompt the user)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; let handle = await document.requestStorageAccess({all: true});
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Write some cross-site localstorage
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; handle.localStorage.setItem(&amp;quot;userid&amp;quot;, &amp;quot;1234&amp;quot;);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Open or create an indexedDB that is shared with the 1P context
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; let messageDB = handle.defaultBucket.indexedDB.open(&amp;quot;messages&amp;quot;);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The same flow would be used by iframes to get a storage handle when 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; their top-level ancestor successfully called rSAFor 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/requestStorageAccessFor"&gt;https://github.com/privacycg/requestStorageAccessFor&lt;/a&gt;&amp;gt;, just that in 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; this case the storage-access permission was already granted and thus the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; rSA call would not require a user gesture or show a prompt, allowing for 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; “hidden” iframes accessing storage.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Browsers currently shipping the Storage Access API apply varying 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; methods of when or how to ask the user for permission to grant 3p cookie 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; access to a site. Given that this proposal involves extending the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; existing 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Storage Access API, while maintaining largely the same implications (from 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; a 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; privacy/security perspective) to the user, a consistent prompt for cookie 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and non-cookie access is preferred. No prompt is needed when the origins 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; are RWS (Related Website Sets, the new name for First Party Sets).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink&amp;gt;Storage 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Motivation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; There has been increasing developer 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and implementer 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/102"&gt;https://github.com/privacycg/storage-access/issues/102&lt;/a&gt;&amp;gt; interest in 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; first-party DOM Storage 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API&lt;/a&gt;&amp;gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; and Quota Managed Storage 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API&lt;/a&gt;&amp;gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; being available in third-party contexts the same way that Cookies 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; already can be &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access"&gt;https://github.com/privacycg/storage-access&lt;/a&gt;&amp;gt;. In the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; absence of such a solution, we would in effect be pushing developers to 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; migrate to Cookies from other storage mechanisms. There are significant 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; tradeoffs between Cookie and non-Cookie storage (size, flexibility, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; server 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; exposure, network request size, etc.) that could cause a detriment in 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; user 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; experience from a privacy, security and performance perspective. To 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; prevent 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; sub-optimal use of cookies and to preserve context, we propose a solution 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; for developers to regain 3p access to unpartitioned storage in select 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; instances to avoid user-facing breakage in browsers shipping storage 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; partitioning.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/906"&gt;https://github.com/w3ctag/design-reviews/issues/906&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The Storage Access API is already implemented in Safari, Firefox, and 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Chrome &amp;lt;&lt;a  rel="nofollow" href="https://caniuse.com/mdn-api_document_requeststorageaccess"&gt;https://caniuse.com/mdn-api_document_requeststorageaccess&lt;/a&gt;&amp;gt;, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; but the proposed API shape would not change existing behavior without new 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; arguments added.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Gecko: &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/898"&gt;https://github.com/mozilla/standards-positions/issues/898&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebKit: &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/262"&gt;https://github.com/WebKit/standards-positions/issues/262&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Web developers: Positive 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Storage written can be examined in devtools.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tests will be added.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://crbug.com/1484966"&gt;https://crbug.com/1484966&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5175585823522816"&gt;https://chromestatus.com/feature/5175585823522816&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/f8bb180a-6e22-4f53-8e29-2c8b849331cbn%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/f8bb180a-6e22-4f53-8e29-2c8b849331cbn%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08532.html</id>
        <title>[blink-dev] Re: Intent to Ship: Async Clipboard API: Read unsanitized HTML format</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08532.html"/>
        <updated>2023-11-29T21:39:42.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08532.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+Async+Clipboard+API%5C%3A+Read+unsanitized+HTML+format%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Ship: Async Clipboard API: Read unsanitized HTML format&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Alex+Russell%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Alex Russell&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 13:39:42 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Thanks for re-sending this under different cover. I understand that the 
previous entry's Security review covers this, so LGTM1&lt;/pre&gt;&lt;pre&gt;

Best,

Alex

On Wednesday, November 29, 2023 at 1:27:31 PM UTC-8 snianu wrote:

&amp;gt; Resending the I2S with all the updates and a summary of discussion that 
&amp;gt; happened in a different I2S thread 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://mail.google.com/mail/u/1/?ui=2&amp;ik=ad97730700&amp;view=lg&amp;permmsgid=msg-f:1783916238508658206&amp;ser=1"&gt;https://mail.google.com/mail/u/1/?ui=2&amp;ik=ad97730700&amp;view=lg&amp;permmsgid=msg-f:1783916238508658206&amp;ser=1&lt;/a&gt;&amp;gt;
&amp;gt; .
&amp;gt;
&amp;gt;
&amp;gt; Contact emails
&amp;gt;
&amp;gt; sni...@microsoft.com, sa...@microsoft.com, est...@chromium.org, 
&amp;gt; jsb...@chromium.org, asu...@chromium.org, ansol...@microsoft.com
&amp;gt;
&amp;gt;
&amp;gt; Explainer
&amp;gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/editing/blob/gh-pages/docs/clipboard-unsanitized/explainer.md"&gt;https://github.com/w3c/editing/blob/gh-pages/docs/clipboard-unsanitized/explainer.md&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; Specification
&amp;gt;
&amp;gt; *&lt;a  rel="nofollow" href="https://w3c.github.io/clipboard-apis/#dom-clipboard-read"&gt;https://w3c.github.io/clipboard-apis/#dom-clipboard-read&lt;/a&gt; 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://w3c.github.io/clipboard-apis/#dom-clipboard-read"&gt;https://w3c.github.io/clipboard-apis/#dom-clipboard-read&lt;/a&gt;&amp;gt;*
&amp;gt;
&amp;gt;
&amp;gt; Summary
&amp;gt;
&amp;gt; This proposal provides an `unsanitized` option in the 
&amp;gt; navigation.clipboard.read() method to get the unsanitized HTML format. 
&amp;gt; Unless sites explicitly opt-into reading the unsanitized HTML, they will 
&amp;gt; get the sanitized HTML fragment by-default. Currently, when we read 
&amp;gt; text/html MIME type using the async clipboard API, the sanitizer is invoked 
&amp;gt; to strip out contents from the HTML markup due to security concerns, and 
&amp;gt; styles are inlined into the HTML markup, which leads to a bloated HTML 
&amp;gt; payload and loss of fidelity of HTML content when read by web authors or 
&amp;gt; native apps.
&amp;gt;
&amp;gt;
&amp;gt; The DataTransfer API in Chromium does not perform any sanitization, 
&amp;gt; returning only unsanitized HTML markup. Therefore, this change gives web 
&amp;gt; authors the ability to use the async clipboard API without regressing 
&amp;gt; behavior compared to the DataTransfer API.
&amp;gt;
&amp;gt;
&amp;gt; Comments
&amp;gt;
&amp;gt; For more context on this change, here is a discussion between 
&amp;gt; stakeholders: 
&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1ha0pcpQsEgVGtPK8dd8N_0P1ynI7rXV7bR5ZFmOTD6Y/edit?usp=sharing"&gt;https://docs.google.com/document/d/1ha0pcpQsEgVGtPK8dd8N_0P1ynI7rXV7bR5ZFmOTD6Y/edit?usp=sharing&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; Blink component
&amp;gt;
&amp;gt; Blink&amp;gt;DataTransfer 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EDataTransfer"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EDataTransfer&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt; Search tags
&amp;gt;
&amp;gt; unsanitized html 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:unsanitized%20html"&gt;https://chromestatus.com/features#tags:unsanitized%20html&lt;/a&gt;&amp;gt;, async api 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:async%20api"&gt;https://chromestatus.com/features#tags:async%20api&lt;/a&gt;&amp;gt;, clipboard 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:clipboard"&gt;https://chromestatus.com/features#tags:clipboard&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt; TAG review
&amp;gt;
&amp;gt; The TAG reviewed the unsanitized option as part of a broader review of the 
&amp;gt; pickling API (now called web custom formats).
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/636#issuecomment-919324784"&gt;https://github.com/w3ctag/design-reviews/issues/636#issuecomment-919324784&lt;/a&gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/636#issuecomment-869792053"&gt;https://github.com/w3ctag/design-reviews/issues/636#issuecomment-869792053&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; TAG review status
&amp;gt;
&amp;gt; Issues addressed.
&amp;gt;
&amp;gt;
&amp;gt; WebFeature UseCounter name
&amp;gt;
&amp;gt; AsyncClipboardAPIUnsanitizedRead
&amp;gt;
&amp;gt;
&amp;gt; Risks
&amp;gt;
&amp;gt; Interoperability and Compatibility
&amp;gt;
&amp;gt;
&amp;gt; This is a Chromium-only feature (see discussion in 
&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1ha0pcpQsEgVGtPK8dd8N_0P1ynI7rXV7bR5ZFmOTD6Y/edit?usp=sharing"&gt;https://docs.google.com/document/d/1ha0pcpQsEgVGtPK8dd8N_0P1ynI7rXV7bR5ZFmOTD6Y/edit?usp=sharing&lt;/a&gt;),
&amp;gt;  
&amp;gt; so adding a dictionary as an argument in read will be ignored in 
&amp;gt; non-Chromium browsers and the HTML read might be sanitized. As this change 
&amp;gt; aligns the sanitization behavior of the DataTransfer API and the Clipboard 
&amp;gt; Async API, existing paste targets that support DataTransfer APIs 
&amp;gt; unsanitized HTML don't need to make updates on how they handle HTML if they 
&amp;gt; decide to transition to the Clipboard Async API.
&amp;gt;
&amp;gt;
&amp;gt; Firefox provides access to unsanitized HTML via DataTransfer APIs, which 
&amp;gt; matches Chromium's behavior, and Safari only allows access to unsanitized 
&amp;gt; HTML if it's being read within the same origin.
&amp;gt;
&amp;gt;
&amp;gt; *Gecko*: Neutral (
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/769"&gt;https://github.com/mozilla/standards-positions/issues/769&lt;/a&gt;) 
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/150#issuecomment-1031684598"&gt;https://github.com/w3c/clipboard-apis/issues/150#issuecomment-1031684598&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; *WebKit*: Negative (
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/150#issuecomment-974236367"&gt;https://github.com/w3c/clipboard-apis/issues/150#issuecomment-974236367&lt;/a&gt;)
&amp;gt;
&amp;gt;
&amp;gt; *Web developers*: Positive. Positive signals from Excel Online, 
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/j9fDbU9E2Ds/m/IPocqIfEAwAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/j9fDbU9E2Ds/m/IPocqIfEAwAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; Ergonomics
&amp;gt;
&amp;gt; With this feature, we have added a dictionary argument to the read() 
&amp;gt; method, where web authors will explicitly request for the unsanitized HTML 
&amp;gt; format.
&amp;gt;
&amp;gt;
&amp;gt; Activation
&amp;gt;
&amp;gt; The current Async Clipboard API read method as specified in 
&amp;gt; &lt;a  rel="nofollow" href="https://w3c.github.io/clipboard-apis/#dom-clipboard-read"&gt;https://w3c.github.io/clipboard-apis/#dom-clipboard-read&lt;/a&gt; isn't affected 
&amp;gt; by the introduction of this feature as the default implementation of the 
&amp;gt; API is unchanged, and the new `unsanitized` parameter in the read() method 
&amp;gt; will not impact behavior on unsupported browsers(optional formats 
&amp;gt; dictionary will be ignored). The behavior is validated through existing web 
&amp;gt; tests.
&amp;gt;
&amp;gt;
&amp;gt; Security
&amp;gt;
&amp;gt; Sites have to explicitly opt into reading unsanitized HTML content via the 
&amp;gt; &amp;quot;unsanitized&amp;quot; option, so any sites that don't have that option, would get 
&amp;gt; the default, sanitized HTML content. The legacy DataTransfer APIs already 
&amp;gt; allow access to unsanitized HTML content, so we don't think this will 
&amp;gt; create any additional security loopholes.
&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt; WebView application risks
&amp;gt;
&amp;gt; *Does this intent deprecate or change behavior of existing APIs, such that 
&amp;gt; it has potentially high risk for Android WebView-based applications?*
&amp;gt;
&amp;gt; No. This is an opt-in feature so existing Android webview-based 
&amp;gt; applications can continue reading sanitized HTML unless they explicitly 
&amp;gt; opt-into reading unsanitized HTML via the `unsanitized` option.
&amp;gt;
&amp;gt;
&amp;gt; Debuggability
&amp;gt;
&amp;gt; No specific DevTools changes are required. This feature is treated like 
&amp;gt; any other JS method.
&amp;gt;
&amp;gt;
&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac, 
&amp;gt; Linux, Chrome OS, Android, and Android WebView)?
&amp;gt;
&amp;gt; Yes
&amp;gt;
&amp;gt;
&amp;gt; Is this feature fully tested by web-platform-tests 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt; ?
&amp;gt;
&amp;gt; Yes
&amp;gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/web-platform-tests/wpt/blob/38cdcdeeac/clipboard-apis/async-unsanitized-html-formats-write-read.tentative.https.html"&gt;https://github.com/web-platform-tests/wpt/blob/38cdcdeeac/clipboard-apis/async-unsanitized-html-formats-write-read.tentative.https.html&lt;/a&gt;
&amp;gt; ,
&amp;gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/web_tests/external/wpt/clipboard-apis/async-unsanitized-html-formats-write-read.tentative.https.html"&gt;https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/web_tests/external/wpt/clipboard-apis/async-unsanitized-html-formats-write-read.tentative.https.html&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; Flag name on chrome://flags
&amp;gt;
&amp;gt; ClipboardUnsanitizedContent
&amp;gt;
&amp;gt;
&amp;gt; Finch feature name
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt;
&amp;gt; Non-finch justification
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt;
&amp;gt; Requires code in //chrome?
&amp;gt;
&amp;gt; False
&amp;gt;
&amp;gt;
&amp;gt; Tracking bug
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1268679"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1268679&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; Measurement
&amp;gt;
&amp;gt; Added usage metrics: ClipboardUnsanitizedContent
&amp;gt;
&amp;gt;
&amp;gt; Adoption expectation
&amp;gt;
&amp;gt; Excel online is ready to use this API. They are trying to move away from 
&amp;gt; DataTransfer APIs and use Async clipboard APIs to take advantage of async 
&amp;gt; behavior and new capabilities like web custom formats, and preventing 
&amp;gt; sanitization of HTML is a blocker for this migration.
&amp;gt;
&amp;gt;
&amp;gt; Adoption plan
&amp;gt;
&amp;gt; Excel app plans to leverage the feature immediately.
&amp;gt;
&amp;gt;
&amp;gt; Sample links
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://viridian-hypnotic-cut.glitch.me/"&gt;https://viridian-hypnotic-cut.glitch.me/&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; Estimated milestones
&amp;gt;
&amp;gt; Shipping on desktop
&amp;gt;
&amp;gt; 121
&amp;gt;
&amp;gt;
&amp;gt; Shipping on Android
&amp;gt;
&amp;gt; 121
&amp;gt;
&amp;gt;
&amp;gt; *Link to entry on the Chrome Platform Status*
&amp;gt;
&amp;gt;
&amp;gt; *Old Chrome status entry: *
&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5716132676763648*:"&gt;https://chromestatus.com/feature/5716132676763648*:&lt;/a&gt; *All feature review 
&amp;gt; gates were approved except API owners sign-off. Since this is a new feature 
&amp;gt; and not a change in behavior of an existing web API, a new chromestatus 
&amp;gt; entry was created:
&amp;gt;
&amp;gt; *New Chrome status entry: *
&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5203909459312640"&gt;https://chromestatus.com/feature/5203909459312640&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; Summary of the discussion
&amp;gt;
&amp;gt;
&amp;gt; There was some confusion around whether web custom format already provides 
&amp;gt; the ability to read/write unsanitized HTML content from within a site using 
&amp;gt; a `web text/html` format. To clarify, this proposal allows web authors to 
&amp;gt; read unsanitized HTML content from the built-in HTML format that many 
&amp;gt; native apps (that may not have support for “web text/html” format) write to 
&amp;gt; the clipboard. 
&amp;gt;
&amp;gt;
&amp;gt; If an app doesn’t opt-into reading the unsanitized HTML content, then the 
&amp;gt; default async clipboard read() method for the built-in text/html format 
&amp;gt; would return a sanitized fragment.
&amp;gt;
&amp;gt;
&amp;gt; Existing DataTransfer APIs already provide the ability to read/write 
&amp;gt; unsanitized HTML content to the clipboard in the built-in HTML format, so 
&amp;gt; this proposal aligns the read behavior between async clipboard read() 
&amp;gt; method and DataTransfer getData() method.
&amp;gt;
&amp;gt;
&amp;gt; Spec changes were made to add the `unsanitized` option to the read() 
&amp;gt; method: &lt;a  rel="nofollow" href="https://w3c.github.io/clipboard-apis/#dom-clipboard-read"&gt;https://w3c.github.io/clipboard-apis/#dom-clipboard-read&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; Old I2S thread discussions: 
&amp;gt; &lt;a  rel="nofollow" href="https://mail.google.com/mail/u/1/?ui=2&amp;ik=ad97730700&amp;view=lg&amp;permmsgid=msg-f:1783916238508658206&amp;ser=1"&gt;https://mail.google.com/mail/u/1/?ui=2&amp;ik=ad97730700&amp;view=lg&amp;permmsgid=msg-f:1783916238508658206&amp;ser=1&lt;/a&gt;
&amp;gt;  
&amp;gt;
&amp;gt; Thanks,
&amp;gt; Anupam
&amp;gt;
&amp;gt; Sent from Outlook &amp;lt;&lt;a  rel="nofollow" href="http://aka.ms/weboutlook"&gt;http://aka.ms/weboutlook&lt;/a&gt;&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/7caa568a-1d53-4218-b99e-df068e376527n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/7caa568a-1d53-4218-b99e-df068e376527n%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08531.html</id>
        <title>[blink-dev] Intent to Ship: Async Clipboard API: Read unsanitized HTML format</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08531.html"/>
        <updated>2023-11-29T21:27:31.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08531.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Async+Clipboard+API%5C%3A+Read+unsanitized+HTML+format%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Intent to Ship: Async Clipboard API: Read unsanitized HTML format&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22%27Anupam+Snigdha%27+via+blink%5C-dev%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;'Anupam Snigdha' via blink-dev&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 13:27:31 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Resending the I2S with all the updates and a summary of discussion that 
happened in a different I2S 
thread&amp;lt;&lt;a  rel="nofollow" href="https://mail.google.com/mail/u/1/?ui=2&amp;ik=ad97730700&amp;view=lg&amp;permmsgid=msg-f:1783916238508658206&amp;ser=1"&gt;https://mail.google.com/mail/u/1/?ui=2&amp;ik=ad97730700&amp;view=lg&amp;permmsgid=msg-f:1783916238508658206&amp;ser=1&lt;/a&gt;&amp;gt;.&lt;/pre&gt;&lt;pre&gt;



Contact emails

sni...@microsoft.com, sa...@microsoft.com, est...@chromium.org, 
jsb...@chromium.org, asu...@chromium.org, ansol...@microsoft.com


Explainer

&lt;a  rel="nofollow" href="https://github.com/w3c/editing/blob/gh-pages/docs/clipboard-unsanitized/explainer.md"&gt;https://github.com/w3c/editing/blob/gh-pages/docs/clipboard-unsanitized/explainer.md&lt;/a&gt;


Specification

&lt;a  rel="nofollow" href="https://w3c.github.io/clipboard-apis/#dom-clipboard-read"&gt;https://w3c.github.io/clipboard-apis/#dom-clipboard-read&lt;/a&gt;


Summary

This proposal provides an `unsanitized` option in the 
navigation.clipboard.read() method to get the unsanitized HTML format. Unless 
sites explicitly opt-into reading the unsanitized HTML, they will get the 
sanitized HTML fragment by-default. Currently, when we read text/html MIME type 
using the async clipboard API, the sanitizer is invoked to strip out contents 
from the HTML markup due to security concerns, and styles are inlined into the 
HTML markup, which leads to a bloated HTML payload and loss of fidelity of HTML 
content when read by web authors or native apps.


The DataTransfer API in Chromium does not perform any sanitization, returning 
only unsanitized HTML markup. Therefore, this change gives web authors the 
ability to use the async clipboard API without regressing behavior compared to 
the DataTransfer API.


Comments

For more context on this change, here is a discussion between stakeholders: 
&lt;a  rel="nofollow" href="https://docs.google.com/document/d/1ha0pcpQsEgVGtPK8dd8N_0P1ynI7rXV7bR5ZFmOTD6Y/edit?usp=sharing"&gt;https://docs.google.com/document/d/1ha0pcpQsEgVGtPK8dd8N_0P1ynI7rXV7bR5ZFmOTD6Y/edit?usp=sharing&lt;/a&gt;


Blink component

Blink&amp;gt;DataTransfer&amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EDataTransfer"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EDataTransfer&lt;/a&gt;&amp;gt;


Search tags

unsanitized html&amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:unsanitized%20html"&gt;https://chromestatus.com/features#tags:unsanitized%20html&lt;/a&gt;&amp;gt;, 
async api&amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:async%20api"&gt;https://chromestatus.com/features#tags:async%20api&lt;/a&gt;&amp;gt;, 
clipboard&amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:clipboard"&gt;https://chromestatus.com/features#tags:clipboard&lt;/a&gt;&amp;gt;


TAG review

The TAG reviewed the unsanitized option as part of a broader review of the 
pickling API (now called web custom formats).

&lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/636#issuecomment-919324784"&gt;https://github.com/w3ctag/design-reviews/issues/636#issuecomment-919324784&lt;/a&gt;

&lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/636#issuecomment-869792053"&gt;https://github.com/w3ctag/design-reviews/issues/636#issuecomment-869792053&lt;/a&gt;


TAG review status

Issues addressed.


WebFeature UseCounter name

AsyncClipboardAPIUnsanitizedRead


Risks

Interoperability and Compatibility


This is a Chromium-only feature (see discussion in 
&lt;a  rel="nofollow" href="https://docs.google.com/document/d/1ha0pcpQsEgVGtPK8dd8N_0P1ynI7rXV7bR5ZFmOTD6Y/edit?usp=sharing"&gt;https://docs.google.com/document/d/1ha0pcpQsEgVGtPK8dd8N_0P1ynI7rXV7bR5ZFmOTD6Y/edit?usp=sharing&lt;/a&gt;),
 so adding a dictionary as an argument in read will be ignored in non-Chromium 
browsers and the HTML read might be sanitized. As this change aligns the 
sanitization behavior of the DataTransfer API and the Clipboard Async API, 
existing paste targets that support DataTransfer APIs unsanitized HTML don't 
need to make updates on how they handle HTML if they decide to transition to 
the Clipboard Async API.


Firefox provides access to unsanitized HTML via DataTransfer APIs, which 
matches Chromium's behavior, and Safari only allows access to unsanitized HTML 
if it's being read within the same origin.


Gecko: Neutral (&lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/769"&gt;https://github.com/mozilla/standards-positions/issues/769&lt;/a&gt;) 
&lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/150#issuecomment-1031684598"&gt;https://github.com/w3c/clipboard-apis/issues/150#issuecomment-1031684598&lt;/a&gt;


WebKit: Negative 
(&lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/150#issuecomment-974236367"&gt;https://github.com/w3c/clipboard-apis/issues/150#issuecomment-974236367&lt;/a&gt;)


Web developers: Positive. Positive signals from Excel Online, 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/j9fDbU9E2Ds/m/IPocqIfEAwAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/j9fDbU9E2Ds/m/IPocqIfEAwAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;


Ergonomics

With this feature, we have added a dictionary argument to the read() method, 
where web authors will explicitly request for the unsanitized HTML format.


Activation

The current Async Clipboard API read method as specified in 
&lt;a  rel="nofollow" href="https://w3c.github.io/clipboard-apis/#dom-clipboard-read"&gt;https://w3c.github.io/clipboard-apis/#dom-clipboard-read&lt;/a&gt; isn't affected by the 
introduction of this feature as the default implementation of the API is 
unchanged, and the new `unsanitized` parameter in the read() method will not 
impact behavior on unsupported browsers(optional formats dictionary will be 
ignored). The behavior is validated through existing web tests.


Security

Sites have to explicitly opt into reading unsanitized HTML content via the 
&amp;quot;unsanitized&amp;quot; option, so any sites that don't have that option, would get the 
default, sanitized HTML content. The legacy DataTransfer APIs already allow 
access to unsanitized HTML content, so we don't think this will create any 
additional security loopholes.



WebView application risks

Does this intent deprecate or change behavior of existing APIs, such that it 
has potentially high risk for Android WebView-based applications?

No. This is an opt-in feature so existing Android webview-based applications 
can continue reading sanitized HTML unless they explicitly opt-into reading 
unsanitized HTML via the `unsanitized` option.


Debuggability

No specific DevTools changes are required. This feature is treated like any 
other JS method.


Will this feature be supported on all six Blink platforms (Windows, Mac, Linux, 
Chrome OS, Android, and Android WebView)?

Yes


Is this feature fully tested by 
web-platform-tests&amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;?

Yes

&lt;a  rel="nofollow" href="https://github.com/web-platform-tests/wpt/blob/38cdcdeeac/clipboard-apis/async-unsanitized-html-formats-write-read.tentative.https.html"&gt;https://github.com/web-platform-tests/wpt/blob/38cdcdeeac/clipboard-apis/async-unsanitized-html-formats-write-read.tentative.https.html&lt;/a&gt;,

&lt;a  rel="nofollow" href="https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/web_tests/external/wpt/clipboard-apis/async-unsanitized-html-formats-write-read.tentative.https.html"&gt;https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/web_tests/external/wpt/clipboard-apis/async-unsanitized-html-formats-write-read.tentative.https.html&lt;/a&gt;


Flag name on chrome://flags

ClipboardUnsanitizedContent


Finch feature name

None


Non-finch justification

None


Requires code in //chrome?

False


Tracking bug

&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1268679"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1268679&lt;/a&gt;


Measurement

Added usage metrics: ClipboardUnsanitizedContent


Adoption expectation

Excel online is ready to use this API. They are trying to move away from 
DataTransfer APIs and use Async clipboard APIs to take advantage of async 
behavior and new capabilities like web custom formats, and preventing 
sanitization of HTML is a blocker for this migration.


Adoption plan

Excel app plans to leverage the feature immediately.


Sample links

&lt;a  rel="nofollow" href="https://viridian-hypnotic-cut.glitch.me/"&gt;https://viridian-hypnotic-cut.glitch.me/&lt;/a&gt;


Estimated milestones

Shipping on desktop

121


Shipping on Android

121


Link to entry on the Chrome Platform Status


Old Chrome status entry: &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5716132676763648:"&gt;https://chromestatus.com/feature/5716132676763648:&lt;/a&gt; All 
feature review gates were approved except API owners sign-off. Since this is a 
new feature and not a change in behavior of an existing web API, a new 
chromestatus entry was created:

New Chrome status entry: &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5203909459312640"&gt;https://chromestatus.com/feature/5203909459312640&lt;/a&gt;


Summary of the discussion


There was some confusion around whether web custom format already provides the 
ability to read/write unsanitized HTML content from within a site using a `web 
text/html` format. To clarify, this proposal allows web authors to read 
unsanitized HTML content from the built-in HTML format that many native apps 
(that may not have support for “web text/html” format) write to the clipboard.


If an app doesn’t opt-into reading the unsanitized HTML content, then the 
default async clipboard read() method for the built-in text/html format would 
return a sanitized fragment.


Existing DataTransfer APIs already provide the ability to read/write 
unsanitized HTML content to the clipboard in the built-in HTML format, so this 
proposal aligns the read behavior between async clipboard read() method and 
DataTransfer getData() method.


Spec changes were made to add the `unsanitized` option to the read() method: 
&lt;a  rel="nofollow" href="https://w3c.github.io/clipboard-apis/#dom-clipboard-read"&gt;https://w3c.github.io/clipboard-apis/#dom-clipboard-read&lt;/a&gt;


Old I2S thread discussions: 
&lt;a  rel="nofollow" href="https://mail.google.com/mail/u/1/?ui=2&amp;ik=ad97730700&amp;view=lg&amp;permmsgid=msg-f:1783916238508658206&amp;ser=1"&gt;https://mail.google.com/mail/u/1/?ui=2&amp;ik=ad97730700&amp;view=lg&amp;permmsgid=msg-f:1783916238508658206&amp;ser=1&lt;/a&gt;

Thanks,
Anupam

Sent from Outlook&amp;lt;&lt;a  rel="nofollow" href="http://aka.ms/weboutlook"&gt;http://aka.ms/weboutlook&lt;/a&gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/PH0PR00MB0981EB119CF529F48685E459CF83A%40PH0PR00MB0981.namprd00.prod.outlook.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/PH0PR00MB0981EB119CF529F48685E459CF83A%40PH0PR00MB0981.namprd00.prod.outlook.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08530.html</id>
        <title>Re: [blink-dev] Intent to Experiment: X25519Kyber768 key encapsulation for TLS</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08530.html"/>
        <updated>2023-11-29T20:54:07.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08530.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Experiment%5C%3A+X25519Kyber768+key+encapsulation+for+TLS%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Experiment: X25519Kyber768 key encapsulation for TLS&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22%27David+Adrian%27+via+blink%5C-dev%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;'David Adrian' via blink-dev&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 12:54:07 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Updating this thread to say that Kyber has been at 10% stable on all 
platforms since 2023-11-06.&lt;/pre&gt;&lt;pre&gt;

On Friday, September 8, 2023 at 3:32:09 PM UTC-6 David Benjamin wrote:

&amp;gt; On Fri, Sep 8, 2023 at 4:16 PM 'David Adrian' via blink-dev &amp;lt;
&amp;gt; blin...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; &amp;gt; LGTM to experiment from M117 - M118 inclusive. I think that's what 
&amp;gt;&amp;gt; you're asking for - please let me know if I'm reading this incorrectly. 
&amp;gt;&amp;gt; Good luck!
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Thank you!
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &amp;gt; Any pointers to learn more about this possible compat problem?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; The basic issue is that the Kyber key exchange pushes the ClientHello 
&amp;gt;&amp;gt; size to be larger than one packet. This makes it more likely that the call 
&amp;gt;&amp;gt; to read() on the TCP socket will not return the entire ClientHello in a 
&amp;gt;&amp;gt; single call. Not all implementations are prepared for this (despite the 
&amp;gt;&amp;gt; fact that the ClientHello TLS record includes the length at the start, and 
&amp;gt;&amp;gt; TCP is stream-based).
&amp;gt;&amp;gt;
&amp;gt;
&amp;gt; It is also conceivable that we run into some system that just caps the 
&amp;gt; ClientHello size too tightly. Though so far all the issues we've seen have 
&amp;gt; been just folks not understanding how to use sockets. An actual size limit 
&amp;gt; would be a very, very tight constraint.
&amp;gt;
&amp;gt; The main difference is that packetization issues will be a little flaky. 
&amp;gt; You may just get (un)lucky and the whole ClientHello is available in one 
&amp;gt; read() anyway. Also they can be made to trigger on smaller ClientHellos 
&amp;gt; too, if we artificially send the ClientHello in two halves with a delay 
&amp;gt; between them. But this difference is mostly only relevant to help diagnose 
&amp;gt; the issue. (I.e. do you need to fix your socket reading logic, or fix some 
&amp;gt; unreasonable size limit in your code?) The actual impact to page loads is 
&amp;gt; about the same.
&amp;gt;  
&amp;gt;
&amp;gt;&amp;gt; On Fri, Sep 1, 2023 at 4:00 PM Mike Taylor &amp;lt;mike...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Hi David,
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; LGTM to experiment from M117 - M118 inclusive. I think that's what 
&amp;gt;&amp;gt;&amp;gt; you're asking for - please let me know if I'm reading this incorrectly. 
&amp;gt;&amp;gt;&amp;gt; Good luck!
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; thanks,
&amp;gt;&amp;gt;&amp;gt; Mike
&amp;gt;&amp;gt;&amp;gt; On 8/28/23 9:18 AM, 'David Adrian' via blink-dev wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Contact emails dad...@google.com
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Explainer 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://www.ietf.org/archive/id/draft-tls-westerbaan-xyber768d00-02.html"&gt;https://www.ietf.org/archive/id/draft-tls-westerbaan-xyber768d00-02.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Specification 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://www.ietf.org/archive/id/draft-tls-westerbaan-xyber768d00-02.html"&gt;https://www.ietf.org/archive/id/draft-tls-westerbaan-xyber768d00-02.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Summary 
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Protect current Chrome TLS traffic against future quantum cryptanalysis 
&amp;gt;&amp;gt;&amp;gt; by deploying the Kyber768 quantum-resistant key agreement algorithm. This 
&amp;gt;&amp;gt;&amp;gt; is a hybrid X25519 + Kyber768 key agreement based on an IETF standard. This 
&amp;gt;&amp;gt;&amp;gt; specification and launch is outside the scope of W3C. This key agreement 
&amp;gt;&amp;gt;&amp;gt; will be launched as a TLS cipher, and should be transparent to users. 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://blog.chromium.org/2023/08/protecting-chrome-traffic-with-hybrid.html"&gt;https://blog.chromium.org/2023/08/protecting-chrome-traffic-with-hybrid.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Blink component Internals&amp;gt;Network&amp;gt;SSL 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Internals%3ENetwork%3ESSL"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Internals%3ENetwork%3ESSL&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Search tags tls &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:tls"&gt;https://chromestatus.com/features#tags:tls&lt;/a&gt;&amp;gt;, kem 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:kem"&gt;https://chromestatus.com/features#tags:kem&lt;/a&gt;&amp;gt;, kyber 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:kyber"&gt;https://chromestatus.com/features#tags:kyber&lt;/a&gt;&amp;gt;, postquantum 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:postquantum"&gt;https://chromestatus.com/features#tags:postquantum&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; TAG review 
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; TAG review status Pending
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Risks 
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility 
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Post-quantum secure ciphers are larger than classical ciphers. This may 
&amp;gt;&amp;gt;&amp;gt; cause compatibility issues with middleboxes.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Any pointers to learn more about this possible compat problem?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; *Gecko*: No signal (
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/874"&gt;https://github.com/mozilla/standards-positions/issues/874&lt;/a&gt;) Firefox is 
&amp;gt;&amp;gt;&amp;gt; also in the process of rolling this out.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal (
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/244"&gt;https://github.com/WebKit/standards-positions/issues/244&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; *Web developers*: No signals
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; WebView application risks 
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such 
&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Goals for experimentation This is a Finch experiment, not site opt-in.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; We are aiming to shake out bugs and incompatibilities with buggy TLS 
&amp;gt;&amp;gt;&amp;gt; stacks that do not correctly handle large TLS ClientHellos. Announcing a 
&amp;gt;&amp;gt;&amp;gt; public timeline for experimenting on stable provides the necessary 
&amp;gt;&amp;gt;&amp;gt; justification for teams at companies who have buggy TLS stacks to 
&amp;gt;&amp;gt;&amp;gt; prioritize fixing the bugs.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Ongoing technical constraints 
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Debuggability 
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac, 
&amp;gt;&amp;gt;&amp;gt; Linux, Chrome OS, Android, and Android WebView)? Yes
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; ? No
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flags enable-tls13-kyber
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Finch feature name PostQuantumKyber
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome? False
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Tracking bug 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1442377"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1442377&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Launch bug &lt;a  rel="nofollow" href="https://launch.corp.google.com/launch/4252981"&gt;https://launch.corp.google.com/launch/4252981&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Estimated milestones 
&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 119 
&amp;gt;&amp;gt;&amp;gt; OriginTrial desktop last 118 
&amp;gt;&amp;gt;&amp;gt; OriginTrial desktop first 117 
&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 115 
&amp;gt;&amp;gt;&amp;gt; Shipping on Android 119 
&amp;gt;&amp;gt;&amp;gt; OriginTrial Android last 118 
&amp;gt;&amp;gt;&amp;gt; OriginTrial Android first 117 
&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 115 
&amp;gt;&amp;gt;&amp;gt; Shipping on WebView 119 
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5257822742249472"&gt;https://chromestatus.com/feature/5257822742249472&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussions Intent to prototype: 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGkh42%2BgKeCTA6vWwzrE%3DDVR%3DTmQaCyDFQxqnXkOy9GcVyGtnA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGkh42%2BgKeCTA6vWwzrE%3DDVR%3DTmQaCyDFQxqnXkOy9GcVyGtnA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt; -- 
&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google 
&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send 
&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+...@chromium.org.
&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGkh42%2B37SpGUy9t6bBkP13XQL4mrEaY%2Bu0wAzttjZyr_f2rGA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGkh42%2B37SpGUy9t6bBkP13XQL4mrEaY%2Bu0wAzttjZyr_f2rGA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGkh42%2B37SpGUy9t6bBkP13XQL4mrEaY%2Bu0wAzttjZyr_f2rGA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGkh42%2B37SpGUy9t6bBkP13XQL4mrEaY%2Bu0wAzttjZyr_f2rGA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; -- 
&amp;gt;&amp;gt; You received this message because you are subscribed to the Google Groups 
&amp;gt;&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an 
&amp;gt;&amp;gt; email to blink-dev+...@chromium.org.
&amp;gt;&amp;gt;
&amp;gt; To view this discussion on the web visit 
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGkh42%2BoZZVLYf3hVfxe9RezK%2B_i26tL6M2r6aFLqd-cvoQvRg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGkh42%2BoZZVLYf3hVfxe9RezK%2B_i26tL6M2r6aFLqd-cvoQvRg%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;  
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGkh42%2BoZZVLYf3hVfxe9RezK%2B_i26tL6M2r6aFLqd-cvoQvRg%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGkh42%2BoZZVLYf3hVfxe9RezK%2B_i26tL6M2r6aFLqd-cvoQvRg%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/9eebd568-28c7-4e17-a20e-dd9a69b1090fn%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/9eebd568-28c7-4e17-a20e-dd9a69b1090fn%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08529.html</id>
        <title>[blink-dev] Re: Intent to Ship: Multiple Readers and Writers in File System Access API</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08529.html"/>
        <updated>2023-11-29T19:17:33.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08529.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+Multiple+Readers+and+Writers+in+File+System+Access+API%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Ship: Multiple Readers and Writers in File System Access API&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22%27Ajay+Rahatekar%27+via+blink%5C-dev%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;'Ajay Rahatekar' via blink-dev&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 11:17:33 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;+ajayrahate...@google.com

On Wednesday, November 29, 2023 at 8:18:04 AM UTC-8 yoav...@chromium.org 
wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; Can you please tick all the review boxes in the Chrome status entry?
&amp;gt;
&amp;gt; On Monday, November 27, 2023 at 8:19:42 PM UTC+1 mem...@google.com wrote:
&amp;gt;
&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; ds...@google.com, mem...@google.com
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Explainer
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/fs/blob/main/proposals/MultipleReadersWriters.md"&gt;https://github.com/whatwg/fs/blob/main/proposals/MultipleReadersWriters.md&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/fs/pull/151"&gt;https://github.com/whatwg/fs/pull/151&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Currently, only one FileSystemSyncAccessHandle may be open at a time per 
&amp;gt;&amp;gt; file, preventing an origin from reading and writing to the same file from 
&amp;gt;&amp;gt; multiple tabs easily. Conversely, multiple FileSystemWritableFileStreams 
&amp;gt;&amp;gt; can be simultaneously open, letting multiple writers clobber each other.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Introducing new locking modes for FileSystemSyncAccessHandle and 
&amp;gt;&amp;gt; FileSystemWritableFileStream allows opening either multiple readers/writers 
&amp;gt;&amp;gt; or an exclusive writer to a file entry, depending on the application's use 
&amp;gt;&amp;gt; case.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; ```
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; handle.createSyncAccessHandle({ mode: 'read-only' });
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; handle.createSyncAccessHandle({ mode: 'readwrite-unsafe' });
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; handle.createWritable({ mode: 'exclusive' });
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; ```
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Blink&amp;gt;Storage&amp;gt;FileSystem 
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage%3EFileSystem"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage%3EFileSystem&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/845"&gt;https://github.com/w3ctag/design-reviews/issues/845&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; TAG review status
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Issues addressed
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Origin Trial documentation link
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://developer.chrome.com/blog/new-dev-trial-for-multiple-readers-and-writers/"&gt;https://developer.chrome.com/blog/new-dev-trial-for-multiple-readers-and-writers/&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Gecko: Positive (
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/861"&gt;https://github.com/mozilla/standards-positions/issues/861&lt;/a&gt;)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; WebKit: No Signal (
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/238"&gt;https://github.com/WebKit/standards-positions/issues/238&lt;/a&gt;)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Web developers: Positive (&lt;a  rel="nofollow" href="https://github.com/whatwg/fs/issues/34"&gt;https://github.com/whatwg/fs/issues/34&lt;/a&gt;)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Other signals: Emscripten plans to utilize multiple readers and writers 
&amp;gt;&amp;gt; for performance improvement, and sites using Emscripten will be able to 
&amp;gt;&amp;gt; take advantage of this integration.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such that 
&amp;gt;&amp;gt; it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Feature is web exposed through WebIDL changes. No additional 
&amp;gt;&amp;gt; implementation effort is required.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac, 
&amp;gt;&amp;gt; Linux, Chrome OS, Android, and Android WebView)?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Yes
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests 
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; ?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; WPTs have been added that fully test the behavior of the new locking 
&amp;gt;&amp;gt; modes. They additionally test the interactions between combinations of 
&amp;gt;&amp;gt; primitives, their different modes, and file handle operations.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/fs/FileSystemFileHandle-cross-primitive-locking.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/fs/FileSystemFileHandle-cross-primitive-locking.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/fs/FileSystemFileHandle-sync-access-handle-lock-modes.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/fs/FileSystemFileHandle-sync-access-handle-lock-modes.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/fs/FileSystemFileHandle-writable-file-stream-lock-modes.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/fs/FileSystemFileHandle-writable-file-stream-lock-modes.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Flag name on chrome://flags
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; file-system-access-locking-scheme
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Finch feature name
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; FileSystemAccessLockingScheme
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Requires code in //chrome?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; False
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1382215"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1382215&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Launch bug
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://launch.corp.google.com/launch/4261043"&gt;https://launch.corp.google.com/launch/4261043&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Shipping on desktop
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; 121
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Discussion: &lt;a  rel="nofollow" href="https://github.com/whatwg/fs/issues/34"&gt;https://github.com/whatwg/fs/issues/34&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; No open issues that introduce web compat/interop risk.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5172892632875008"&gt;https://chromestatus.com/feature/5172892632875008&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Links to previous Intent discussions
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Intent to prototype: 
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAPscNz5Oi-z6-%2BvTVyf9BNgvVnLZeQo5nfzyRhEZ_F400tTP3w%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAPscNz5Oi-z6-%2BvTVyf9BNgvVnLZeQo5nfzyRhEZ_F400tTP3w%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/bd470b7d-4fa3-4874-a421-a2376910bc9bn%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/bd470b7d-4fa3-4874-a421-a2376910bc9bn%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08528.html</id>
        <title>Re: [blink-dev] Intent to Ship: Storage Buckets API</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08528.html"/>
        <updated>2023-11-29T17:32:59.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08528.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Storage+Buckets+API%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Storage Buckets API&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Evan+Stade%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Evan Stade&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 09:32:59 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Hi Philip,

Here is a comprehensive list of web tests that verify storageBuckets
behavior. We do feel the size of this list aligns well with the spec,
which is fairly concise. As you can see, some are spread out in directories
for the other storage APIs that storageBuckets brokers.&lt;/pre&gt;&lt;pre&gt;

That said, not all behavior is verifiable from the web. For example, it's
not possible to reliably trigger an automatic eviction event from the web,
so we can't really know if `persisted` is *actually* respected. Browser
tests provide that kind of coverage.

Some of the WPT are internal but they can/should be moved
&amp;lt;&lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5072535"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5072535&lt;/a&gt;&amp;gt; to the
external WPT directory. Thanks for the prompt.

external/wpt/IndexedDB/storage-buckets.https.any.js:
external/wpt/fs/script-tests/FileSystemBaseHandle-buckets.js:
external/wpt/service-workers/cache-storage/cache-storage-buckets.https.any.js:
external/wpt/storage/buckets/bucket-quota-indexeddb.tentative.https.any.js:
external/wpt/storage/buckets/bucket-storage-policy.tentative.https.any.js:
external/wpt/web-locks/storage-buckets.tentative.https.any.js:
http/tests/inspector-protocol/storage/cache-storage-request-cache-names.js:
http/tests/inspector-protocol/storage/cache-storage-storage-key-request-cache-names.js:
http/tests/inspector-protocol/storage/indexed-db-storage-key-clear.js:
http/tests/inspector-protocol/storage/indexed-db-storage-key-delete-db.js:
http/tests/inspector-protocol/storage/indexed-db-storage-key-delete-object-store-entries.js:
http/tests/inspector-protocol/storage/indexed-db-storage-key-get-metadata.js:
http/tests/inspector-protocol/storage/indexed-db-storage-key-request-data.js:
http/tests/inspector-protocol/storage/indexed-db-storage-key-request-database-names.js:
http/tests/inspector-protocol/storage/indexed-db-storage-key-request-database.js:
http/tests/inspector-protocol/storage/storage-bucket-storage-key-track-untrack.js:
http/tests/inspector-protocol/storage/storage-buckets-delete-storage-bucket.js:
wpt_internal/storage/buckets/bucket_names.tentative.https.any.js:
wpt_internal/storage/buckets/buckets_basic.tentative.https.any.js:
wpt_internal/storage/buckets/buckets_storage_policy.tentative.https.any.js:
wpt_internal/storage/buckets/detached-iframe.https.html:
wpt_internal/storage/buckets/idlharness-worker.https.any.js:
wpt_internal/storage/buckets/opaque-origin.https.window.js:
wpt_internal/storage/buckets/resources/opaque-origin-sandbox.html:
wpt_internal/storage/buckets/storage_bucket_object.tentative.https.any.js:

-- Evan Stade


On Wed, Nov 29, 2023 at 9:02 AM Philip Jägenstedt &amp;lt;foo...@chromium.org&amp;gt;
wrote:

&amp;gt; Hi Evan,
&amp;gt;
&amp;gt; Is
&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/storage/buckets?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/storage/buckets?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;
&amp;gt; the full set of tests? Given the size of the spec, does that cover the
&amp;gt; whole feature well?
&amp;gt;
&amp;gt; Best regards,
&amp;gt; Philip
&amp;gt;
&amp;gt; On Wed, Nov 29, 2023 at 5:58 PM Evan Stade &amp;lt;est...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; [reply-all this time]
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Hi Philip,
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; thanks for pointing out those two oversights. I have fixed the checkboxes
&amp;gt;&amp;gt; on the chromestatus entry. It is in fact tested by WPT and supported on all
&amp;gt;&amp;gt; Blink platforms.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Wed, Nov 29, 2023 at 8:43 AM Philip Jägenstedt &amp;lt;foo...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Hi Evan,
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; A few questions inline.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 14, 2023 at 9:38 PM Evan Stade &amp;lt;est...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; No
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Which platform will this not be supported on?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; No
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Can this be fully tested in WPT? If it's not tested in WPT, how is it
&amp;gt;&amp;gt;&amp;gt; currently tested?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Best regards,
&amp;gt;&amp;gt;&amp;gt; Philip
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAO4XGS9eLOkG5WAhH33XWBYW-gNEwzaF5q_p0R8Y6Br9yb8ntg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAO4XGS9eLOkG5WAhH33XWBYW-gNEwzaF5q_p0R8Y6Br9yb8ntg%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08527.html</id>
        <title>Re: [blink-dev] Re: Intent to Implement and Ship: Async Clipboard API: Allow empty ClipboardItem during read</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08527.html"/>
        <updated>2023-11-29T17:03:32.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08527.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Implement+and+Ship%5C%3A+Async+Clipboard+API%5C%3A+Allow+empty+ClipboardItem+during+read%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Implement and Ship: Async Clipboard API: Allow empty ClipboardItem during read&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Daniel+Bratell%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Daniel Bratell&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 09:03:32 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre style="margin: 0em;"&gt;
LGTM3

/Daniel&lt;/pre&gt;&lt;pre&gt;

On 2023-11-29 18:01, Chris Harrelson wrote:
&lt;/pre&gt;&lt;blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"&gt;&lt;pre style="margin: 0em;"&gt;
LGTM2

On Wed, Nov 29, 2023 at 8:27 AM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:

    LGTM1

    This seems to reduce interop risk. Thanks!

    On Tuesday, November 21, 2023 at 6:45:00 PM UTC+1 snianu wrote:


                Contact emails

        sni...@microsoft.com, est...@chromium.org,
        sa...@microsoft.com, jsb...@google.com


                Explainer

        
&lt;a  rel="nofollow" href="https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing"&gt;https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing&lt;/a&gt;


                Specification

        &lt;a  rel="nofollow" href="https://w3c.github.io/clipboard-apis/#dom-clipboard-read"&gt;https://w3c.github.io/clipboard-apis/#dom-clipboard-read&lt;/a&gt;


                Design docs

        &lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179"&gt;https://github.com/w3c/clipboard-apis/issues/179&lt;/a&gt;
        
&lt;a  rel="nofollow" href="https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing"&gt;https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing&lt;/a&gt;


                Summary

        When the system clipboard is either empty or has unsupported
        formats, paste event returns an empty DataTransfer object, but
        the promise for `navigator.clipboard.read()`API is rejected.
        This creates interop differences and confusion among web
        developers as they aren’t sure why read failed.


        Currently in Chrome, we throw a DataError. The proposal here
        is to return an empty ClipboardItem when the system clipboard
        is either empty or there aren’t any supported formats.


                Blink component

        Blink&amp;gt;DataTransfer
        
&amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EDataTransfer"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EDataTransfer&lt;/a&gt;&amp;gt;


                Search tags

        AsyncClipboardAPI
        &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:AsyncClipboardAPI"&gt;https://chromestatus.com/features#tags:AsyncClipboardAPI&lt;/a&gt;&amp;gt;,
        ClipboardItem
        &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:ClipboardItem"&gt;https://chromestatus.com/features#tags:ClipboardItem&lt;/a&gt;&amp;gt;


                TAG review

        None


                TAG review status

        Not applicable

        It satisfies one of the criterias for exception
        
&amp;lt;&lt;a  rel="nofollow" href="https://www.chromium.org/blink/guidelines/api-owners/process-exceptions/"&gt;https://www.chromium.org/blink/guidelines/api-owners/process-exceptions/&lt;/a&gt;&amp;gt;.
        This change has already been shipped in Safari
        
&amp;lt;&lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784&lt;/a&gt;&amp;gt; and
        Firefox has also implemented it
        
&amp;lt;http://(&lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581&lt;/a&gt;&amp;gt;.
        The spec already allows empty ClipboardItem during read so it
        doesn’t need any update.



                Risks



                Interoperability and Compatibility

        None. Safari has shipped this feature and Firefox has already
        implemented it.


        /Gecko/: Positive
        
(&lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581&lt;/a&gt;)


        /WebKit/: Shipped/Shipping
        
(&lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784&lt;/a&gt;)


        /Web developers/: Positive This was a feedback from our
        partners at Office who are migrating from DataTransfer API to
        Async Clipboard API.


        /Other signals/:


                Ergonomics

        N/A


                Activation

        N/A


                Security

        None. The proposal only returns an empty ClipboardItem instead
        of rejecting the promise returned from the read() method when
        the clipboard is empty, so there isn’t any impact on the async
        clipboard API.


                WebView application risks

        /Does this intent deprecate or change behavior of existing
        APIs, such that it has potentially high risk for Android
        WebView-based applications?/

        None



                Debuggability

        Existing devtools support should suffice.


                Will this feature be supported on all six Blink
                platforms (Windows, Mac, Linux, Chrome OS, Android,
                and Android WebView)?

        Yes


                Is this feature fully tested by web-platform-tests
                
&amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;?

        No

        Currently emptying the clipboard is not exposed to the web, so
        it's not possible to add a WPT test for it.


                Flag name on chrome://flags

        None


                Finch feature name

        None


                Non-finch justification

        None


                Requires code in //chrome?

        False


                Tracking bug

        &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1500440"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1500440&lt;/a&gt;


                Sample links


        &lt;a  rel="nofollow" href="https://flash-lateral-nylon.glitch.me"&gt;https://flash-lateral-nylon.glitch.me&lt;/a&gt;


                Estimated milestones

        Shipping on desktop

                

        121


        Shipping on Android

                

        121



                Link to entry on the Chrome Platform Status

        &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5192271976988672"&gt;https://chromestatus.com/feature/5192271976988672&lt;/a&gt;


        This intent message was generated by Chrome Platform Status
        &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.




        Thanks,
        Anupam

        Sent from Outlook &amp;lt;&lt;a  rel="nofollow" href="http://aka.ms/weboutlook"&gt;http://aka.ms/weboutlook&lt;/a&gt;&amp;gt;

&lt;/pre&gt;&lt;tt&gt;    -- 
&lt;/tt&gt;&lt;tt&gt;    You received this message because you are subscribed to the Google
&lt;/tt&gt;&lt;pre style="margin: 0em;"&gt;
    Groups &amp;quot;blink-dev&amp;quot; group.
    To unsubscribe from this group and stop receiving emails from it,
    send an email to blink-dev+unsubscr...@chromium.org.
    To view this discussion on the web visit
    
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/2adf2536-daac-401a-8292-c65317d82fd3n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/2adf2536-daac-401a-8292-c65317d82fd3n%40chromium.org&lt;/a&gt;
    
&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/2adf2536-daac-401a-8292-c65317d82fd3n%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/2adf2536-daac-401a-8292-c65317d82fd3n%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.

--
&lt;/pre&gt;&lt;tt&gt;You received this message because you are subscribed to the Google 
&lt;/tt&gt;&lt;tt&gt;Groups &amp;quot;blink-dev&amp;quot; group.
&lt;/tt&gt;&lt;tt&gt;To unsubscribe from this group and stop receiving emails from it, send 
&lt;/tt&gt;&lt;tt&gt;an email to blink-dev+unsubscr...@chromium.org.
&lt;/tt&gt;&lt;tt&gt;To view this discussion on the web visit 
&lt;/tt&gt;&lt;tt&gt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw-k492DnKhWZMSSgM0E8fF-9CE1%2BoF_%3Dyhei4dC0uD9-g%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw-k492DnKhWZMSSgM0E8fF-9CE1%2BoF_%3Dyhei4dC0uD9-g%40mail.gmail.com&lt;/a&gt; 
&lt;/tt&gt;&lt;tt&gt;&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw-k492DnKhWZMSSgM0E8fF-9CE1%2BoF_%3Dyhei4dC0uD9-g%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw-k492DnKhWZMSSgM0E8fF-9CE1%2BoF_%3Dyhei4dC0uD9-g%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.
&lt;/tt&gt;&lt;/blockquote&gt;&lt;pre style="margin: 0em;"&gt;

--
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/dff56d5e-9df7-41b8-8c72-f4e78b7891b8%40gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/dff56d5e-9df7-41b8-8c72-f4e78b7891b8%40gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08526.html</id>
        <title>Re: [blink-dev] Intent to Ship: Storage Buckets API</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08526.html"/>
        <updated>2023-11-29T17:02:30.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08526.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Storage+Buckets+API%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Storage Buckets API&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Philip+J%C3%A4genstedt%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Philip Jägenstedt&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 09:02:30 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Hi Evan,

Is
&lt;a  rel="nofollow" href="https://wpt.fyi/results/storage/buckets?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/storage/buckets?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;
the full set of tests? Given the size of the spec, does that cover the
whole feature well?&lt;/pre&gt;&lt;pre&gt;

Best regards,
Philip

On Wed, Nov 29, 2023 at 5:58 PM Evan Stade &amp;lt;est...@chromium.org&amp;gt; wrote:

&amp;gt; [reply-all this time]
&amp;gt;
&amp;gt; Hi Philip,
&amp;gt;
&amp;gt; thanks for pointing out those two oversights. I have fixed the checkboxes
&amp;gt; on the chromestatus entry. It is in fact tested by WPT and supported on all
&amp;gt; Blink platforms.
&amp;gt;
&amp;gt; On Wed, Nov 29, 2023 at 8:43 AM Philip Jägenstedt &amp;lt;foo...@chromium.org&amp;gt;
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Hi Evan,
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; A few questions inline.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Tue, Nov 14, 2023 at 9:38 PM Evan Stade &amp;lt;est...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac,
&amp;gt;&amp;gt;&amp;gt; Linux, Chrome OS, Android, and Android WebView)?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; No
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Which platform will this not be supported on?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; ?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; No
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Can this be fully tested in WPT? If it's not tested in WPT, how is it
&amp;gt;&amp;gt; currently tested?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Best regards,
&amp;gt;&amp;gt; Philip
&amp;gt;&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYc1qjLWsu9KWtzaQbJF-JKpNttgLYwdcfwi46mmC65sqA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYc1qjLWsu9KWtzaQbJF-JKpNttgLYwdcfwi46mmC65sqA%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08525.html</id>
        <title>Re: [blink-dev] Re: Intent to Implement and Ship: Async Clipboard API: Allow empty ClipboardItem during read</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08525.html"/>
        <updated>2023-11-29T17:02:22.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08525.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Implement+and+Ship%5C%3A+Async+Clipboard+API%5C%3A+Allow+empty+ClipboardItem+during+read%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Implement and Ship: Async Clipboard API: Allow empty ClipboardItem during read&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Chris+Harrelson%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Chris Harrelson&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 09:02:22 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;LGTM2

On Wed, Nov 29, 2023 at 8:27 AM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; LGTM1
&amp;gt;
&amp;gt; This seems to reduce interop risk. Thanks!
&amp;gt;
&amp;gt; On Tuesday, November 21, 2023 at 6:45:00 PM UTC+1 snianu wrote:
&amp;gt;
&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; sni...@microsoft.com, est...@chromium.org, sa...@microsoft.com,
&amp;gt;&amp;gt; jsb...@google.com
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Explainer
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing"&gt;https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://w3c.github.io/clipboard-apis/#dom-clipboard-read"&gt;https://w3c.github.io/clipboard-apis/#dom-clipboard-read&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Design docs
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179"&gt;https://github.com/w3c/clipboard-apis/issues/179&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing"&gt;https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; When the system clipboard is either empty or has unsupported formats,
&amp;gt;&amp;gt; paste event returns an empty DataTransfer object, but the promise for
&amp;gt;&amp;gt; `navigator.clipboard.read()`API is rejected. This creates interop
&amp;gt;&amp;gt; differences and confusion among web developers as they aren’t sure why read
&amp;gt;&amp;gt; failed.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Currently in Chrome, we throw a DataError. The proposal here is to return
&amp;gt;&amp;gt; an empty ClipboardItem when the system clipboard is either empty or there
&amp;gt;&amp;gt; aren’t any supported formats.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Blink&amp;gt;DataTransfer
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EDataTransfer"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EDataTransfer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Search tags
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; AsyncClipboardAPI
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:AsyncClipboardAPI"&gt;https://chromestatus.com/features#tags:AsyncClipboardAPI&lt;/a&gt;&amp;gt;, ClipboardItem
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:ClipboardItem"&gt;https://chromestatus.com/features#tags:ClipboardItem&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; TAG review status
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Not applicable
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; It satisfies one of the criterias for exception
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://www.chromium.org/blink/guidelines/api-owners/process-exceptions/"&gt;https://www.chromium.org/blink/guidelines/api-owners/process-exceptions/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt; This change has already been shipped in Safari
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784&lt;/a&gt;&amp;gt; 
&amp;gt;&amp;gt; and
&amp;gt;&amp;gt; Firefox has also implemented it
&amp;gt;&amp;gt; &amp;lt;http://(&lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt; The spec already allows empty ClipboardItem during read so it doesn’t need
&amp;gt;&amp;gt; any update.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None. Safari has shipped this feature and Firefox has already implemented
&amp;gt;&amp;gt; it.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; *Gecko*: Positive (
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581&lt;/a&gt;)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; *WebKit*: Shipped/Shipping (
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784&lt;/a&gt;)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; *Web developers*: Positive This was a feedback from our partners at
&amp;gt;&amp;gt; Office who are migrating from DataTransfer API to Async Clipboard API.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Ergonomics
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Activation
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Security
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None. The proposal only returns an empty ClipboardItem instead of
&amp;gt;&amp;gt; rejecting the promise returned from the read() method when the clipboard is
&amp;gt;&amp;gt; empty, so there isn’t any impact on the async clipboard API.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; *Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?*
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Existing devtools support should suffice.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac,
&amp;gt;&amp;gt; Linux, Chrome OS, Android, and Android WebView)?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Yes
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; ?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; No
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Currently emptying the clipboard is not exposed to the web, so it's not
&amp;gt;&amp;gt; possible to add a WPT test for it.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Flag name on chrome://flags
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Finch feature name
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Requires code in //chrome?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; False
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1500440"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1500440&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Sample links
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://flash-lateral-nylon.glitch.me"&gt;https://flash-lateral-nylon.glitch.me&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Shipping on desktop
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; 121
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Shipping on Android
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; 121
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5192271976988672"&gt;https://chromestatus.com/feature/5192271976988672&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Thanks,
&amp;gt;&amp;gt; Anupam
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Sent from Outlook &amp;lt;&lt;a  rel="nofollow" href="http://aka.ms/weboutlook"&gt;http://aka.ms/weboutlook&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt; --
&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt; To view this discussion on the web visit
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/2adf2536-daac-401a-8292-c65317d82fd3n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/2adf2536-daac-401a-8292-c65317d82fd3n%40chromium.org&lt;/a&gt;
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/2adf2536-daac-401a-8292-c65317d82fd3n%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/2adf2536-daac-401a-8292-c65317d82fd3n%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt; .
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw-k492DnKhWZMSSgM0E8fF-9CE1%2BoF_%3Dyhei4dC0uD9-g%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw-k492DnKhWZMSSgM0E8fF-9CE1%2BoF_%3Dyhei4dC0uD9-g%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08524.html</id>
        <title>Re: [blink-dev] Re: Intent to Ship: Document picture-in-picture: require user gesture for resize APIs</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08524.html"/>
        <updated>2023-11-29T16:58:44.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08524.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+Document+picture%5C-in%5C-picture%5C%3A+require+user+gesture+for+resize+APIs%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Ship: Document picture-in-picture: require user gesture for resize APIs&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Chris+Harrelson%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Chris Harrelson&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:58:44 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;LGTM3

On Wed, Nov 29, 2023 at 8:36 AM Philip Jägenstedt &amp;lt;foo...@chromium.org&amp;gt;
wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; LGTM2
&amp;gt;
&amp;gt; On Wed, Nov 29, 2023 at 4:12 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; LGTM1
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Wednesday, November 29, 2023 at 4:04:49 PM UTC+1 Tommy Steimel wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Okay the security reviewer has now re-reviewed it given the updated
&amp;gt;&amp;gt;&amp;gt; information. Thanks!
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Mon, Nov 27, 2023 at 11:55 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 11:49 PM 'Tommy Steimel' via blink-dev &amp;lt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; blink-dev@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:43 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Friday, November 17, 2023 at 8:47:34 PM UTC+1 Tommy Steimel wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailsstei...@chromium.org, liber...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://github.com/WICG/document-picture-in-picture/"&gt;https://github.com/WICG/document-picture-in-picture/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; pull/104
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This adds a user gesture requirement for the resizeBy() and
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; resizeTo() Window APIs for document picture-in-picture windows. This 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; allows
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; websites to make use of those APIs while mitigating much of the abuse
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; potential of those APIs on an always-on-top window.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Media&amp;gt;PictureInPicture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EPictureInPicture"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EPictureInPicture&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewN/A as this is a minor change to the behavior of an
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; existing API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This added requirement would mean that calls to these API can now
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; fail. Is that new? Or are developers already expected to handle failures?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do we expect developers to start checking the UserActivation API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/UserActivation"&gt;https://developer.mozilla.org/en-US/docs/Web/API/UserActivation&lt;/a&gt;&amp;gt; before
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; calling these methods?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Currently these APIs always fail on document picture-in-picture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; windows regardless of user activation (to prevent really spammy
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; always-on-top windows). We don't expect developers to check the
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; UserActivation API at all, just to only call resizeTo()/resizeBy() in
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; response to a user gesture.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; From the subject and summary I also originally assumed this intent was
&amp;gt;&amp;gt;&amp;gt;&amp;gt; about adding a user gesture restriction, and it looks like your security
&amp;gt;&amp;gt;&amp;gt;&amp;gt; approval was also based on that incorrect understanding. Can you please
&amp;gt;&amp;gt;&amp;gt;&amp;gt; re-request a security review with the clarification of the scope of this
&amp;gt;&amp;gt;&amp;gt;&amp;gt; feature? Please also update the summary of the feature in ChromeStatus, eg:
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;quot;This enables the resizeBy() and resizeTo() Windows methods on document
&amp;gt;&amp;gt;&amp;gt;&amp;gt; picture-in-picture windows, but with the added restriction of a user
&amp;gt;&amp;gt;&amp;gt;&amp;gt; gesture requirement to mitigate the abuse potential&amp;quot;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Otherwise it looks fine to me.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: No signal (&lt;a  rel="nofollow" href="https://github.com/mozilla/"&gt;https://github.com/mozilla/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/670#issuecomment-1786354361) Added
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; comment to existing standards position issue for document
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; picture-in-picture. No response yet
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal (&lt;a  rel="nofollow" href="https://github.com/WebKit/"&gt;https://github.com/WebKit/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/41#issuecomment-1786354016) Added comment
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; to existing standards position issue for document picture-in-picture. No
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; response yet
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive The ability to programmatically resize
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the document picture-in-picture window is one of the most-requested
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; features for document picture-in-picture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Ergonomics
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Activation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Security
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; While being able to resize an always-on-top window at will is a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; security/annoyance risk, by making the API consume a user gesture, the
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; website can only resize once per click, which limits the possible abuse
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; vectors
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?No
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The document picture-in-picture API is not supported on Android
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; document-picture-in-picture/resize-requires-user-gesture.https.html
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Small, low-risk change to existing API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug&lt;a  rel="nofollow" href="https://crbug.com/1354325"&gt;https://crbug.com/1354325&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Sample links
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://steimelchrome.github.io/document-pip/click_to_resize.html"&gt;https://steimelchrome.github.io/document-pip/click_to_resize.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestonesShipping on desktop121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; or interop issues. Please list open issues (e.g. links to known github
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; issues in the project for the feature specification) whose resolution may
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; feature/5398995019235328
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt;&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt;&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org&lt;/a&gt;
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;
&amp;gt; --
&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt; To view this discussion on the web visit
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYdioCrFHatD-3FV0yuzGmUxDmAoQuupJxF79kDG3nxdUA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYdioCrFHatD-3FV0yuzGmUxDmAoQuupJxF79kDG3nxdUA%40mail.gmail.com&lt;/a&gt;
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYdioCrFHatD-3FV0yuzGmUxDmAoQuupJxF79kDG3nxdUA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYdioCrFHatD-3FV0yuzGmUxDmAoQuupJxF79kDG3nxdUA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt; .
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw_5P0Vx7s3LM0jSwq4XxjHAqwQfrt%3D%2B1qGoB9R741mgow%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw_5P0Vx7s3LM0jSwq4XxjHAqwQfrt%3D%2B1qGoB9R741mgow%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08523.html</id>
        <title>Re: [blink-dev] Intent to Ship: Storage Buckets API</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08523.html"/>
        <updated>2023-11-29T16:58:13.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08523.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Storage+Buckets+API%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Storage Buckets API&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Evan+Stade%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Evan Stade&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:58:13 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;[reply-all this time]

Hi Philip,&lt;/pre&gt;&lt;pre&gt;

thanks for pointing out those two oversights. I have fixed the checkboxes
on the chromestatus entry. It is in fact tested by WPT and supported on all
Blink platforms.

On Wed, Nov 29, 2023 at 8:43 AM Philip Jägenstedt &amp;lt;foo...@chromium.org&amp;gt;
wrote:

&amp;gt; Hi Evan,
&amp;gt;
&amp;gt; A few questions inline.
&amp;gt;
&amp;gt; On Tue, Nov 14, 2023 at 9:38 PM Evan Stade &amp;lt;est...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac,
&amp;gt;&amp;gt; Linux, Chrome OS, Android, and Android WebView)?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; No
&amp;gt;&amp;gt;
&amp;gt;
&amp;gt; Which platform will this not be supported on?
&amp;gt;
&amp;gt;
&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; ?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; No
&amp;gt;&amp;gt;
&amp;gt;
&amp;gt; Can this be fully tested in WPT? If it's not tested in WPT, how is it
&amp;gt; currently tested?
&amp;gt;
&amp;gt; Best regards,
&amp;gt; Philip
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAKqjbeVqhSmvAFqNKRZ10Ui5-w3qm7BtNdKGXM7o%2BQnWKVDLgw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAKqjbeVqhSmvAFqNKRZ10Ui5-w3qm7BtNdKGXM7o%2BQnWKVDLgw%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08522.html</id>
        <title>Re: [blink-dev] Intent to Ship: Document rules, response header, eagerness</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08522.html"/>
        <updated>2023-11-29T16:56:29.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08522.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Document+rules%2C+response+header%2C+eagerness%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Document rules, response header, eagerness&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Philip+J%C3%A4genstedt%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Philip Jägenstedt&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:56:29 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;LGTM3

On Wed, Nov 29, 2023 at 5:55 PM Daniel Bratell &amp;lt;bratel...@gmail.com&amp;gt; wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; LGTM2
&amp;gt;
&amp;gt; /Daniel
&amp;gt; On 2023-11-23 10:11, Yoav Weiss wrote:
&amp;gt;
&amp;gt; LGTM1
&amp;gt;
&amp;gt; These all seem like useful improvements! :)
&amp;gt;
&amp;gt;
&amp;gt; On Wed, Nov 22, 2023 at 8:14 PM Jeremy Roman &amp;lt;jbro...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 11:10 AM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Thu, Nov 16, 2023 at 12:33 AM Jeremy Roman &amp;lt;jbro...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Note: This intent email spans three Chromestatus entries for different
&amp;gt;&amp;gt;&amp;gt;&amp;gt; sub-features that we experimented with together and would like permission
&amp;gt;&amp;gt;&amp;gt;&amp;gt; to ship together in M121.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emails jbro...@chromium.org, adith...@chromium.org,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; isabo...@google.com, dome...@chromium.org, mc...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Explainer &lt;a  rel="nofollow" href="https://github.com/WICG/nav-speculation/blob/main/triggers.md"&gt;https://github.com/WICG/nav-speculation/blob/main/triggers.md&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wicg.github.io/nav-speculation/speculation-rules.html"&gt;https://wicg.github.io/nav-speculation/speculation-rules.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; (1) An extension to speculation rules syntax that lets the browser
&amp;gt;&amp;gt;&amp;gt;&amp;gt; obtain URLs for speculation from link elements in a page. They may include
&amp;gt;&amp;gt;&amp;gt;&amp;gt; criteria which restrict which of these links can be used.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Any specific parts of the explainer/spec that cover this one?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Sure:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WICG/nav-speculation/blob/main/triggers.md#document-rules"&gt;https://github.com/WICG/nav-speculation/blob/main/triggers.md#document-rules&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wicg.github.io/nav-speculation/speculation-rules.html#document-rule-predicate-matching"&gt;https://wicg.github.io/nav-speculation/speculation-rules.html#document-rule-predicate-matching&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wicg.github.io/nav-speculation/speculation-rules.html#find-matching-links"&gt;https://wicg.github.io/nav-speculation/speculation-rules.html#find-matching-links&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;
&amp;gt; That's very useful, thanks!!
&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; (2) Adding the eagerness field to the speculation rules will let the
&amp;gt;&amp;gt;&amp;gt;&amp;gt; developers control how eagerly the browser preloads links in order to
&amp;gt;&amp;gt;&amp;gt;&amp;gt; balance the performance advantage against resource overhead. This field
&amp;gt;&amp;gt;&amp;gt;&amp;gt; accepts one of &amp;quot;conservative&amp;quot;, &amp;quot;moderate&amp;quot;, &amp;quot;eager&amp;quot;, or &amp;quot;immediate&amp;quot; strings
&amp;gt;&amp;gt;&amp;gt;&amp;gt; as the value, and it is applicable to both &amp;quot;prefetch&amp;quot; and &amp;quot;prerender&amp;quot;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; actions and both &amp;quot;list&amp;quot; or &amp;quot;document&amp;quot; sources. If not explicitly specified,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; list rules default to &amp;quot;immediate&amp;quot; and document rules default to
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;quot;conservative&amp;quot;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; (3) Currently developers can only specify speculation rules using
&amp;gt;&amp;gt;&amp;gt;&amp;gt; inline script tags.  The proposed feature provides an alternative through
&amp;gt;&amp;gt;&amp;gt;&amp;gt; the &amp;quot;Speculation-Rules&amp;quot; header. Its value must be a URL to a text resource
&amp;gt;&amp;gt;&amp;gt;&amp;gt; with &amp;quot;application/speculationrules+json&amp;quot; MIME type. The resource's rules
&amp;gt;&amp;gt;&amp;gt;&amp;gt; will be added to the document's rule set.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink component Internals&amp;gt;Preload
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Internals%3EPreload"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Internals%3EPreload&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/721"&gt;https://github.com/w3ctag/design-reviews/issues/721&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review status Issues addressed (TAG still has reservations)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Chromium Trial Name SpeculationRulesPrefetchFuture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to origin trial feedback summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/13cJcoygFD64UcQH-P30dXCLbdD6SXpQwhpOUym64KXw/edit?usp=sharing"&gt;https://docs.google.com/document/d/13cJcoygFD64UcQH-P30dXCLbdD6SXpQwhpOUym64KXw/edit?usp=sharing&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Origin Trial documentation link
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WICG/nav-speculation/blob/main/chrome-2023q1-experiment-overview.md"&gt;https://github.com/WICG/nav-speculation/blob/main/chrome-2023q1-experiment-overview.md&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebFeature UseCounter name SpeculationRulesDocumentRules
&amp;gt;&amp;gt;&amp;gt;&amp;gt; SpeculationRulesSelectorMatches
&amp;gt;&amp;gt;&amp;gt;&amp;gt; SpeculationRulesHeader
&amp;gt;&amp;gt;&amp;gt;&amp;gt; SpeculationRulesExplicitEagerness
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Because authors cannot rely on document rules being evaluated (or
&amp;gt;&amp;gt;&amp;gt;&amp;gt; preloading generally), applications which use them should function
&amp;gt;&amp;gt;&amp;gt;&amp;gt; correctly in other browsers and should continue to function correctly were
&amp;gt;&amp;gt;&amp;gt;&amp;gt; the feature to be deprecated. Of course, ideally other browsers do find it
&amp;gt;&amp;gt;&amp;gt;&amp;gt; compelling to implement this feature.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Similar reasoning applies to the response header and eagerness field.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: No signal (
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/620"&gt;https://github.com/mozilla/standards-positions/issues/620&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal (
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/54"&gt;https://github.com/WebKit/standards-positions/issues/54&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/L3mpXE1x3Zk/m/VvbMZrcsAQAJ"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/L3mpXE1x3Zk/m/VvbMZrcsAQAJ&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt; positive feedback from Akamai and use within Chrome on web.dev
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Activation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Some developers might not be immediately aware of which URLs they can
&amp;gt;&amp;gt;&amp;gt;&amp;gt; prefetch or prerender without side effects; this risk is reduced if they
&amp;gt;&amp;gt;&amp;gt;&amp;gt; primarily use the feature for same-origin URL patterns they are familiar
&amp;gt;&amp;gt;&amp;gt;&amp;gt; with.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Security
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; See
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wicg.github.io/nav-speculation/speculation-rules.html#security-considerations"&gt;https://wicg.github.io/nav-speculation/speculation-rules.html#security-considerations&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Speculative loading which occurs is visible in the Network panel and
&amp;gt;&amp;gt;&amp;gt;&amp;gt; the new Preloading panel. Console warnings are logged when several types of
&amp;gt;&amp;gt;&amp;gt;&amp;gt; issues are encountered.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)? Yes (though some
&amp;gt;&amp;gt;&amp;gt;&amp;gt; capabilities vary per platform)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ? Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/speculation-rules?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/speculation-rules?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Some tests cover behavior which isn't enabled by default (even if
&amp;gt;&amp;gt;&amp;gt;&amp;gt; experimental web platform features are on).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flags
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature name SpeculationRulesPrefetchFuture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome? False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1371522"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1371522&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1406595"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1406595&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1366940"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1366940&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt; OriginTrial desktop last 120
&amp;gt;&amp;gt;&amp;gt;&amp;gt; OriginTrial desktop first 110
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt; OriginTrial Android last 120
&amp;gt;&amp;gt;&amp;gt;&amp;gt; OriginTrial Android first 110
&amp;gt;&amp;gt;&amp;gt;&amp;gt; OriginTrial webView last 120
&amp;gt;&amp;gt;&amp;gt;&amp;gt; OriginTrial webView first 110
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; A URLPattern change was made to facilitate this, and document rules
&amp;gt;&amp;gt;&amp;gt;&amp;gt; will be affected by upstream changes to URLPattern. Similarly, upstream
&amp;gt;&amp;gt;&amp;gt;&amp;gt; changes to CSS selectors will affect document rules which use selectors to
&amp;gt;&amp;gt;&amp;gt;&amp;gt; match. Some minor changes to how links are identified may happen in the
&amp;gt;&amp;gt;&amp;gt;&amp;gt; future. We anticipate most changes to be compatible.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5112150536749056"&gt;https://chromestatus.com/feature/5112150536749056&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5091678266851328"&gt;https://chromestatus.com/feature/5091678266851328&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5069400512659456"&gt;https://chromestatus.com/feature/5069400512659456&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussions Intent to prototype:
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CA%2B5JZsPqZakqnGx2zgreGEfRCJ1Xrr16cL2gcqGF7577dFhvsw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CA%2B5JZsPqZakqnGx2zgreGEfRCJ1Xrr16cL2gcqGF7577dFhvsw%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;  Intent
&amp;gt;&amp;gt;&amp;gt;&amp;gt; to Experiment:
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/3-0rLTZePzc/m/VNHWAdAGDQAJ"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/3-0rLTZePzc/m/VNHWAdAGDQAJ&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Intent to Extend Experiment:
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13epuEiXzbO3HJq0O9eum5_parJYHWHuje7QztZRd-s56w%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13epuEiXzbO3HJq0O9eum5_parJYHWHuje7QztZRd-s56w%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13dJ%2BLypC7QmGmwvoGn3%2BhPs77bDa-NFDWTw0bA5WDhsWA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13dJ%2BLypC7QmGmwvoGn3%2BhPs77bDa-NFDWTw0bA5WDhsWA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13dJ%2BLypC7QmGmwvoGn3%2BhPs77bDa-NFDWTw0bA5WDhsWA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13dJ%2BLypC7QmGmwvoGn3%2BhPs77bDa-NFDWTw0bA5WDhsWA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; --
&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt; To view this discussion on the web visit
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfX%2BNm3m5tsOv6VZsAzZeOeBkbYb8%2BUQmfBqabKjv0gyHw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfX%2BNm3m5tsOv6VZsAzZeOeBkbYb8%2BUQmfBqabKjv0gyHw%40mail.gmail.com&lt;/a&gt;
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfX%2BNm3m5tsOv6VZsAzZeOeBkbYb8%2BUQmfBqabKjv0gyHw%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfX%2BNm3m5tsOv6VZsAzZeOeBkbYb8%2BUQmfBqabKjv0gyHw%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt; .
&amp;gt;
&amp;gt; --
&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt; To view this discussion on the web visit
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/58f3233e-d925-4b2a-af5d-c1216f07036d%40gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/58f3233e-d925-4b2a-af5d-c1216f07036d%40gmail.com&lt;/a&gt;
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/58f3233e-d925-4b2a-af5d-c1216f07036d%40gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/58f3233e-d925-4b2a-af5d-c1216f07036d%40gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt; .
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYc9t705OKY8aZwyrbttiCF%2BTDX%3D%2B0OtQt_%3DGNU1VwBjYw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYc9t705OKY8aZwyrbttiCF%2BTDX%3D%2B0OtQt_%3DGNU1VwBjYw%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08521.html</id>
        <title>Re: [blink-dev] Intent to Ship: Document rules, response header, eagerness</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08521.html"/>
        <updated>2023-11-29T16:55:20.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08521.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Document+rules%2C+response+header%2C+eagerness%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Document rules, response header, eagerness&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Daniel+Bratell%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Daniel Bratell&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:55:20 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre style="margin: 0em;"&gt;
LGTM2

/Daniel&lt;/pre&gt;&lt;pre&gt;

On 2023-11-23 10:11, Yoav Weiss wrote:
&lt;/pre&gt;&lt;blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"&gt;&lt;pre style="margin: 0em;"&gt;
LGTM1

These all seem like useful improvements! :)


On Wed, Nov 22, 2023 at 8:14 PM Jeremy Roman &amp;lt;jbro...@chromium.org&amp;gt; wrote:



    On Wed, Nov 22, 2023 at 11:10 AM Yoav Weiss
    &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:



        On Thu, Nov 16, 2023 at 12:33 AM Jeremy Roman
        &amp;lt;jbro...@chromium.org&amp;gt; wrote:


                    Note: This intent email spans three Chromestatus
                    entries for different sub-features that we
                    experimented with together and would like
                    permission to ship together in M121.


                    Contact emails

            jbro...@chromium.org, adith...@chromium.org,
            isabo...@google.com, dome...@chromium.org, mc...@chromium.org


                    Explainer

            &lt;a  rel="nofollow" href="https://github.com/WICG/nav-speculation/blob/main/triggers.md"&gt;https://github.com/WICG/nav-speculation/blob/main/triggers.md&lt;/a&gt;


                    Specification

            &lt;a  rel="nofollow" href="https://wicg.github.io/nav-speculation/speculation-rules.html"&gt;https://wicg.github.io/nav-speculation/speculation-rules.html&lt;/a&gt;


                    Summary

            (1) An extension to speculation rules syntax that lets the
            browser obtain URLs for speculation from link elements in
            a page. They may include criteria which restrict which of
            these links can be used.


        Any specific parts of the explainer/spec that cover this one?


    Sure:
    &lt;a  rel="nofollow" href="https://github.com/WICG/nav-speculation/blob/main/triggers.md#document-rules"&gt;https://github.com/WICG/nav-speculation/blob/main/triggers.md#document-rules&lt;/a&gt;
    
&lt;a  rel="nofollow" href="https://wicg.github.io/nav-speculation/speculation-rules.html#document-rule-predicate-matching"&gt;https://wicg.github.io/nav-speculation/speculation-rules.html#document-rule-predicate-matching&lt;/a&gt;
    
&lt;a  rel="nofollow" href="https://wicg.github.io/nav-speculation/speculation-rules.html#find-matching-links"&gt;https://wicg.github.io/nav-speculation/speculation-rules.html#find-matching-links&lt;/a&gt;


That's very useful, thanks!!




            (2) Adding the eagerness field to the speculation rules
            will let the developers control how eagerly the browser
            preloads links in order to balance the performance
            advantage against resource overhead. This field accepts
            one of &amp;quot;conservative&amp;quot;, &amp;quot;moderate&amp;quot;, &amp;quot;eager&amp;quot;, or &amp;quot;immediate&amp;quot;
            strings as the value, and it is applicable to both
            &amp;quot;prefetch&amp;quot; and &amp;quot;prerender&amp;quot; actions and both &amp;quot;list&amp;quot; or
            &amp;quot;document&amp;quot; sources. If not explicitly specified, list
            rules default to &amp;quot;immediate&amp;quot; and document rules default to
            &amp;quot;conservative&amp;quot;.


            (3) Currently developers can only specify speculation
            rules using inline script tags. The proposed feature
            provides an alternative through the &amp;quot;Speculation-Rules&amp;quot;
            header. Its value must be a URL to a text resource with
            &amp;quot;application/speculationrules+json&amp;quot; MIME type. The
            resource's rules will be added to the document's rule set.



                    Blink component

            Internals&amp;gt;Preload
            
&amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Internals%3EPreload"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Internals%3EPreload&lt;/a&gt;&amp;gt;


                    TAG review

            &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/721"&gt;https://github.com/w3ctag/design-reviews/issues/721&lt;/a&gt;


                    TAG review status

            Issues addressed (TAG still has reservations)


                    Chromium Trial Name

            SpeculationRulesPrefetchFuture


                    Link to origin trial feedback summary

            
&lt;a  rel="nofollow" href="https://docs.google.com/document/d/13cJcoygFD64UcQH-P30dXCLbdD6SXpQwhpOUym64KXw/edit?usp=sharing"&gt;https://docs.google.com/document/d/13cJcoygFD64UcQH-P30dXCLbdD6SXpQwhpOUym64KXw/edit?usp=sharing&lt;/a&gt;


                    Origin Trial documentation link

            
&lt;a  rel="nofollow" href="https://github.com/WICG/nav-speculation/blob/main/chrome-2023q1-experiment-overview.md"&gt;https://github.com/WICG/nav-speculation/blob/main/chrome-2023q1-experiment-overview.md&lt;/a&gt;


                    WebFeature UseCounter name

            SpeculationRulesDocumentRules
            SpeculationRulesSelectorMatches
            SpeculationRulesHeader
            SpeculationRulesExplicitEagerness


                    Risks



                    Interoperability and Compatibility

            Because authors cannot rely on document rules being
            evaluated (or preloading generally), applications which
            use them should function correctly in other browsers and
            should continue to function correctly were the feature to
            be deprecated. Of course, ideally other browsers do find
            it compelling to implement this feature.


            Similar reasoning applies to the response header and
            eagerness field.



            /Gecko/: No signal
            (&lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/620"&gt;https://github.com/mozilla/standards-positions/issues/620&lt;/a&gt;)

            /WebKit/: No signal
            (&lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/54"&gt;https://github.com/WebKit/standards-positions/issues/54&lt;/a&gt;)

            /Web developers/: Positive
            
(&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/L3mpXE1x3Zk/m/VvbMZrcsAQAJ"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/L3mpXE1x3Zk/m/VvbMZrcsAQAJ&lt;/a&gt;)
            positive feedback from Akamai and use within Chrome on
            web.dev &amp;lt;&lt;a  rel="nofollow" href="http://web.dev"&gt;http://web.dev&lt;/a&gt;&amp;gt;

            /Other signals/:


                    Activation

            Some developers might not be immediately aware of which
            URLs they can prefetch or prerender without side effects;
            this risk is reduced if they primarily use the feature for
            same-origin URL patterns they are familiar with.



                    Security

            See
            
&lt;a  rel="nofollow" href="https://wicg.github.io/nav-speculation/speculation-rules.html#security-considerations"&gt;https://wicg.github.io/nav-speculation/speculation-rules.html#security-considerations&lt;/a&gt;.



                    WebView application risks

            Does this intent deprecate or change behavior of existing
            APIs, such that it has potentially high risk for Android
            WebView-based applications?



                    Debuggability

            Speculative loading which occurs is visible in the Network
            panel and the new Preloading panel. Console warnings are
            logged when several types of issues are encountered.



                    Will this feature be supported on all six Blink
                    platforms (Windows, Mac, Linux, Chrome OS,
                    Android, and Android WebView)?

            Yes (though some capabilities vary per platform)


                    Is this feature fully tested by web-platform-tests
                    
&amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;?

            Yes

            
&lt;a  rel="nofollow" href="https://wpt.fyi/results/speculation-rules?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/speculation-rules?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;
            
&amp;lt;&lt;a  rel="nofollow" href="https://wpt.fyi/results/speculation-rules?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/speculation-rules?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;&amp;gt;
            Some tests cover behavior which isn't enabled by default
            (even if experimental web platform features are on).



                    Flag name on chrome://flags



                    Finch feature name

            SpeculationRulesPrefetchFuture


                    Requires code in //chrome?

            False


                    Tracking bug

            &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1371522"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1371522&lt;/a&gt;
            &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1406595"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1406595&lt;/a&gt;
            &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1366940"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1366940&lt;/a&gt;


                    Estimated milestones

            Shipping on desktop         121
            OriginTrial desktop last    120
            OriginTrial desktop first   110

            Shipping on Android         121
            OriginTrial Android last    120
            OriginTrial Android first   110

            OriginTrial webView last    120
            OriginTrial webView first   110



                    Anticipated spec changes

            A URLPattern change was made to facilitate this, and
            document rules will be affected by upstream changes to
            URLPattern. Similarly, upstream changes to CSS selectors
            will affect document rules which use selectors to match.
            Some minor changes to how links are identified may happen
            in the future. We anticipate most changes to be compatible.


                    Link to entry on the Chrome Platform Status

            &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5112150536749056"&gt;https://chromestatus.com/feature/5112150536749056&lt;/a&gt;
            &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5091678266851328"&gt;https://chromestatus.com/feature/5091678266851328&lt;/a&gt;
            &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5069400512659456"&gt;https://chromestatus.com/feature/5069400512659456&lt;/a&gt;


                    Links to previous Intent discussions

            Intent to prototype:
            
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CA%2B5JZsPqZakqnGx2zgreGEfRCJ1Xrr16cL2gcqGF7577dFhvsw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CA%2B5JZsPqZakqnGx2zgreGEfRCJ1Xrr16cL2gcqGF7577dFhvsw%40mail.gmail.com&lt;/a&gt;
 Intent
            to Experiment:
            
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/3-0rLTZePzc/m/VNHWAdAGDQAJ"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/3-0rLTZePzc/m/VNHWAdAGDQAJ&lt;/a&gt;
            Intent to Extend Experiment:
            
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13epuEiXzbO3HJq0O9eum5_parJYHWHuje7QztZRd-s56w%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13epuEiXzbO3HJq0O9eum5_parJYHWHuje7QztZRd-s56w%40mail.gmail.com&lt;/a&gt;


            This intent message was generated by Chrome Platform
            Status &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&lt;/pre&gt;&lt;tt&gt;            -- 
&lt;/tt&gt;&lt;tt&gt;            You received this message because you are subscribed to
&lt;/tt&gt;&lt;pre style="margin: 0em;"&gt;
            the Google Groups &amp;quot;blink-dev&amp;quot; group.
            To unsubscribe from this group and stop receiving emails
            from it, send an email to blink-dev+unsubscr...@chromium.org.
            To view this discussion on the web visit
            
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13dJ%2BLypC7QmGmwvoGn3%2BhPs77bDa-NFDWTw0bA5WDhsWA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13dJ%2BLypC7QmGmwvoGn3%2BhPs77bDa-NFDWTw0bA5WDhsWA%40mail.gmail.com&lt;/a&gt;
            
&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13dJ%2BLypC7QmGmwvoGn3%2BhPs77bDa-NFDWTw0bA5WDhsWA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CACuR13dJ%2BLypC7QmGmwvoGn3%2BhPs77bDa-NFDWTw0bA5WDhsWA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.

--
&lt;/pre&gt;&lt;tt&gt;You received this message because you are subscribed to the Google 
&lt;/tt&gt;&lt;tt&gt;Groups &amp;quot;blink-dev&amp;quot; group.
&lt;/tt&gt;&lt;tt&gt;To unsubscribe from this group and stop receiving emails from it, send 
&lt;/tt&gt;&lt;tt&gt;an email to blink-dev+unsubscr...@chromium.org.
&lt;/tt&gt;&lt;tt&gt;To view this discussion on the web visit 
&lt;/tt&gt;&lt;tt&gt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfX%2BNm3m5tsOv6VZsAzZeOeBkbYb8%2BUQmfBqabKjv0gyHw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfX%2BNm3m5tsOv6VZsAzZeOeBkbYb8%2BUQmfBqabKjv0gyHw%40mail.gmail.com&lt;/a&gt; 
&lt;/tt&gt;&lt;tt&gt;&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfX%2BNm3m5tsOv6VZsAzZeOeBkbYb8%2BUQmfBqabKjv0gyHw%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfX%2BNm3m5tsOv6VZsAzZeOeBkbYb8%2BUQmfBqabKjv0gyHw%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.
&lt;/tt&gt;&lt;/blockquote&gt;&lt;pre style="margin: 0em;"&gt;

--
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/58f3233e-d925-4b2a-af5d-c1216f07036d%40gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/58f3233e-d925-4b2a-af5d-c1216f07036d%40gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08520.html</id>
        <title>Re: [blink-dev] Re: Intent to Ship: CSS supports() condition for @import</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08520.html"/>
        <updated>2023-11-29T16:48:32.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08520.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+CSS+supports%5C%28%5C%29+condition+for+%40import%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Ship: CSS supports() condition for @import&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Daniel+Bratell%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Daniel Bratell&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:48:32 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre style="margin: 0em;"&gt;
LGTM3

/Daniel&lt;/pre&gt;&lt;pre&gt;

On 2023-11-29 17:45, Chris Harrelson wrote:
&lt;/pre&gt;&lt;blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"&gt;&lt;pre style="margin: 0em;"&gt;
LGTM2

On Wed, Nov 29, 2023 at 7:40 AM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:



    On Wed, Nov 29, 2023 at 4:34 PM Yoav Weiss
    &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:

        I wonder if we should hold off on adding @import support until
        such a solution emerges.


    On second thought, since we didn't delay `layer`, there's no real
    reason to delay shipping here.
    But I strongly urge you to nudge this along :)


        In any case, similar to layer
        
&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/ZCN2tBZ2cUY/m/BQAcIIjFCAAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/ZCN2tBZ2cUY/m/BQAcIIjFCAAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
 support,
        you probably want to add tests that make sure that the preload
        scanner is properly preloading such inlined rules, and want to
        make sure that developer facing advice clarifies the huge cost
        of using this in external styles.

        On Wednesday, November 22, 2023 at 2:33:22 PM UTC+1 Daniil
        Sakhapov wrote:

            Yes, thanks, I saw this discussion and will keep my eye on
            it. So, once the solution for back comp is found there,
            I'll work on it.

            On Wednesday, November 22, 2023 at 12:40:27 PM UTC+1 Noam
            Rosenthal wrote:

                One open issue that I didn't see mentioned and is
                worth noting, is a missing equivalent in &amp;lt;link&amp;gt;
                elements (similar to &amp;lt;link media=...&amp;gt;. This creates an
                inconsistency where you can have conditional imports
                in CSS but not directly from HTML. This is mentioned
                in &lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/7540"&gt;https://github.com/whatwg/html/issues/7540&lt;/a&gt;. Not
                saying it should block shipping, but rather that it
                should be considered an open issue.

                On Wed, Nov 22, 2023 at 5:47 AM Yoav Weiss
                &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:

                    LGTM1

                    While I'm not excited about @import in general and
                    think no one should use it, this restricts it in
                    potentially useful ways.

                    On Wednesday, November 15, 2023 at 3:28:48 PM
                    UTC+1 Daniil Sakhapov wrote:


                                Contact emails

                        sakha...@chromium.org


                                Specification

                        &lt;a  rel="nofollow" href="https://www.w3.org/TR/css-cascade-5/#conditional-import"&gt;https://www.w3.org/TR/css-cascade-5/#conditional-import&lt;/a&gt;


                                Summary

                        It allows to import stylesheets and layers
                        conditioned on supports(). If the support()
                        doesn't match, the import will not be fetched.


                        Example: @import&amp;quot;mystyle.css&amp;quot;supports(display:
                        flex);


                                Blink component

                        Blink&amp;gt;CSS
                        
&amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3ECSS"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3ECSS&lt;/a&gt;&amp;gt;


                                TAG review

                        None


                                TAG review status

                        Not applicable


                                Risks



                                Interoperability and Compatibility

                        None



                        /Gecko/: Shipped/Shipping

                        /WebKit/: No signal
                        
(&lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/279"&gt;https://github.com/WebKit/standards-positions/issues/279&lt;/a&gt;)

                        /Web developers/: No signals

                        /Other signals/:


                                WebView application risks

                        Does this intent deprecate or change behavior
                        of existing APIs, such that it has potentially
                        high risk for Android WebView-based applications?

                        None


                                Will this feature be supported on all
                                six Blink platforms (Windows, Mac,
                                Linux, Chrome OS, Android, and Android
                                WebView)?

                        Yes


                                Is this feature fully tested by
                                web-platform-tests
                                
&amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;?

                        Yes

                        
&lt;a  rel="nofollow" href="https://wpt.fyi/results/css/css-cascade/import-conditions.html"&gt;https://wpt.fyi/results/css/css-cascade/import-conditions.html&lt;/a&gt;
                        &lt;a  rel="nofollow" href="https://wpt.fyi/css/cssom/cssimportrule.html"&gt;https://wpt.fyi/css/cssom/cssimportrule.html&lt;/a&gt;



                                Flag name on chrome://flags

                        CSSSupportsForImportRules


                                Requires code in //chrome?

                        False


                                Estimated milestones

                        DevTrial on desktop     121

                        DevTrial on Android     121



                                Anticipated spec changes

                        Open questions about a feature may be a source
                        of future web compat or interop issues. Please
                        list open issues (e.g. links to known github
                        issues in the project for the feature
                        specification) whose resolution may introduce
                        web compat/interop risk (e.g., changing to
                        naming or structure of the API in a
                        non-backward-compatible way).

                        None


                                Link to entry on the Chrome Platform
                                Status

                        &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5899007704694784"&gt;https://chromestatus.com/feature/5899007704694784&lt;/a&gt;

                        This intent message was generated by Chrome
                        Platform Status &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.

&lt;/pre&gt;&lt;tt&gt;                    -- 
&lt;/tt&gt;&lt;tt&gt;                    You received this message because you are
&lt;/tt&gt;&lt;pre style="margin: 0em;"&gt;
                    subscribed to the Google Groups &amp;quot;blink-dev&amp;quot; group.
                    To unsubscribe from this group and stop receiving
                    emails from it, send an email to
                    blink-dev+unsubscr...@chromium.org.
                    To view this discussion on the web visit
                    
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org&lt;/a&gt;
                    
&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.

&lt;/pre&gt;&lt;tt&gt;    -- 
&lt;/tt&gt;&lt;tt&gt;    You received this message because you are subscribed to the Google
&lt;/tt&gt;&lt;pre style="margin: 0em;"&gt;
    Groups &amp;quot;blink-dev&amp;quot; group.
    To unsubscribe from this group and stop receiving emails from it,
    send an email to blink-dev+unsubscr...@chromium.org.
    To view this discussion on the web visit
    
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfWeRMY60Cy9O41RL22xC-A_BNFYtOQkc3CyY5qnUkZAsQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfWeRMY60Cy9O41RL22xC-A_BNFYtOQkc3CyY5qnUkZAsQ%40mail.gmail.com&lt;/a&gt;
    
&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfWeRMY60Cy9O41RL22xC-A_BNFYtOQkc3CyY5qnUkZAsQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfWeRMY60Cy9O41RL22xC-A_BNFYtOQkc3CyY5qnUkZAsQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.

--
&lt;/pre&gt;&lt;tt&gt;You received this message because you are subscribed to the Google 
&lt;/tt&gt;&lt;tt&gt;Groups &amp;quot;blink-dev&amp;quot; group.
&lt;/tt&gt;&lt;tt&gt;To unsubscribe from this group and stop receiving emails from it, send 
&lt;/tt&gt;&lt;tt&gt;an email to blink-dev+unsubscr...@chromium.org.
&lt;/tt&gt;&lt;tt&gt;To view this discussion on the web visit 
&lt;/tt&gt;&lt;tt&gt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw91-1jFaA0Xw7e_EoD__g2ph-AC0%3DAisoYN4keDzfJ6ow%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw91-1jFaA0Xw7e_EoD__g2ph-AC0%3DAisoYN4keDzfJ6ow%40mail.gmail.com&lt;/a&gt; 
&lt;/tt&gt;&lt;tt&gt;&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw91-1jFaA0Xw7e_EoD__g2ph-AC0%3DAisoYN4keDzfJ6ow%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw91-1jFaA0Xw7e_EoD__g2ph-AC0%3DAisoYN4keDzfJ6ow%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.
&lt;/tt&gt;&lt;/blockquote&gt;&lt;pre style="margin: 0em;"&gt;

--
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/f1964ea7-53ba-4939-a00f-94f5f19b4b13%40gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/f1964ea7-53ba-4939-a00f-94f5f19b4b13%40gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08519.html</id>
        <title>Re: [blink-dev] Re: Intent to Ship: CSS supports() condition for @import</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08519.html"/>
        <updated>2023-11-29T16:45:37.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08519.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+CSS+supports%5C%28%5C%29+condition+for+%40import%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Ship: CSS supports() condition for @import&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Chris+Harrelson%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Chris Harrelson&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:45:37 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;LGTM2

On Wed, Nov 29, 2023 at 7:40 AM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt;
&amp;gt;
&amp;gt; On Wed, Nov 29, 2023 at 4:34 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; I wonder if we should hold off on adding @import support until such a
&amp;gt;&amp;gt; solution emerges.
&amp;gt;
&amp;gt;
&amp;gt; On second thought, since we didn't delay `layer`, there's no real reason
&amp;gt; to delay shipping here.
&amp;gt; But I strongly urge you to nudge this along :)
&amp;gt;
&amp;gt;
&amp;gt;&amp;gt; In any case, similar to layer
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/ZCN2tBZ2cUY/m/BQAcIIjFCAAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/ZCN2tBZ2cUY/m/BQAcIIjFCAAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;  support,
&amp;gt;&amp;gt; you probably want to add tests that make sure that the preload scanner is
&amp;gt;&amp;gt; properly preloading such inlined rules, and want to make sure that
&amp;gt;&amp;gt; developer facing advice clarifies the huge cost of using this in external
&amp;gt;&amp;gt; styles.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Wednesday, November 22, 2023 at 2:33:22 PM UTC+1 Daniil Sakhapov wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Yes, thanks, I saw this discussion and will keep my eye on it. So, once
&amp;gt;&amp;gt;&amp;gt; the solution for back comp is found there, I'll work on it.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Wednesday, November 22, 2023 at 12:40:27 PM UTC+1 Noam Rosenthal
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; One open issue that I didn't see mentioned and is worth noting, is a
&amp;gt;&amp;gt;&amp;gt;&amp;gt; missing equivalent in &amp;lt;link&amp;gt; elements (similar to &amp;lt;link media=...&amp;gt;. This
&amp;gt;&amp;gt;&amp;gt;&amp;gt; creates an inconsistency where you can have conditional imports in CSS but
&amp;gt;&amp;gt;&amp;gt;&amp;gt; not directly from HTML. This is mentioned in
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/7540"&gt;https://github.com/whatwg/html/issues/7540&lt;/a&gt;. Not saying it should block
&amp;gt;&amp;gt;&amp;gt;&amp;gt; shipping, but rather that it should be considered an open issue.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 5:47 AM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; LGTM1
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; While I'm not excited about @import in general and think no one should
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; use it, this restricts it in potentially useful ways.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wednesday, November 15, 2023 at 3:28:48 PM UTC+1 Daniil Sakhapov
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailssakha...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://www.w3.org/TR/css-cascade-5/#conditional-import"&gt;https://www.w3.org/TR/css-cascade-5/#conditional-import&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; It allows to import stylesheets and layers conditioned on supports().
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; If the support() doesn't match, the import will not be fetched.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Example: @import &amp;quot;mystyle.css&amp;quot; supports(display: flex);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;CSS
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3ECSS"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3ECSS&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Shipped/Shipping
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/279"&gt;https://github.com/WebKit/standards-positions/issues/279&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: No signals
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/css/css-cascade/import-conditions.html"&gt;https://wpt.fyi/results/css/css-cascade/import-conditions.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/css/cssom/cssimportrule.html"&gt;https://wpt.fyi/css/cssom/cssimportrule.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsCSSSupportsForImportRules
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; or interop issues. Please list open issues (e.g. links to known github
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; issues in the project for the feature specification) whose resolution may
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5899007704694784"&gt;https://chromestatus.com/feature/5899007704694784&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt; To view this discussion on the web visit
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfWeRMY60Cy9O41RL22xC-A_BNFYtOQkc3CyY5qnUkZAsQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfWeRMY60Cy9O41RL22xC-A_BNFYtOQkc3CyY5qnUkZAsQ%40mail.gmail.com&lt;/a&gt;
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfWeRMY60Cy9O41RL22xC-A_BNFYtOQkc3CyY5qnUkZAsQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfWeRMY60Cy9O41RL22xC-A_BNFYtOQkc3CyY5qnUkZAsQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt; .
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw91-1jFaA0Xw7e_EoD__g2ph-AC0%3DAisoYN4keDzfJ6ow%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw91-1jFaA0Xw7e_EoD__g2ph-AC0%3DAisoYN4keDzfJ6ow%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08518.html</id>
        <title>Re: [blink-dev] Intent to Ship: Storage Buckets API</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08518.html"/>
        <updated>2023-11-29T16:43:24.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08518.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Storage+Buckets+API%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: Storage Buckets API&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Philip+J%C3%A4genstedt%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Philip Jägenstedt&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:43:24 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Hi Evan,

A few questions inline.&lt;/pre&gt;&lt;pre&gt;

On Tue, Nov 14, 2023 at 9:38 PM Evan Stade &amp;lt;est...@chromium.org&amp;gt; wrote:

&amp;gt;
&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac,
&amp;gt; Linux, Chrome OS, Android, and Android WebView)?
&amp;gt;
&amp;gt; No
&amp;gt;

Which platform will this not be supported on?


&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt; ?
&amp;gt;
&amp;gt; No
&amp;gt;

Can this be fully tested in WPT? If it's not tested in WPT, how is it
currently tested?

Best regards,
Philip

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYeQ0o%2B%3DDuFMzPDP8uToHne6M5Gxf8HV3oP-BoFF6NmeYA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYeQ0o%2B%3DDuFMzPDP8uToHne6M5Gxf8HV3oP-BoFF6NmeYA%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08517.html</id>
        <title>Re: [blink-dev] Re: Intent to Ship: Document picture-in-picture: require user gesture for resize APIs</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08517.html"/>
        <updated>2023-11-29T16:36:08.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08517.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+Document+picture%5C-in%5C-picture%5C%3A+require+user+gesture+for+resize+APIs%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Ship: Document picture-in-picture: require user gesture for resize APIs&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Philip+J%C3%A4genstedt%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Philip Jägenstedt&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:36:08 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;LGTM2

On Wed, Nov 29, 2023 at 4:12 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; LGTM1
&amp;gt;
&amp;gt; On Wednesday, November 29, 2023 at 4:04:49 PM UTC+1 Tommy Steimel wrote:
&amp;gt;
&amp;gt;&amp;gt; Okay the security reviewer has now re-reviewed it given the updated
&amp;gt;&amp;gt; information. Thanks!
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Mon, Nov 27, 2023 at 11:55 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 11:49 PM 'Tommy Steimel' via blink-dev &amp;lt;
&amp;gt;&amp;gt;&amp;gt; blink-dev@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:43 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Friday, November 17, 2023 at 8:47:34 PM UTC+1 Tommy Steimel wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailsstei...@chromium.org, liber...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://github.com/WICG/document-picture-in-picture/"&gt;https://github.com/WICG/document-picture-in-picture/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; pull/104
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This adds a user gesture requirement for the resizeBy() and resizeTo()
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Window APIs for document picture-in-picture windows. This allows websites
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; to make use of those APIs while mitigating much of the abuse potential of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; those APIs on an always-on-top window.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Media&amp;gt;PictureInPicture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EPictureInPicture"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EPictureInPicture&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewN/A as this is a minor change to the behavior of an
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; existing API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This added requirement would mean that calls to these API can now
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; fail. Is that new? Or are developers already expected to handle failures?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do we expect developers to start checking the UserActivation API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/UserActivation"&gt;https://developer.mozilla.org/en-US/docs/Web/API/UserActivation&lt;/a&gt;&amp;gt; before
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; calling these methods?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Currently these APIs always fail on document picture-in-picture windows
&amp;gt;&amp;gt;&amp;gt;&amp;gt; regardless of user activation (to prevent really spammy always-on-top
&amp;gt;&amp;gt;&amp;gt;&amp;gt; windows). We don't expect developers to check the UserActivation API at
&amp;gt;&amp;gt;&amp;gt;&amp;gt; all, just to only call resizeTo()/resizeBy() in response to a user gesture.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; From the subject and summary I also originally assumed this intent was
&amp;gt;&amp;gt;&amp;gt; about adding a user gesture restriction, and it looks like your security
&amp;gt;&amp;gt;&amp;gt; approval was also based on that incorrect understanding. Can you please
&amp;gt;&amp;gt;&amp;gt; re-request a security review with the clarification of the scope of this
&amp;gt;&amp;gt;&amp;gt; feature? Please also update the summary of the feature in ChromeStatus, eg:
&amp;gt;&amp;gt;&amp;gt; &amp;quot;This enables the resizeBy() and resizeTo() Windows methods on document
&amp;gt;&amp;gt;&amp;gt; picture-in-picture windows, but with the added restriction of a user
&amp;gt;&amp;gt;&amp;gt; gesture requirement to mitigate the abuse potential&amp;quot;.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Otherwise it looks fine to me.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: No signal (&lt;a  rel="nofollow" href="https://github.com/mozilla/"&gt;https://github.com/mozilla/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/670#issuecomment-1786354361) Added comment
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; to existing standards position issue for document picture-in-picture. No
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; response yet
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal (&lt;a  rel="nofollow" href="https://github.com/WebKit/"&gt;https://github.com/WebKit/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/41#issuecomment-1786354016) Added comment
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; to existing standards position issue for document picture-in-picture. No
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; response yet
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive The ability to programmatically resize the
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; document picture-in-picture window is one of the most-requested features
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; for document picture-in-picture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Ergonomics
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Activation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Security
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; While being able to resize an always-on-top window at will is a
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; security/annoyance risk, by making the API consume a user gesture, the
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; website can only resize once per click, which limits the possible abuse
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; vectors
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?No
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The document picture-in-picture API is not supported on Android
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; document-picture-in-picture/resize-requires-user-gesture.https.html
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Small, low-risk change to existing API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug&lt;a  rel="nofollow" href="https://crbug.com/1354325"&gt;https://crbug.com/1354325&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Sample links
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://steimelchrome.github.io/document-pip/click_to_resize.html"&gt;https://steimelchrome.github.io/document-pip/click_to_resize.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestonesShipping on desktop121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat or
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; interop issues. Please list open issues (e.g. links to known github issues
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; in the project for the feature specification) whose resolution may
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; feature/5398995019235328
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; --
&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt; To view this discussion on the web visit
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org&lt;/a&gt;
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt; .
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYdioCrFHatD-3FV0yuzGmUxDmAoQuupJxF79kDG3nxdUA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAARdPYdioCrFHatD-3FV0yuzGmUxDmAoQuupJxF79kDG3nxdUA%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08516.html</id>
        <title>[blink-dev] Re: Intent to Implement and Ship: Async Clipboard API: Allow empty ClipboardItem during read</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08516.html"/>
        <updated>2023-11-29T16:27:44.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08516.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Implement+and+Ship%5C%3A+Async+Clipboard+API%5C%3A+Allow+empty+ClipboardItem+during+read%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Implement and Ship: Async Clipboard API: Allow empty ClipboardItem during read&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Yoav+Weiss%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Yoav Weiss&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:27:44 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;LGTM1

This seems to reduce interop risk. Thanks!&lt;/pre&gt;&lt;pre&gt;

On Tuesday, November 21, 2023 at 6:45:00 PM UTC+1 snianu wrote:

&amp;gt; Contact emails 
&amp;gt;
&amp;gt; sni...@microsoft.com, est...@chromium.org, sa...@microsoft.com, 
&amp;gt; jsb...@google.com
&amp;gt;
&amp;gt; Explainer 
&amp;gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing"&gt;https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing&lt;/a&gt;
&amp;gt;
&amp;gt; Specification 
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://w3c.github.io/clipboard-apis/#dom-clipboard-read"&gt;https://w3c.github.io/clipboard-apis/#dom-clipboard-read&lt;/a&gt;
&amp;gt;
&amp;gt; Design docs 
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179"&gt;https://github.com/w3c/clipboard-apis/issues/179&lt;/a&gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing"&gt;https://docs.google.com/document/d/1OLVOESy3zecxY_6jMKdKVxeIGS2Q6mDmzc85rUNrRIE/edit?usp=sharing&lt;/a&gt;
&amp;gt;
&amp;gt; Summary 
&amp;gt;
&amp;gt; When the system clipboard is either empty or has unsupported formats, 
&amp;gt; paste event returns an empty DataTransfer object, but the promise for 
&amp;gt; `navigator.clipboard.read()`API is rejected. This creates interop 
&amp;gt; differences and confusion among web developers as they aren’t sure why read 
&amp;gt; failed.
&amp;gt;
&amp;gt; Currently in Chrome, we throw a DataError. The proposal here is to return 
&amp;gt; an empty ClipboardItem when the system clipboard is either empty or there 
&amp;gt; aren’t any supported formats.
&amp;gt;
&amp;gt; Blink component 
&amp;gt;
&amp;gt; Blink&amp;gt;DataTransfer 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EDataTransfer"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EDataTransfer&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt; Search tags 
&amp;gt;
&amp;gt; AsyncClipboardAPI 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:AsyncClipboardAPI"&gt;https://chromestatus.com/features#tags:AsyncClipboardAPI&lt;/a&gt;&amp;gt;, ClipboardItem 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:ClipboardItem"&gt;https://chromestatus.com/features#tags:ClipboardItem&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt; TAG review 
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt; TAG review status 
&amp;gt;
&amp;gt; Not applicable
&amp;gt;
&amp;gt; It satisfies one of the criterias for exception 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://www.chromium.org/blink/guidelines/api-owners/process-exceptions/"&gt;https://www.chromium.org/blink/guidelines/api-owners/process-exceptions/&lt;/a&gt;&amp;gt;. 
&amp;gt; This change has already been shipped in Safari 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784&lt;/a&gt;&amp;gt; 
&amp;gt; and 
&amp;gt; Firefox has also implemented it 
&amp;gt; &amp;lt;http://(&lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581&lt;/a&gt;&amp;gt;.
&amp;gt;  
&amp;gt; The spec already allows empty ClipboardItem during read so it doesn’t need 
&amp;gt; any update. 
&amp;gt;
&amp;gt;
&amp;gt; Risks 
&amp;gt;
&amp;gt;
&amp;gt; Interoperability and Compatibility 
&amp;gt;
&amp;gt; None. Safari has shipped this feature and Firefox has already implemented 
&amp;gt; it.
&amp;gt;
&amp;gt;
&amp;gt; *Gecko*: Positive (
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1211995581&lt;/a&gt;)
&amp;gt;
&amp;gt; *WebKit*: Shipped/Shipping (
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784"&gt;https://github.com/w3c/clipboard-apis/issues/179#issuecomment-1804303784&lt;/a&gt;)
&amp;gt;
&amp;gt; *Web developers*: Positive This was a feedback from our partners at 
&amp;gt; Office who are migrating from DataTransfer API to Async Clipboard API.
&amp;gt;
&amp;gt; *Other signals*:
&amp;gt;
&amp;gt; Ergonomics 
&amp;gt;
&amp;gt; N/A
&amp;gt;
&amp;gt; Activation 
&amp;gt;
&amp;gt; N/A
&amp;gt;
&amp;gt;
&amp;gt; Security 
&amp;gt;
&amp;gt; None. The proposal only returns an empty ClipboardItem instead of 
&amp;gt; rejecting the promise returned from the read() method when the clipboard is 
&amp;gt; empty, so there isn’t any impact on the async clipboard API.
&amp;gt;
&amp;gt; WebView application risks 
&amp;gt;
&amp;gt; *Does this intent deprecate or change behavior of existing APIs, such that 
&amp;gt; it has potentially high risk for Android WebView-based applications?*
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt;
&amp;gt; Debuggability 
&amp;gt;
&amp;gt; Existing devtools support should suffice.
&amp;gt;
&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac, 
&amp;gt; Linux, Chrome OS, Android, and Android WebView)? 
&amp;gt;
&amp;gt; Yes
&amp;gt;
&amp;gt; Is this feature fully tested by web-platform-tests 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt; ? 
&amp;gt;
&amp;gt; No
&amp;gt;
&amp;gt; Currently emptying the clipboard is not exposed to the web, so it's not 
&amp;gt; possible to add a WPT test for it.
&amp;gt;
&amp;gt; Flag name on chrome://flags 
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt; Finch feature name 
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt; Non-finch justification 
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt; Requires code in //chrome? 
&amp;gt;
&amp;gt; False
&amp;gt;
&amp;gt; Tracking bug 
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1500440"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1500440&lt;/a&gt;
&amp;gt;
&amp;gt; Sample links 
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://flash-lateral-nylon.glitch.me"&gt;https://flash-lateral-nylon.glitch.me&lt;/a&gt;
&amp;gt;
&amp;gt; Estimated milestones 
&amp;gt;
&amp;gt; Shipping on desktop
&amp;gt;
&amp;gt; 121
&amp;gt;
&amp;gt; Shipping on Android
&amp;gt;
&amp;gt; 121
&amp;gt;
&amp;gt;
&amp;gt; Link to entry on the Chrome Platform Status 
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5192271976988672"&gt;https://chromestatus.com/feature/5192271976988672&lt;/a&gt;
&amp;gt;
&amp;gt; This intent message was generated by Chrome Platform Status 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt; Thanks,
&amp;gt; Anupam
&amp;gt;
&amp;gt; Sent from Outlook &amp;lt;&lt;a  rel="nofollow" href="http://aka.ms/weboutlook"&gt;http://aka.ms/weboutlook&lt;/a&gt;&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/2adf2536-daac-401a-8292-c65317d82fd3n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/2adf2536-daac-401a-8292-c65317d82fd3n%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08515.html</id>
        <title>[blink-dev] Re: Intent to Ship: Multiple Readers and Writers in File System Access API</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08515.html"/>
        <updated>2023-11-29T16:18:14.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08515.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+Multiple+Readers+and+Writers+in+File+System+Access+API%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Ship: Multiple Readers and Writers in File System Access API&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Yoav+Weiss%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Yoav Weiss&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:18:14 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Can you please tick all the review boxes in the Chrome status entry?

On Monday, November 27, 2023 at 8:19:42 PM UTC+1 mem...@google.com wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; Contact emails
&amp;gt;
&amp;gt; ds...@google.com, memm...@google.com
&amp;gt;
&amp;gt; Explainer
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/fs/blob/main/proposals/MultipleReadersWriters.md"&gt;https://github.com/whatwg/fs/blob/main/proposals/MultipleReadersWriters.md&lt;/a&gt;
&amp;gt;
&amp;gt; Specification
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/fs/pull/151"&gt;https://github.com/whatwg/fs/pull/151&lt;/a&gt;
&amp;gt;
&amp;gt; Summary
&amp;gt;
&amp;gt; Currently, only one FileSystemSyncAccessHandle may be open at a time per 
&amp;gt; file, preventing an origin from reading and writing to the same file from 
&amp;gt; multiple tabs easily. Conversely, multiple FileSystemWritableFileStreams 
&amp;gt; can be simultaneously open, letting multiple writers clobber each other.
&amp;gt;
&amp;gt; Introducing new locking modes for FileSystemSyncAccessHandle and 
&amp;gt; FileSystemWritableFileStream allows opening either multiple readers/writers 
&amp;gt; or an exclusive writer to a file entry, depending on the application's use 
&amp;gt; case.
&amp;gt;
&amp;gt; ```
&amp;gt;
&amp;gt; handle.createSyncAccessHandle({ mode: 'read-only' });
&amp;gt;
&amp;gt; handle.createSyncAccessHandle({ mode: 'readwrite-unsafe' });
&amp;gt;
&amp;gt; handle.createWritable({ mode: 'exclusive' });
&amp;gt;
&amp;gt; ```
&amp;gt;
&amp;gt;
&amp;gt; Blink component
&amp;gt;
&amp;gt; Blink&amp;gt;Storage&amp;gt;FileSystem 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage%3EFileSystem"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage%3EFileSystem&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt; TAG review
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/845"&gt;https://github.com/w3ctag/design-reviews/issues/845&lt;/a&gt;
&amp;gt;
&amp;gt; TAG review status
&amp;gt;
&amp;gt; Issues addressed
&amp;gt;
&amp;gt; Origin Trial documentation link
&amp;gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://developer.chrome.com/blog/new-dev-trial-for-multiple-readers-and-writers/"&gt;https://developer.chrome.com/blog/new-dev-trial-for-multiple-readers-and-writers/&lt;/a&gt;
&amp;gt;
&amp;gt; Risks
&amp;gt;
&amp;gt; Interoperability and Compatibility
&amp;gt;
&amp;gt; Gecko: Positive (&lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/861"&gt;https://github.com/mozilla/standards-positions/issues/861&lt;/a&gt;
&amp;gt; )
&amp;gt;
&amp;gt; WebKit: No Signal (
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/238"&gt;https://github.com/WebKit/standards-positions/issues/238&lt;/a&gt;)
&amp;gt;
&amp;gt; Web developers: Positive (&lt;a  rel="nofollow" href="https://github.com/whatwg/fs/issues/34"&gt;https://github.com/whatwg/fs/issues/34&lt;/a&gt;)
&amp;gt;
&amp;gt; Other signals: Emscripten plans to utilize multiple readers and writers 
&amp;gt; for performance improvement, and sites using Emscripten will be able to 
&amp;gt; take advantage of this integration.
&amp;gt;
&amp;gt; WebView application risks
&amp;gt;
&amp;gt; Does this intent deprecate or change behavior of existing APIs, such that 
&amp;gt; it has potentially high risk for Android WebView-based applications?
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt;
&amp;gt; Debuggability
&amp;gt;
&amp;gt; Feature is web exposed through WebIDL changes. No additional 
&amp;gt; implementation effort is required.
&amp;gt;
&amp;gt;
&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac, 
&amp;gt; Linux, Chrome OS, Android, and Android WebView)?
&amp;gt;
&amp;gt; Yes
&amp;gt;
&amp;gt; Is this feature fully tested by web-platform-tests 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt; ?
&amp;gt;
&amp;gt; WPTs have been added that fully test the behavior of the new locking 
&amp;gt; modes. They additionally test the interactions between combinations of 
&amp;gt; primitives, their different modes, and file handle operations.
&amp;gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/fs/FileSystemFileHandle-cross-primitive-locking.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/fs/FileSystemFileHandle-cross-primitive-locking.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/fs/FileSystemFileHandle-sync-access-handle-lock-modes.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/fs/FileSystemFileHandle-sync-access-handle-lock-modes.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/fs/FileSystemFileHandle-writable-file-stream-lock-modes.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned"&gt;https://wpt.fyi/results/fs/FileSystemFileHandle-writable-file-stream-lock-modes.https.tentative.worker.html?label=experimental&amp;label=master&amp;aligned&lt;/a&gt;
&amp;gt;
&amp;gt;
&amp;gt; Flag name on chrome://flags
&amp;gt;
&amp;gt; file-system-access-locking-scheme
&amp;gt;
&amp;gt; Finch feature name
&amp;gt;
&amp;gt; FileSystemAccessLockingScheme
&amp;gt;
&amp;gt; Requires code in //chrome?
&amp;gt;
&amp;gt; False
&amp;gt;
&amp;gt; Tracking bug
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1382215"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1382215&lt;/a&gt;
&amp;gt;
&amp;gt; Launch bug
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://launch.corp.google.com/launch/4261043"&gt;https://launch.corp.google.com/launch/4261043&lt;/a&gt;
&amp;gt;
&amp;gt; Estimated milestones
&amp;gt;
&amp;gt; Shipping on desktop
&amp;gt;
&amp;gt; 121
&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt; Anticipated spec changes
&amp;gt;
&amp;gt; Discussion: &lt;a  rel="nofollow" href="https://github.com/whatwg/fs/issues/34"&gt;https://github.com/whatwg/fs/issues/34&lt;/a&gt;
&amp;gt;
&amp;gt; No open issues that introduce web compat/interop risk.
&amp;gt;
&amp;gt;
&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5172892632875008"&gt;https://chromestatus.com/feature/5172892632875008&lt;/a&gt;
&amp;gt;
&amp;gt; Links to previous Intent discussions
&amp;gt;
&amp;gt; Intent to prototype: 
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAPscNz5Oi-z6-%2BvTVyf9BNgvVnLZeQo5nfzyRhEZ_F400tTP3w%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAPscNz5Oi-z6-%2BvTVyf9BNgvVnLZeQo5nfzyRhEZ_F400tTP3w%40mail.gmail.com&lt;/a&gt;
&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/bccaeb70-a6cf-4803-956e-8b720db45227n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/bccaeb70-a6cf-4803-956e-8b720db45227n%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08514.html</id>
        <title>[blink-dev] Re: Intent to Experiment: IP Protection Phase 0</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08514.html"/>
        <updated>2023-11-29T16:10:51.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08514.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Experiment%5C%3A+IP+Protection+Phase+0%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Experiment: IP Protection Phase 0&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Chris%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Chris&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 08:10:51 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Putting all other concerns aside, wouldn't this &amp;quot;ip protection&amp;quot; proxy allow 
the owner/controllers of the proxies to decide what websites and content 
the end user will and won't be allowed to access?  Why is this problem not 
listed with other concerns in any of the proposal write ups I have read? 
This is a serious 1st Amendment concern,a nd should be addressed in the 
conversation and made known to the public using chrome.&lt;/pre&gt;&lt;pre&gt;

On Thursday, October 19, 2023 at 2:52:53 PM UTC-6 Brianna Goldstein wrote:

&amp;gt; Contact emails
&amp;gt;
&amp;gt; Brianna Goldstein, James Bradley, David Schinazi
&amp;gt;
&amp;gt; Explainer
&amp;gt;
&amp;gt; IP Protection formerly known as Gnatcatcher 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChrome/ip-protection"&gt;https://github.com/GoogleChrome/ip-protection&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt; Specification
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt; Summary
&amp;gt;
&amp;gt; IP Protection &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChrome/ip-protection"&gt;https://github.com/GoogleChrome/ip-protection&lt;/a&gt;&amp;gt; is a 
&amp;gt; feature that sends third-party traffic for a set of domains through proxies 
&amp;gt; for the purpose of protecting the user by masking their IP address from 
&amp;gt; those domains.
&amp;gt;
&amp;gt; After receiving much feedback from the ecosystem, the design of the 
&amp;gt; broader proposal is as follows:
&amp;gt;
&amp;gt;    - 
&amp;gt;    
&amp;gt;    IP Protection will be opt-in initially. This will help ensure that 
&amp;gt;    there is user control over privacy decisions and that Google can monitor 
&amp;gt;    behaviors at lower volumes. 
&amp;gt;    - 
&amp;gt;    
&amp;gt;    It will roll out in a phased manner. Like all of our privacy 
&amp;gt;    proposals, we want to ensure that we learn as we go and we recognize that 
&amp;gt;    there may also be regional considerations to evaluate. 
&amp;gt;    - 
&amp;gt;    
&amp;gt;    We are using a list based approach and only domains on the list in a 
&amp;gt;    third-party context will be impacted. We are conscious that these 
&amp;gt;    proposals may cause undesired disruptions for legitimate use cases and so 
&amp;gt;    we are just focused on the scripts and domains that are considered to be 
&amp;gt;    tracking users. 
&amp;gt;    
&amp;gt;
&amp;gt; We plan to test and roll out the feature in multiple phases. To start, 
&amp;gt; Phase 0 will use a single Google-owned proxy and will only proxy requests 
&amp;gt; to domains owned by Google. This first phase will allow us to test our 
&amp;gt; infrastructure while preventing impact to other companies and gives us more 
&amp;gt; time to refine the list of domains that will be proxied. For simplicity, 
&amp;gt; only clients with US-based IP addresses will be granted access to the 
&amp;gt; proxies for phase 0.
&amp;gt;
&amp;gt; A small percentage of clients will be automatically enrolled in this 
&amp;gt; initial test, though the architecture and design will evolve between this 
&amp;gt; test and future launches. To access the proxy, a user must be logged in to 
&amp;gt; Chrome. To prevent abuse, a Google-run authentication server will grant 
&amp;gt; access tokens to the Google run proxy based on a per-user quota.
&amp;gt;
&amp;gt; In future phases we plan to use a 2-hop proxy, as had previously been 
&amp;gt; indicated in the IP Protection explainer. 
&amp;gt;
&amp;gt; Blink component
&amp;gt;
&amp;gt; Privacy&amp;gt;Fingerprinting&amp;gt;IPProtection  
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Privacy%3EFingerprinting%3EIPProtection"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Privacy%3EFingerprinting%3EIPProtection&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt; TAG review
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt; TAG review status
&amp;gt;
&amp;gt; N/A
&amp;gt;
&amp;gt; RisksInteroperability and Compatibility
&amp;gt;
&amp;gt; IP Protection changes how stable a client's IP address is but does not 
&amp;gt; otherwise cause a breaking change for existing sites. In this experiment 
&amp;gt; the only sites impacted are Google owned domains which include the some 
&amp;gt; domains 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://docs.google.com/document/d/1iCM3BxJ5cBVwepIL3L-ux-2eS-R0SgaCZEM_ja0ary4/edit?usp=sharing"&gt;https://docs.google.com/document/d/1iCM3BxJ5cBVwepIL3L-ux-2eS-R0SgaCZEM_ja0ary4/edit?usp=sharing&lt;/a&gt;&amp;gt;
&amp;gt;  
&amp;gt; when they are loaded in a third party context. 
&amp;gt;
&amp;gt; For those requests, a stable IP address for a client can no longer be 
&amp;gt; expected. There is no impact to other domains at this time.
&amp;gt;
&amp;gt; Gecko: No signal
&amp;gt;
&amp;gt; WebKit: Shipped a similar feature in Intelligent Tracking Protection. 
&amp;gt; This experiment is only a single proxy, however we plan in a later phase to 
&amp;gt; move to the double hop proxy model that Safari has also shipped.
&amp;gt;
&amp;gt; Web developers: No signals
&amp;gt;
&amp;gt; Other signals:
&amp;gt;
&amp;gt; WebView application risks
&amp;gt;
&amp;gt; Does this intent deprecate or change behavior of existing APIs, such that 
&amp;gt; it has potentially high risk for Android WebView-based applications?
&amp;gt;
&amp;gt; This experiment does not include Webview.
&amp;gt;
&amp;gt;
&amp;gt; Goals for experimentation
&amp;gt;
&amp;gt; We will enable this experiment in the pre-stable Chrome channels at most 
&amp;gt; to 33% of clients. For this initial experiment we want to test our 
&amp;gt; infrastructure and the integrations between various components for bugs, 
&amp;gt; stability and reliability. We want to measure the latency of requests using 
&amp;gt; the full flow to get an early picture of where we can improve performance 
&amp;gt; as we ramp up traffic.
&amp;gt;
&amp;gt; Ongoing technical constraints
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt; Debuggability
&amp;gt;
&amp;gt; How to test IP Protection if the feature is enabled on your client
&amp;gt;
&amp;gt;    1. 
&amp;gt;    
&amp;gt;    Navigate your configured browser to chrome://net-export.
&amp;gt;    2. 
&amp;gt;    
&amp;gt;    Click “Start Logging To Disk” and save the log as something you can 
&amp;gt;    remember
&amp;gt;    3. 
&amp;gt;    
&amp;gt;    Open another tab and navigate to a sites that loads 3p Google ads
&amp;gt;    4. 
&amp;gt;    
&amp;gt;    Go back to your net-export tab and click “Stop Logging”. This will 
&amp;gt;    download a JSON log file.
&amp;gt;    5. 
&amp;gt;    
&amp;gt;    Navigate to &lt;a  rel="nofollow" href="https://netlog-viewer.appspot.com/#import"&gt;https://netlog-viewer.appspot.com/#import&lt;/a&gt; and import your 
&amp;gt;    file
&amp;gt;    6. 
&amp;gt;    
&amp;gt;    Using the left navigation bar, navigate to the Sockets tab, if IP 
&amp;gt;    Protection is enabled for you will see a socket corresponding to the IP 
&amp;gt;    Protection Proxy that handles traffic to some Google owned domains.
&amp;gt;    
&amp;gt;
&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac, 
&amp;gt; Linux, Chrome OS, Android, and Android WebView)?
&amp;gt;
&amp;gt; No, not WebView.
&amp;gt;
&amp;gt; Is this feature fully tested by web-platform-tests 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt; ?
&amp;gt;
&amp;gt; No
&amp;gt;
&amp;gt; Flag name
&amp;gt;
&amp;gt; kEnableIpProtectionProxy
&amp;gt;
&amp;gt; Requires code in //chrome?
&amp;gt;
&amp;gt; chrome/browser/ip_protection/ handles authenticated requests to the token 
&amp;gt; signing server.
&amp;gt;
&amp;gt; Estimated milestones
&amp;gt;
&amp;gt; M119 - M125
&amp;gt;
&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/6574194264899584"&gt;https://chromestatus.com/feature/6574194264899584&lt;/a&gt;
&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/f76eee60-96b5-426d-bbd4-40e3ab3a5f0dn%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/f76eee60-96b5-426d-bbd4-40e3ab3a5f0dn%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08513.html</id>
        <title>Re: [blink-dev] Re: Intent to Ship: CSS supports() condition for @import</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08513.html"/>
        <updated>2023-11-29T15:40:19.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08513.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+CSS+supports%5C%28%5C%29+condition+for+%40import%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Ship: CSS supports() condition for @import&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Yoav+Weiss%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Yoav Weiss&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 07:40:19 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;On Wed, Nov 29, 2023 at 4:34 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; I wonder if we should hold off on adding @import support until such a
&amp;gt; solution emerges.


On second thought, since we didn't delay `layer`, there's no real reason to
delay shipping here.
But I strongly urge you to nudge this along :)


&amp;gt; In any case, similar to layer
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/ZCN2tBZ2cUY/m/BQAcIIjFCAAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/ZCN2tBZ2cUY/m/BQAcIIjFCAAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;  support,
&amp;gt; you probably want to add tests that make sure that the preload scanner is
&amp;gt; properly preloading such inlined rules, and want to make sure that
&amp;gt; developer facing advice clarifies the huge cost of using this in external
&amp;gt; styles.
&amp;gt;
&amp;gt; On Wednesday, November 22, 2023 at 2:33:22 PM UTC+1 Daniil Sakhapov wrote:
&amp;gt;
&amp;gt;&amp;gt; Yes, thanks, I saw this discussion and will keep my eye on it. So, once
&amp;gt;&amp;gt; the solution for back comp is found there, I'll work on it.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Wednesday, November 22, 2023 at 12:40:27 PM UTC+1 Noam Rosenthal wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; One open issue that I didn't see mentioned and is worth noting, is a
&amp;gt;&amp;gt;&amp;gt; missing equivalent in &amp;lt;link&amp;gt; elements (similar to &amp;lt;link media=...&amp;gt;. This
&amp;gt;&amp;gt;&amp;gt; creates an inconsistency where you can have conditional imports in CSS but
&amp;gt;&amp;gt;&amp;gt; not directly from HTML. This is mentioned in
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/7540"&gt;https://github.com/whatwg/html/issues/7540&lt;/a&gt;. Not saying it should block
&amp;gt;&amp;gt;&amp;gt; shipping, but rather that it should be considered an open issue.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 5:47 AM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; LGTM1
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; While I'm not excited about @import in general and think no one should
&amp;gt;&amp;gt;&amp;gt;&amp;gt; use it, this restricts it in potentially useful ways.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wednesday, November 15, 2023 at 3:28:48 PM UTC+1 Daniil Sakhapov
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailssakha...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://www.w3.org/TR/css-cascade-5/#conditional-import"&gt;https://www.w3.org/TR/css-cascade-5/#conditional-import&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; It allows to import stylesheets and layers conditioned on supports().
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; If the support() doesn't match, the import will not be fetched.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Example: @import &amp;quot;mystyle.css&amp;quot; supports(display: flex);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;CSS
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3ECSS"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3ECSS&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Shipped/Shipping
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/279"&gt;https://github.com/WebKit/standards-positions/issues/279&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: No signals
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows,
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/css/css-cascade/import-conditions.html"&gt;https://wpt.fyi/results/css/css-cascade/import-conditions.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/css/cssom/cssimportrule.html"&gt;https://wpt.fyi/css/cssom/cssimportrule.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsCSSSupportsForImportRules
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat or
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; interop issues. Please list open issues (e.g. links to known github issues
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; in the project for the feature specification) whose resolution may
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; of
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5899007704694784"&gt;https://chromestatus.com/feature/5899007704694784&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfWeRMY60Cy9O41RL22xC-A_BNFYtOQkc3CyY5qnUkZAsQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfWeRMY60Cy9O41RL22xC-A_BNFYtOQkc3CyY5qnUkZAsQ%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08512.html</id>
        <title>Re: [blink-dev] Re: Intent to Ship: CSS supports() condition for @import</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08512.html"/>
        <updated>2023-11-29T15:34:08.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08512.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+CSS+supports%5C%28%5C%29+condition+for+%40import%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Ship: CSS supports() condition for @import&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Yoav+Weiss%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Yoav Weiss&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 07:34:08 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;I wonder if we should hold off on adding @import support until such a 
solution emerges.&lt;/pre&gt;&lt;pre&gt;

In any case, similar to layer 
&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/ZCN2tBZ2cUY/m/BQAcIIjFCAAJ?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/ZCN2tBZ2cUY/m/BQAcIIjFCAAJ?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
 support, 
you probably want to add tests that make sure that the preload scanner is 
properly preloading such inlined rules, and want to make sure that 
developer facing advice clarifies the huge cost of using this in external 
styles. 

On Wednesday, November 22, 2023 at 2:33:22 PM UTC+1 Daniil Sakhapov wrote:

&amp;gt; Yes, thanks, I saw this discussion and will keep my eye on it. So, once 
&amp;gt; the solution for back comp is found there, I'll work on it.
&amp;gt;
&amp;gt; On Wednesday, November 22, 2023 at 12:40:27 PM UTC+1 Noam Rosenthal wrote:
&amp;gt;
&amp;gt;&amp;gt; One open issue that I didn't see mentioned and is worth noting, is a 
&amp;gt;&amp;gt; missing equivalent in &amp;lt;link&amp;gt; elements (similar to &amp;lt;link media=...&amp;gt;. This 
&amp;gt;&amp;gt; creates an inconsistency where you can have conditional imports in CSS but 
&amp;gt;&amp;gt; not directly from HTML. This is mentioned in 
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/7540"&gt;https://github.com/whatwg/html/issues/7540&lt;/a&gt;. Not saying it should block 
&amp;gt;&amp;gt; shipping, but rather that it should be considered an open issue.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 5:47 AM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; 
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; LGTM1
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; While I'm not excited about @import in general and think no one should 
&amp;gt;&amp;gt;&amp;gt; use it, this restricts it in potentially useful ways.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Wednesday, November 15, 2023 at 3:28:48 PM UTC+1 Daniil Sakhapov 
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailssakha...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://www.w3.org/TR/css-cascade-5/#conditional-import"&gt;https://www.w3.org/TR/css-cascade-5/#conditional-import&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; It allows to import stylesheets and layers conditioned on supports(). 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; If the support() doesn't match, the import will not be fetched.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Example: @import &amp;quot;mystyle.css&amp;quot; supports(display: flex);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;CSS 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3ECSS"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3ECSS&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: Shipped/Shipping
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal (
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/279"&gt;https://github.com/WebKit/standards-positions/issues/279&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: No signals
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/css/css-cascade/import-conditions.html"&gt;https://wpt.fyi/results/css/css-cascade/import-conditions.html&lt;/a&gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/css/cssom/cssimportrule.html"&gt;https://wpt.fyi/css/cssom/cssimportrule.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsCSSSupportsForImportRules
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat or 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; interop issues. Please list open issues (e.g. links to known github issues 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; in the project for the feature specification) whose resolution may 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; of 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5899007704694784"&gt;https://chromestatus.com/feature/5899007704694784&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; -- 
&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google 
&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send 
&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/13305766-65c8-427c-85a4-fc457c855bf0n%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/bd1d992a-5f9e-4537-a020-bdab38a72517n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/bd1d992a-5f9e-4537-a020-bdab38a72517n%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08511.html</id>
        <title>[blink-dev] Re: Intent to Ship: WebGL drawingBufferStorage</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08511.html"/>
        <updated>2023-11-29T15:24:56.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08511.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+WebGL+drawingBufferStorage%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Ship: WebGL drawingBufferStorage&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Yoav+Weiss%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Yoav Weiss&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 07:24:56 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Thanks! This seems like an important problem to solve..

On Monday, November 27, 2023 at 10:20:37 PM UTC+1 Christopher Cameron wrote:&lt;/pre&gt;&lt;pre&gt;

Contact emailsccame...@chromium.org

ExplainerNone


A short (inline?) explainer can help reviewers assess what this looks like 
and how developers may use it.

As is, it's not clear what the API surface for this is.
 



Specification&lt;a  rel="nofollow" href="https://github.com/KhronosGroup/WebGL/pull/3222"&gt;https://github.com/KhronosGroup/WebGL/pull/3222&lt;/a&gt;


What's preventing the PR from landing?
 



Summary

WebGL allows rendering into textures and renderbuffers of many different 
pixel formats (e.g, 8-bit, floating-point, sRGB-encoded, etc). The drawing 
buffer of WebGL (the buffer that is passed to the compositor) is 8-bit by 
default. This feature allows WebGL to configure the pixel format of this 
drawing buffer. This feature enables WebGL developers to: * avoiding an an 
extra copy convert their rendering to the default drawing buffer pixel 
format * draw content that has a more than 8 bits of precision The latter 
feature unlocks several additional applications * very wide color gamut 
content without loss of precision * medical applications which require &amp;gt;8 
bits of precision * high dynamic range applications (when available)


Blink componentBlink&amp;gt;WebGL 
&amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EWebGL"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EWebGL&lt;/a&gt;&amp;gt;

TAG reviewNone

TAG review statusNot applicable

Risks


Interoperability and Compatibility

None.


*Gecko*: Positive Feature authored by Mozilla.

*WebKit*: No signal (&lt;a  rel="nofollow" href="https://github.com/WebKit/"&gt;https://github.com/WebKit/&lt;/a&gt;
standards-positions/issues/278)

*Web developers*: Positive Positive feedback from several high profile web 
developers - 3D engines that use physically based rendering - image editing 
formats (especially for HDR) - medical imaging applications (which require 
&amp;gt;8 bit precision)

*Other signals*: This feature's specification was authored by Mozilla.

Ergonomics

None.


Activation

No.


Security

None.


WebView application risks

Does this intent deprecate or change behavior of existing APIs, such that 
it has potentially high risk for Android WebView-based applications?

None


Debuggability

No additional debugging support should be needed.


Will this feature be supported on all six Blink platforms (Windows, Mac, 
Linux, Chrome OS, Android, and Android WebView)?Yes

The underlying technology (floating point textures) has almost universal 
support.


Is this feature fully tested by web-platform-tests 
&amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
?No

This feature is fully tested using WebGL conformance tests, which has been 
checked in.


Flag name on chrome://flags

Finch feature nameNone

Requires code in //chrome?False

Availability expectationFeature is available on Web Platform in less than a 
year following launch in Chrome.

Adoption expectationSeveral specific partners have been using this feature 
being chrome://flags' &amp;quot;experimental web platform features&amp;quot;, and intend to 
adopt this as soon as it is supported.

Estimated milestonesShipping on desktop122Shipping on Android122Shipping on 
WebView122

Anticipated spec changes

Open questions about a feature may be a source of future web compat or 
interop issues. Please list open issues (e.g. links to known github issues 
in the project for the feature specification) whose resolution may 
introduce web compat/interop risk (e.g., changing to naming or structure of 
the API in a non-backward-compatible way).
None

Link to entry on the Chrome Platform Status&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;
feature/5146687245123584

Links to previous Intent discussionsIntent to prototype: &lt;a  rel="nofollow" href="https://groups"&gt;https://groups&lt;/a&gt;.
google.com/a/chromium.org/d/msgid/blink-dev/CAGnfxj-HFt%
3Dk5NBHb5SyNT0ERn6w13S3U8%3DBjV8-4EB4EUoAkw%40mail.gmail.com

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/10e261f6-7570-440c-9135-f99f0bd0bb25n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/10e261f6-7570-440c-9135-f99f0bd0bb25n%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08510.html</id>
        <title>Re: [blink-dev] Re: Intent to Ship: Document picture-in-picture: require user gesture for resize APIs</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08510.html"/>
        <updated>2023-11-29T15:12:57.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08510.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+Document+picture%5C-in%5C-picture%5C%3A+require+user+gesture+for+resize+APIs%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Ship: Document picture-in-picture: require user gesture for resize APIs&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Yoav+Weiss%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Yoav Weiss&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 07:12:57 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;LGTM1

On Wednesday, November 29, 2023 at 4:04:49 PM UTC+1 Tommy Steimel wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; Okay the security reviewer has now re-reviewed it given the updated 
&amp;gt; information. Thanks!
&amp;gt;
&amp;gt; On Mon, Nov 27, 2023 at 11:55 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 11:49 PM 'Tommy Steimel' via blink-dev &amp;lt;
&amp;gt;&amp;gt; blink-dev@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:43 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; 
&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Friday, November 17, 2023 at 8:47:34 PM UTC+1 Tommy Steimel wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emailsstei...@chromium.org, liber...@chromium.org
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://github.com/WICG/document-picture-in-picture/"&gt;https://github.com/WICG/document-picture-in-picture/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; pull/104
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; This adds a user gesture requirement for the resizeBy() and resizeTo() 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Window APIs for document picture-in-picture windows. This allows websites 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; to make use of those APIs while mitigating much of the abuse potential of 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; those APIs on an always-on-top window.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Media&amp;gt;PictureInPicture 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EPictureInPicture"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EPictureInPicture&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG reviewN/A as this is a minor change to the behavior of an existing 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; This added requirement would mean that calls to these API can now fail. 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is that new? Or are developers already expected to handle failures?
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Do we expect developers to start checking the UserActivation API 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/UserActivation"&gt;https://developer.mozilla.org/en-US/docs/Web/API/UserActivation&lt;/a&gt;&amp;gt; before 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; calling these methods?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Currently these APIs always fail on document picture-in-picture windows 
&amp;gt;&amp;gt;&amp;gt; regardless of user activation (to prevent really spammy always-on-top 
&amp;gt;&amp;gt;&amp;gt; windows). We don't expect developers to check the UserActivation API at 
&amp;gt;&amp;gt;&amp;gt; all, just to only call resizeTo()/resizeBy() in response to a user gesture.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; From the subject and summary I also originally assumed this intent was 
&amp;gt;&amp;gt; about adding a user gesture restriction, and it looks like your security 
&amp;gt;&amp;gt; approval was also based on that incorrect understanding. Can you please 
&amp;gt;&amp;gt; re-request a security review with the clarification of the scope of this 
&amp;gt;&amp;gt; feature? Please also update the summary of the feature in ChromeStatus, eg: 
&amp;gt;&amp;gt; &amp;quot;This enables the resizeBy() and resizeTo() Windows methods on document 
&amp;gt;&amp;gt; picture-in-picture windows, but with the added restriction of a user 
&amp;gt;&amp;gt; gesture requirement to mitigate the abuse potential&amp;quot;.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Otherwise it looks fine to me.
&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; *Gecko*: No signal (&lt;a  rel="nofollow" href="https://github.com/mozilla/"&gt;https://github.com/mozilla/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/670#issuecomment-1786354361) Added comment 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; to existing standards position issue for document picture-in-picture. No 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; response yet
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal (&lt;a  rel="nofollow" href="https://github.com/WebKit/"&gt;https://github.com/WebKit/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/41#issuecomment-1786354016) Added comment 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; to existing standards position issue for document picture-in-picture. No 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; response yet
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive The ability to programmatically resize the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; document picture-in-picture window is one of the most-requested features 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; for document picture-in-picture
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Ergonomics
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Activation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Security
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; While being able to resize an always-on-top window at will is a 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; security/annoyance risk, by making the API consume a user gesture, the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; website can only resize once per click, which limits the possible abuse 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; vectors
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)?No
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; The document picture-in-picture API is not supported on Android
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; document-picture-in-picture/resize-requires-user-gesture.https.html
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Small, low-risk change to existing API
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug&lt;a  rel="nofollow" href="https://crbug.com/1354325"&gt;https://crbug.com/1354325&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Sample links
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://steimelchrome.github.io/document-pip/click_to_resize.html"&gt;https://steimelchrome.github.io/document-pip/click_to_resize.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestonesShipping on desktop121
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat or 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; interop issues. Please list open issues (e.g. links to known github issues 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; in the project for the feature specification) whose resolution may 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; of 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; feature/5398995019235328
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; -- 
&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google 
&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send 
&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit 
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/740e5180-d4d9-4156-9489-21185b9bc1e6n%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08509.html</id>
        <title>Re: [blink-dev] Intent to Prototype and Ship: MessagePort.onclose</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08509.html"/>
        <updated>2023-11-29T15:07:56.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08509.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Prototype+and+Ship%5C%3A+MessagePort.onclose%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Prototype and Ship: MessagePort.onclose&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Yoav+Weiss%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Yoav Weiss&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 07:07:56 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Also, can you tick the review boxes in your Chrome status entry to kick off
security, privacy and other reviews?&lt;/pre&gt;&lt;pre&gt;

On Wed, Nov 29, 2023 at 6:22 AM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:

&amp;gt; I ran into a Chromium-internal case where having a `close` signal would've
&amp;gt; helped me reduce complexity significantly. So I'm very excited about this
&amp;gt; work.
&amp;gt;
&amp;gt; I also believe
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1487835"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1487835&lt;/a&gt;&amp;gt; there's
&amp;gt; an equivalent mechanism in Electron. Might be worthwhile to get those folks
&amp;gt; involved and see if there are any learnings to be had.
&amp;gt;
&amp;gt; On Tue, Nov 28, 2023 at 9:34 PM Torne (Richard Coles) &amp;lt;to...@chromium.org&amp;gt;
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Android WebView exposes the ability to create and use MessagePorts to the
&amp;gt;&amp;gt; host app through a Java API, and currently one of the limitations of this
&amp;gt;&amp;gt; API is the lack of a signal about the channel being closed, which in some
&amp;gt;&amp;gt; cases can lead to apps holding on to Java objects longer than intended.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; So, I'm very happy to see this proposed for the web API side, as this
&amp;gt;&amp;gt; should hopefully also enable us to support the same thing in WebView's Java
&amp;gt;&amp;gt; API. +Peter Birk Pakkenberg &amp;lt;pb...@google.com&amp;gt; has been tackling some
&amp;gt;&amp;gt; issues here recently.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Tue, 28 Nov 2023 at 12:31, Nonoka Muraki &amp;lt;murakinon...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; murakinon...@chromium.org, m...@chromium.org, rak...@chromium.org
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Explainer
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/fergald/explainer-messageport-close"&gt;https://github.com/fergald/explainer-messageport-close&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/fergald/explainer-messageport-close#exposing-that-cross-origin-navigation-has-occurred"&gt;https://github.com/fergald/explainer-messageport-close#exposing-that-cross-origin-navigation-has-occurred&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/html/pull/9933"&gt;https://github.com/whatwg/html/pull/9933&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Design docs
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1lXZU2Pk2ycitqj8aL9kxT2aauwXqpA0vJDUalkXA29Y"&gt;https://docs.google.com/document/d/1lXZU2Pk2ycitqj8aL9kxT2aauwXqpA0vJDUalkXA29Y&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Notifies one of the MessagePorts that the other port has been
&amp;gt;&amp;gt;&amp;gt; disentangled (i.e., close() is called, an owning document is destroyed, or
&amp;gt;&amp;gt;&amp;gt; the port is garbage collected).
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Blink
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Motivation
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Channel Messaging API enables two separate scripts running in different
&amp;gt;&amp;gt;&amp;gt; browsing contexts to communicate directly. Once MessageChannel is created,
&amp;gt;&amp;gt;&amp;gt; we can access two entangled  MessagePorts (MessageChannel.port1 and
&amp;gt;&amp;gt;&amp;gt; MessageChannel.port2), transfer port2 to the other browsing context,
&amp;gt;&amp;gt;&amp;gt; allowing these two scripts to post and receive messages.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; The problem with this API is that there is currently no timely and
&amp;gt;&amp;gt;&amp;gt; reliable way to detect when a MessagePort becomes disentangled. This makes
&amp;gt;&amp;gt;&amp;gt; it difficult to release resources associated with ports. Some users have
&amp;gt;&amp;gt;&amp;gt; used the unload event to detect disconnection, but it is unreliable
&amp;gt;&amp;gt;&amp;gt; especially on mobile. Therefore, the approach available now is to hold a
&amp;gt;&amp;gt;&amp;gt; MessagePort in WeakRef and periodically check if this port has been garbage
&amp;gt;&amp;gt;&amp;gt; collected by using deref() or to make use of the pagehide event. However,
&amp;gt;&amp;gt;&amp;gt; this event is also not an effective solution. The reasons are as follows:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 1) It doesn't work when the document crashes.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 2) The port must cooperate in signaling the port is going to be
&amp;gt;&amp;gt;&amp;gt; disentangled.(i.e., the port must post the message which is &amp;quot;it is going to
&amp;gt;&amp;gt;&amp;gt; be closed&amp;quot; to the entangled port.)
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 3) It fires even if the page is not being destroyed and just enters
&amp;gt;&amp;gt;&amp;gt; BFCache.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Adding a close event helps to detect timely and reliably that
&amp;gt;&amp;gt;&amp;gt; MessagePort is disentangled and make it easier to release resources
&amp;gt;&amp;gt;&amp;gt; associated with ports.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Initial public proposal
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766#issuecomment-1708027883"&gt;https://github.com/whatwg/html/issues/1766#issuecomment-1708027883&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Search tags
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; close &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:close"&gt;https://chromestatus.com/features#tags:close&lt;/a&gt;&amp;gt;, onclose
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:onclose"&gt;https://chromestatus.com/features#tags:onclose&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Not needed because This is a small feature where we just dispatch a new
&amp;gt;&amp;gt;&amp;gt; event.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt; Unfortunately that's not a criteria for skipping a TAG review. Can you
&amp;gt; file one?
&amp;gt;
&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Gecko:  Positive (
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/914"&gt;https://github.com/mozilla/standards-positions/issues/914&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt; There are definitely positive signals on that thread, but it's not yet
&amp;gt; labeled as &amp;quot;positive&amp;quot; AFAICT.
&amp;gt;
&amp;gt;
&amp;gt;&amp;gt; Mozilla people are already involved in the initial Github issue
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; WebKit: No response (
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/271"&gt;https://github.com/WebKit/standards-positions/issues/271&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; WebKit people are already involved in the initial Github issue
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Web developers: Positive (&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Other signals:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; ?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Yes.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;  &lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5003089"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5003089&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flags
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Finch feature name
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; This is a small feature (just dispatching a new event) that doesn’t need
&amp;gt;&amp;gt;&amp;gt; experimentation.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; False
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1495616"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1495616&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; No milestones specified
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5086799659794432"&gt;https://chromestatus.com/feature/5086799659794432&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google
&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send
&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt; --
&amp;gt;&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt;&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt;&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAEV-rjcZL5YnizhWf0xA%3DBaSt4EmY32p1tjhYG%3DfEOP1B-Kk%2BQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAEV-rjcZL5YnizhWf0xA%3DBaSt4EmY32p1tjhYG%3DfEOP1B-Kk%2BQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAEV-rjcZL5YnizhWf0xA%3DBaSt4EmY32p1tjhYG%3DfEOP1B-Kk%2BQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAEV-rjcZL5YnizhWf0xA%3DBaSt4EmY32p1tjhYG%3DfEOP1B-Kk%2BQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfXrMiJSFke2%3DikGSOJAkAVLQhdXWTmUmPMdMHbg4NH5iw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfXrMiJSFke2%3DikGSOJAkAVLQhdXWTmUmPMdMHbg4NH5iw%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08508.html</id>
        <title>Re: [blink-dev] Re: Intent to Ship: Document picture-in-picture: require user gesture for resize APIs</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08508.html"/>
        <updated>2023-11-29T15:04:52.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08508.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+Document+picture%5C-in%5C-picture%5C%3A+require+user+gesture+for+resize+APIs%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Re: Intent to Ship: Document picture-in-picture: require user gesture for resize APIs&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22%27Tommy+Steimel%27+via+blink%5C-dev%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;'Tommy Steimel' via blink-dev&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231129" rel="nofollow"&gt;Wed, 29 Nov 2023 07:04:52 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Okay the security reviewer has now re-reviewed it given the updated
information. Thanks!&lt;/pre&gt;&lt;pre&gt;

On Mon, Nov 27, 2023 at 11:55 PM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:

&amp;gt; On Wed, Nov 22, 2023 at 11:49 PM 'Tommy Steimel' via blink-dev &amp;lt;
&amp;gt; blink-dev@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:43 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Friday, November 17, 2023 at 8:47:34 PM UTC+1 Tommy Steimel wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Contact emailsstei...@chromium.org, liber...@chromium.org
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; ExplainerNone
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Specification&lt;a  rel="nofollow" href="https://github.com/WICG/document-picture-in-picture/"&gt;https://github.com/WICG/document-picture-in-picture/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; pull/104
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; This adds a user gesture requirement for the resizeBy() and resizeTo()
&amp;gt;&amp;gt;&amp;gt; Window APIs for document picture-in-picture windows. This allows websites
&amp;gt;&amp;gt;&amp;gt; to make use of those APIs while mitigating much of the abuse potential of
&amp;gt;&amp;gt;&amp;gt; those APIs on an always-on-top window.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Blink componentBlink&amp;gt;Media&amp;gt;PictureInPicture
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EPictureInPicture"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EPictureInPicture&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; TAG reviewN/A as this is a minor change to the behavior of an existing
&amp;gt;&amp;gt;&amp;gt; API
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; TAG review statusNot applicable
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; This added requirement would mean that calls to these API can now fail.
&amp;gt;&amp;gt;&amp;gt; Is that new? Or are developers already expected to handle failures?
&amp;gt;&amp;gt;&amp;gt; Do we expect developers to start checking the UserActivation API
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/UserActivation"&gt;https://developer.mozilla.org/en-US/docs/Web/API/UserActivation&lt;/a&gt;&amp;gt; before
&amp;gt;&amp;gt;&amp;gt; calling these methods?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Currently these APIs always fail on document picture-in-picture windows
&amp;gt;&amp;gt; regardless of user activation (to prevent really spammy always-on-top
&amp;gt;&amp;gt; windows). We don't expect developers to check the UserActivation API at
&amp;gt;&amp;gt; all, just to only call resizeTo()/resizeBy() in response to a user gesture.
&amp;gt;&amp;gt;
&amp;gt;
&amp;gt; From the subject and summary I also originally assumed this intent was
&amp;gt; about adding a user gesture restriction, and it looks like your security
&amp;gt; approval was also based on that incorrect understanding. Can you please
&amp;gt; re-request a security review with the clarification of the scope of this
&amp;gt; feature? Please also update the summary of the feature in ChromeStatus, eg:
&amp;gt; &amp;quot;This enables the resizeBy() and resizeTo() Windows methods on document
&amp;gt; picture-in-picture windows, but with the added restriction of a user
&amp;gt; gesture requirement to mitigate the abuse potential&amp;quot;.
&amp;gt;
&amp;gt; Otherwise it looks fine to me.
&amp;gt;
&amp;gt;
&amp;gt;&amp;gt; *Gecko*: No signal (&lt;a  rel="nofollow" href="https://github.com/mozilla/"&gt;https://github.com/mozilla/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/670#issuecomment-1786354361) Added comment
&amp;gt;&amp;gt;&amp;gt; to existing standards position issue for document picture-in-picture. No
&amp;gt;&amp;gt;&amp;gt; response yet
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal (&lt;a  rel="nofollow" href="https://github.com/WebKit/"&gt;https://github.com/WebKit/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/41#issuecomment-1786354016) Added comment to
&amp;gt;&amp;gt;&amp;gt; existing standards position issue for document picture-in-picture. No
&amp;gt;&amp;gt;&amp;gt; response yet
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive The ability to programmatically resize the
&amp;gt;&amp;gt;&amp;gt; document picture-in-picture window is one of the most-requested features
&amp;gt;&amp;gt;&amp;gt; for document picture-in-picture
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Ergonomics
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Activation
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Security
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; While being able to resize an always-on-top window at will is a
&amp;gt;&amp;gt;&amp;gt; security/annoyance risk, by making the API consume a user gesture, the
&amp;gt;&amp;gt;&amp;gt; website can only resize once per click, which limits the possible abuse
&amp;gt;&amp;gt;&amp;gt; vectors
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac,
&amp;gt;&amp;gt;&amp;gt; Linux, Chrome OS, Android, and Android WebView)?No
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; The document picture-in-picture API is not supported on Android
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; ?Yes
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; document-picture-in-picture/resize-requires-user-gesture.https.html
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flagsNone
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Finch feature nameNone
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Small, low-risk change to existing API
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?False
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Tracking bug&lt;a  rel="nofollow" href="https://crbug.com/1354325"&gt;https://crbug.com/1354325&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Sample links
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://steimelchrome.github.io/document-pip/click_to_resize.html"&gt;https://steimelchrome.github.io/document-pip/click_to_resize.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Estimated milestonesShipping on desktop121
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat or
&amp;gt;&amp;gt;&amp;gt; interop issues. Please list open issues (e.g. links to known github issues
&amp;gt;&amp;gt;&amp;gt; in the project for the feature specification) whose resolution may
&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure of
&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt; N/A
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; feature/5398995019235328
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; --
&amp;gt;&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt;&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt;&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAqS29Q2%2BbV89rc8x%2B3BCVQVuLw5QEPnkbrJpy-2mq2bZA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAoLYMbT4xf8sVPtfBjRLy-wk1wYaPmgtir35WuoPgJtQg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAE-AwAoLYMbT4xf8sVPtfBjRLy-wk1wYaPmgtir35WuoPgJtQg%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08507.html</id>
        <title>Re: [blink-dev] Intent to Prototype and Ship: MessagePort.onclose</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08507.html"/>
        <updated>2023-11-29T05:23:10.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08507.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Prototype+and+Ship%5C%3A+MessagePort.onclose%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Prototype and Ship: MessagePort.onclose&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Yoav+Weiss%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Yoav Weiss&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 21:23:10 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;I ran into a Chromium-internal case where having a `close` signal would've
helped me reduce complexity significantly. So I'm very excited about this
work.&lt;/pre&gt;&lt;pre&gt;

I also believe
&amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1487835"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1487835&lt;/a&gt;&amp;gt; there's an
equivalent mechanism in Electron. Might be worthwhile to get those folks
involved and see if there are any learnings to be had.

On Tue, Nov 28, 2023 at 9:34 PM Torne (Richard Coles) &amp;lt;to...@chromium.org&amp;gt;
wrote:

&amp;gt; Android WebView exposes the ability to create and use MessagePorts to the
&amp;gt; host app through a Java API, and currently one of the limitations of this
&amp;gt; API is the lack of a signal about the channel being closed, which in some
&amp;gt; cases can lead to apps holding on to Java objects longer than intended.
&amp;gt;
&amp;gt; So, I'm very happy to see this proposed for the web API side, as this
&amp;gt; should hopefully also enable us to support the same thing in WebView's Java
&amp;gt; API. +Peter Birk Pakkenberg &amp;lt;pb...@google.com&amp;gt; has been tackling some
&amp;gt; issues here recently.
&amp;gt;
&amp;gt; On Tue, 28 Nov 2023 at 12:31, Nonoka Muraki &amp;lt;murakinon...@chromium.org&amp;gt;
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; murakinon...@chromium.org, m...@chromium.org, rak...@chromium.org
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Explainer
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/fergald/explainer-messageport-close"&gt;https://github.com/fergald/explainer-messageport-close&lt;/a&gt;
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/fergald/explainer-messageport-close#exposing-that-cross-origin-navigation-has-occurred"&gt;https://github.com/fergald/explainer-messageport-close#exposing-that-cross-origin-navigation-has-occurred&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/html/pull/9933"&gt;https://github.com/whatwg/html/pull/9933&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Design docs
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1lXZU2Pk2ycitqj8aL9kxT2aauwXqpA0vJDUalkXA29Y"&gt;https://docs.google.com/document/d/1lXZU2Pk2ycitqj8aL9kxT2aauwXqpA0vJDUalkXA29Y&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Notifies one of the MessagePorts that the other port has been
&amp;gt;&amp;gt; disentangled (i.e., close() is called, an owning document is destroyed, or
&amp;gt;&amp;gt; the port is garbage collected).
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Blink
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Motivation
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Channel Messaging API enables two separate scripts running in different
&amp;gt;&amp;gt; browsing contexts to communicate directly. Once MessageChannel is created,
&amp;gt;&amp;gt; we can access two entangled  MessagePorts (MessageChannel.port1 and
&amp;gt;&amp;gt; MessageChannel.port2), transfer port2 to the other browsing context,
&amp;gt;&amp;gt; allowing these two scripts to post and receive messages.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; The problem with this API is that there is currently no timely and
&amp;gt;&amp;gt; reliable way to detect when a MessagePort becomes disentangled. This makes
&amp;gt;&amp;gt; it difficult to release resources associated with ports. Some users have
&amp;gt;&amp;gt; used the unload event to detect disconnection, but it is unreliable
&amp;gt;&amp;gt; especially on mobile. Therefore, the approach available now is to hold a
&amp;gt;&amp;gt; MessagePort in WeakRef and periodically check if this port has been garbage
&amp;gt;&amp;gt; collected by using deref() or to make use of the pagehide event. However,
&amp;gt;&amp;gt; this event is also not an effective solution. The reasons are as follows:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; 1) It doesn't work when the document crashes.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; 2) The port must cooperate in signaling the port is going to be
&amp;gt;&amp;gt; disentangled.(i.e., the port must post the message which is &amp;quot;it is going to
&amp;gt;&amp;gt; be closed&amp;quot; to the entangled port.)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; 3) It fires even if the page is not being destroyed and just enters
&amp;gt;&amp;gt; BFCache.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Adding a close event helps to detect timely and reliably that MessagePort
&amp;gt;&amp;gt; is disentangled and make it easier to release resources associated with
&amp;gt;&amp;gt; ports.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Initial public proposal
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766#issuecomment-1708027883"&gt;https://github.com/whatwg/html/issues/1766#issuecomment-1708027883&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Search tags
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; close &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:close"&gt;https://chromestatus.com/features#tags:close&lt;/a&gt;&amp;gt;, onclose
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:onclose"&gt;https://chromestatus.com/features#tags:onclose&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Not needed because This is a small feature where we just dispatch a new
&amp;gt;&amp;gt; event.
&amp;gt;&amp;gt;
&amp;gt;
Unfortunately that's not a criteria for skipping a TAG review. Can you file
one?


&amp;gt;
&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Gecko:  Positive (
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/914"&gt;https://github.com/mozilla/standards-positions/issues/914&lt;/a&gt;)
&amp;gt;&amp;gt;
&amp;gt;
There are definitely positive signals on that thread, but it's not yet
labeled as &amp;quot;positive&amp;quot; AFAICT.


&amp;gt; Mozilla people are already involved in the initial Github issue
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; WebKit: No response (
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/271"&gt;https://github.com/WebKit/standards-positions/issues/271&lt;/a&gt;)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; WebKit people are already involved in the initial Github issue
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Web developers: Positive (&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Other signals:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such that
&amp;gt;&amp;gt; it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; ?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Yes.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;  &lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5003089"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5003089&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Flag name on chrome://flags
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Finch feature name
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Non-finch justification
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; This is a small feature (just dispatching a new event) that doesn’t need
&amp;gt;&amp;gt; experimentation.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Requires code in //chrome?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; False
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1495616"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1495616&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; No milestones specified
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5086799659794432"&gt;https://chromestatus.com/feature/5086799659794432&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; --
&amp;gt;&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt;&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt;&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt;&amp;gt; To view this discussion on the web visit
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;
&amp;gt; --
&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt; To view this discussion on the web visit
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAEV-rjcZL5YnizhWf0xA%3DBaSt4EmY32p1tjhYG%3DfEOP1B-Kk%2BQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAEV-rjcZL5YnizhWf0xA%3DBaSt4EmY32p1tjhYG%3DfEOP1B-Kk%2BQ%40mail.gmail.com&lt;/a&gt;
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAEV-rjcZL5YnizhWf0xA%3DBaSt4EmY32p1tjhYG%3DfEOP1B-Kk%2BQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAEV-rjcZL5YnizhWf0xA%3DBaSt4EmY32p1tjhYG%3DfEOP1B-Kk%2BQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt; .
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVvARa9Wn4omi00o%3Dtqn4wXxH1q8wMDz1nhqiY%2B7j8jFA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfVvARa9Wn4omi00o%3Dtqn4wXxH1q8wMDz1nhqiY%2B7j8jFA%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08506.html</id>
        <title>Re: [blink-dev] Intent to Implement and Ship: VideoEncoderConfig.contentHint</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08506.html"/>
        <updated>2023-11-29T00:38:45.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08506.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Implement+and+Ship%5C%3A+VideoEncoderConfig.contentHint%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Implement and Ship: VideoEncoderConfig.contentHint&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Mike+Taylor%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Mike Taylor&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 16:38:45 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre style="margin: 0em;"&gt;
LGTM3

On 11/27/23 10:50 PM, Yoav Weiss wrote:
&lt;/pre&gt;&lt;blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"&gt;&lt;pre style="margin: 0em;"&gt;
LGTM2&lt;/pre&gt;&lt;pre&gt;

On Tue, Nov 28, 2023 at 7:50 AM Rick Byers &amp;lt;rby...@chromium.org&amp;gt; wrote:

    All the other gates are now approved. I see there's a larger TAG
    review &amp;lt;&lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/912"&gt;https://github.com/w3ctag/design-reviews/issues/912&lt;/a&gt;&amp;gt; open
    which includes this feature, but it sounds like this generic (not
    codec-specific) feature is the direction TAG is encouraging. I
    don't think we need to block this little feature on the larger
    discussion of AV1-specific options.

    LGTM1



    On Thu, Nov 9, 2023 at 12:34 AM Daniel Bratell
    &amp;lt;bratel...@gmail.com&amp;gt; wrote:

        They seem to be in state &amp;quot;preparing&amp;quot; which is the stage before
        they are actually requested. The system is a bit new so maybe
        there is some confusing UI or bug, but they are not yet
        requested. jrobbins, do you know what might have gone awry?

        /Daniel

        On 2023-11-08 05:04, 'Eugene Zemtsov' via blink-dev wrote:
&lt;/pre&gt;&lt;blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"&gt;&lt;pre style="margin: 0em;"&gt;
        Done for Privacy, Security, Enterprise, Debuggability and
        Testing.


        On Mon, Nov 6, 2023 at 7:19 AM Mike Taylor
        &amp;lt;miketa...@chromium.org&amp;gt; wrote:

            Hi Eugene,

            Could you please request reviews for all the other review
            gates in your chromestatus entry?

            thanks,
            Mike

            On 11/1/23 6:32 PM, 'Eugene Zemtsov' via blink-dev wrote:
&lt;/pre&gt;&lt;blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"&gt;&lt;pre style="margin: 0em;"&gt;


                    Contact emails

            ezemt...@google.com


                    Specification

            &lt;a  rel="nofollow" href="https://www.w3.org/TR/webcodecs/#dom-videoencoderconfig-contenthint"&gt;https://www.w3.org/TR/webcodecs/#dom-videoencoderconfig-contenthint&lt;/a&gt;


                    Explainer

            &lt;a  rel="nofollow" href="https://gist.github.com/Djuffin/c3742404b7c53ada227849c8b2b76b4c"&gt;https://gist.github.com/Djuffin/c3742404b7c53ada227849c8b2b76b4c&lt;/a&gt;


                    Summary

            Adding a contentHint field to VideoEncoderConfig Content
            hint takes values that are already used for
            MediaStreamTrack: &amp;quot;motion&amp;quot;, &amp;quot;text&amp;quot;, &amp;quot;detail&amp;quot;. This gives
            web developers a way to communicate to VideoEncoder the
            expected type video frames they intend to encode.


                    Blink component

            Blink&amp;gt;Media&amp;gt;WebCodecs
            
&amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EWebCodecs"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EMedia%3EWebCodecs&lt;/a&gt;&amp;gt;


                    TAG review

            N/A



                    Interoperability and Compatibility



            /Gecko/: No signal
            (&lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/919"&gt;https://github.com/mozilla/standards-positions/issues/919&lt;/a&gt;)

            /WebKit/: Positive
            (&lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/274"&gt;https://github.com/WebKit/standards-positions/issues/274&lt;/a&gt;)

            /Web developers/: Positive RTC software vendors
            (including Google Meet) are interested in using it for
            screen sharing vs live cam scenarios.


                    Will this feature be supported on all six Blink
                    platforms (Windows, Mac, Linux, Chrome OS,
                    Android, and Android WebView)?

            Yes


                    Is this feature fully tested by
                    web-platform-tests
                    
&amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;?

            Yes

            
&lt;a  rel="nofollow" href="https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/web_tests/external/wpt/webcodecs/video-encoder-content-hint.https.any.js"&gt;https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/web_tests/external/wpt/webcodecs/video-encoder-content-hint.https.any.js&lt;/a&gt;



                    Finch feature name

            WebCodecsContentHint


                    Requires code in //chrome?

            False


                    Tracking bug

            &lt;a  rel="nofollow" href="https://crbug.com/1493588"&gt;https://crbug.com/1493588&lt;/a&gt;


                    Estimated milestones

            Shipping on desktop         121

            Shipping on Android         121


                    Link to entry on the Chrome Platform Status

            &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5103493249761280"&gt;https://chromestatus.com/feature/5103493249761280&lt;/a&gt;

            --
            Thanks,
            Eugene Zemtsov.
&lt;/pre&gt;&lt;tt&gt;            -- 
&lt;/tt&gt;&lt;tt&gt;            You received this message because you are subscribed to
&lt;/tt&gt;&lt;pre style="margin: 0em;"&gt;
            the Google Groups &amp;quot;blink-dev&amp;quot; group.
            To unsubscribe from this group and stop receiving emails
            from it, send an email to
            blink-dev+unsubscr...@chromium.org.
            To view this discussion on the web visit
            
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAK8JDrGKnc0Jc_doyR9ZsGVfcnk8aNfNS_t%2BTNQ-KLL%3DW%3DiZdA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAK8JDrGKnc0Jc_doyR9ZsGVfcnk8aNfNS_t%2BTNQ-KLL%3DW%3DiZdA%40mail.gmail.com&lt;/a&gt;
            
&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAK8JDrGKnc0Jc_doyR9ZsGVfcnk8aNfNS_t%2BTNQ-KLL%3DW%3DiZdA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAK8JDrGKnc0Jc_doyR9ZsGVfcnk8aNfNS_t%2BTNQ-KLL%3DW%3DiZdA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.
&lt;/pre&gt;&lt;/blockquote&gt;&lt;pre style="margin: 0em;"&gt;&lt;/pre&gt;&lt;tt&gt;        -- 
&lt;/tt&gt;&lt;tt&gt;        Thanks,
&lt;/tt&gt;&lt;pre style="margin: 0em;"&gt;
        Eugene Zemtsov.
&lt;/pre&gt;&lt;tt&gt;        -- 
&lt;/tt&gt;&lt;tt&gt;        You received this message because you are subscribed to the
&lt;/tt&gt;&lt;pre style="margin: 0em;"&gt;
        Google Groups &amp;quot;blink-dev&amp;quot; group.
        To unsubscribe from this group and stop receiving emails from
        it, send an email to blink-dev+unsubscr...@chromium.org.
        To view this discussion on the web visit
        
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAK8JDrHnO-en4d_%2BKcwRBCRWYeVEi8hzcnGUsSkb%3D3dNgh0%2Bdw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAK8JDrHnO-en4d_%2BKcwRBCRWYeVEi8hzcnGUsSkb%3D3dNgh0%2Bdw%40mail.gmail.com&lt;/a&gt;
        
&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAK8JDrHnO-en4d_%2BKcwRBCRWYeVEi8hzcnGUsSkb%3D3dNgh0%2Bdw%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAK8JDrHnO-en4d_%2BKcwRBCRWYeVEi8hzcnGUsSkb%3D3dNgh0%2Bdw%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.
&lt;/pre&gt;&lt;/blockquote&gt;&lt;tt&gt;        -- 
&lt;/tt&gt;&lt;tt&gt;        You received this message because you are subscribed to the
&lt;/tt&gt;&lt;pre style="margin: 0em;"&gt;
        Google Groups &amp;quot;blink-dev&amp;quot; group.
        To unsubscribe from this group and stop receiving emails from
        it, send an email to blink-dev+unsubscr...@chromium.org.
        To view this discussion on the web visit
        
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/6ffa1b86-4f0e-4e07-afb3-f3ad20cb2ebe%40gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/6ffa1b86-4f0e-4e07-afb3-f3ad20cb2ebe%40gmail.com&lt;/a&gt;
        
&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/6ffa1b86-4f0e-4e07-afb3-f3ad20cb2ebe%40gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/6ffa1b86-4f0e-4e07-afb3-f3ad20cb2ebe%40gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.

&lt;/pre&gt;&lt;tt&gt;    -- 
&lt;/tt&gt;&lt;tt&gt;    You received this message because you are subscribed to the Google
&lt;/tt&gt;&lt;pre style="margin: 0em;"&gt;
    Groups &amp;quot;blink-dev&amp;quot; group.
    To unsubscribe from this group and stop receiving emails from it,
    send an email to blink-dev+unsubscr...@chromium.org.
    To view this discussion on the web visit
    
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFUtAY9K9_YmJRFn%3DQBKb0GsETsSFex0DPprMRRpWUWgcvAtbA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFUtAY9K9_YmJRFn%3DQBKb0GsETsSFex0DPprMRRpWUWgcvAtbA%40mail.gmail.com&lt;/a&gt;
    
&amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFUtAY9K9_YmJRFn%3DQBKb0GsETsSFex0DPprMRRpWUWgcvAtbA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAFUtAY9K9_YmJRFn%3DQBKb0GsETsSFex0DPprMRRpWUWgcvAtbA%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;.

&lt;/pre&gt;&lt;/blockquote&gt;&lt;pre style="margin: 0em;"&gt;

--
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/8af73085-7146-4b9f-acdd-975d8b7e6133%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/8af73085-7146-4b9f-acdd-975d8b7e6133%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08505.html</id>
        <title>[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08505.html"/>
        <updated>2023-11-29T00:18:07.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08505.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Prototype%5C%3A+Extending+Storage+Access+API+%5C%28SAA%5C%29+to+non%5C-cookie+storage%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Jesper+van+den+Ende%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Jesper van den Ende&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 16:18:07 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Hi all,

I noticed the TODOs for shared workers were removed.
My application relies on cross origin shared workers and to be honest this 
was the main part of the proposal I was looking forward to haha.
I'm currently relying on the origin trial for disabling third party storage 
partitioning.
Are there any plans for the shared worker use case? I'm not sure what to do 
once the origin trial expires. And as far as I can tell there is no good 
alternative for what I'm trying to achieve.
Specifically, I'd like to be able to discover other tabs (that are also 
broadcasting their existence using the same shared worker) and then 
initiate a connection to them.
One alternative I could think of was using WebRTC for this, but ideally I'd 
like this to work while the user is offline, which is not possible with 
WebRTC.&lt;/pre&gt;&lt;pre&gt;

Is there any discussion about the plan to remove shared workers from the 
proposal? I couldn't find anything about SameSite=Strict cookies anywhere 
other than the commit that removed the TODOs.

Cheers,
Jesper
On Monday, October 2, 2023 at 3:44:05 PM UTC+2 Ari Chivukula wrote:

&amp;gt; Contact emails
&amp;gt;
&amp;gt; ari...@chromium.org, wande...@chromium.org, joha...@chromium.org, 
&amp;gt; hel...@google.com
&amp;gt;
&amp;gt; Specification
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://arichiv.github.io/saa-non-cookie-storage/"&gt;https://arichiv.github.io/saa-non-cookie-storage/&lt;/a&gt;
&amp;gt;
&amp;gt; Summary
&amp;gt;
&amp;gt; We propose an extension of the Storage Access API 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://webkit.org/blog/8124/introducing-storage-access-api/"&gt;https://webkit.org/blog/8124/introducing-storage-access-api/&lt;/a&gt;&amp;gt; (backwards 
&amp;gt; compatible) to allow access to unpartitioned (cookie and non-cookie) 
&amp;gt; storage in a third-party context, and imagine the API mechanics to be 
&amp;gt; roughly like this (JS running in an embedded iframe):
&amp;gt;
&amp;gt;
&amp;gt; // Request a new storage handle via rSA (this should prompt the user)
&amp;gt;
&amp;gt; let handle = await document.requestStorageAccess({all: true});
&amp;gt;
&amp;gt; // Write some cross-site localstorage
&amp;gt;
&amp;gt; handle.localStorage.setItem(&amp;quot;userid&amp;quot;, &amp;quot;1234&amp;quot;);
&amp;gt;
&amp;gt; // Open or create an indexedDB that is shared with the 1P context
&amp;gt;
&amp;gt; let messageDB = handle.defaultBucket.indexedDB.open(&amp;quot;messages&amp;quot;);
&amp;gt;
&amp;gt;
&amp;gt; The same flow would be used by iframes to get a storage handle when their 
&amp;gt; top-level ancestor successfully called rSAFor 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/requestStorageAccessFor"&gt;https://github.com/privacycg/requestStorageAccessFor&lt;/a&gt;&amp;gt;, just that in this 
&amp;gt; case the storage-access permission was already granted and thus the rSA 
&amp;gt; call would not require a user gesture or show a prompt, allowing for 
&amp;gt; “hidden” iframes accessing storage.
&amp;gt;
&amp;gt;
&amp;gt; Browsers currently shipping the Storage Access API apply varying methods 
&amp;gt; of when or how to ask the user for permission to grant 3p cookie access to 
&amp;gt; a site. Given that this proposal involves extending the existing Storage 
&amp;gt; Access API, while maintaining largely the same implications (from a 
&amp;gt; privacy/security perspective) to the user, a consistent prompt for cookie 
&amp;gt; and non-cookie access is preferred. No prompt is needed when the origins 
&amp;gt; are RWS (Related Website Sets, the new name for First Party Sets).
&amp;gt;
&amp;gt;
&amp;gt; Blink component
&amp;gt;
&amp;gt; Blink&amp;gt;Storage 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt;
&amp;gt; Motivation
&amp;gt;
&amp;gt; There has been increasing developer 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt; 
&amp;gt; and implementer &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/102"&gt;https://github.com/privacycg/storage-access/issues/102&lt;/a&gt;&amp;gt; 
&amp;gt; interest in first-party DOM Storage 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API&lt;/a&gt;&amp;gt; and Quota 
&amp;gt; Managed Storage 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API&lt;/a&gt;&amp;gt; being 
&amp;gt; available in third-party contexts the same way that Cookies already can be 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access"&gt;https://github.com/privacycg/storage-access&lt;/a&gt;&amp;gt;. In the absence of such a 
&amp;gt; solution, we would in effect be pushing developers to migrate to Cookies 
&amp;gt; from other storage mechanisms. There are significant tradeoffs between 
&amp;gt; Cookie and non-Cookie storage (size, flexibility, server exposure, network 
&amp;gt; request size, etc.) that could cause a detriment in user experience from a 
&amp;gt; privacy, security and performance perspective. To prevent sub-optimal use 
&amp;gt; of cookies and to preserve context, we propose a solution for developers to 
&amp;gt; regain 3p access to unpartitioned storage in select instances to avoid 
&amp;gt; user-facing breakage in browsers shipping storage partitioning.
&amp;gt;
&amp;gt; TAG review
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/906"&gt;https://github.com/w3ctag/design-reviews/issues/906&lt;/a&gt;
&amp;gt;
&amp;gt; Compatibility
&amp;gt;
&amp;gt; The Storage Access API is already implemented in Safari, Firefox, and 
&amp;gt; Chrome &amp;lt;&lt;a  rel="nofollow" href="https://caniuse.com/mdn-api_document_requeststorageaccess"&gt;https://caniuse.com/mdn-api_document_requeststorageaccess&lt;/a&gt;&amp;gt;, but 
&amp;gt; the proposed API shape would not change existing behavior without new 
&amp;gt; arguments added.
&amp;gt;
&amp;gt;
&amp;gt; Interoperability
&amp;gt;
&amp;gt; Gecko: &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/898"&gt;https://github.com/mozilla/standards-positions/issues/898&lt;/a&gt;
&amp;gt;
&amp;gt; WebKit: &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/262"&gt;https://github.com/WebKit/standards-positions/issues/262&lt;/a&gt;
&amp;gt;
&amp;gt; Web developers: Positive 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt; Debuggability
&amp;gt;
&amp;gt; Storage written can be examined in devtools.
&amp;gt;
&amp;gt; Is this feature fully tested by web-platform-tests?
&amp;gt;
&amp;gt; Tests will be added.
&amp;gt;
&amp;gt; Tracking bug
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://crbug.com/1484966"&gt;https://crbug.com/1484966&lt;/a&gt;
&amp;gt;
&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5175585823522816"&gt;https://chromestatus.com/feature/5175585823522816&lt;/a&gt;
&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/32fcac14-6a79-4907-90d4-af06def0e240n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/32fcac14-6a79-4907-90d4-af06def0e240n%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08504.html</id>
        <title>[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08504.html"/>
        <updated>2023-11-29T00:18:00.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08504.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Prototype%5C%3A+Extending+Storage+Access+API+%5C%28SAA%5C%29+to+non%5C-cookie+storage%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Jesper+van+den+Ende%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Jesper van den Ende&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 16:18:00 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Awesome, thanks for the info!

A broadcast channel doesn't work for my use case unfortunately.
I'd like to create a MessageChannel 
&amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel"&gt;https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel&lt;/a&gt;&amp;gt; and then 
transfer the two MessagePorts to both tabs.
Since a broadcast channel doesn't allow transferring objects 
&amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/7088#issuecomment-922529073"&gt;https://github.com/whatwg/html/issues/7088#issuecomment-922529073&lt;/a&gt;&amp;gt;, 
there's no way for me to send messages to both tabs without it also being 
sent to all other tabs.
And with no way to transfer things such as ArrayBuffers, I reckon this 
would also be pretty inefficient for some operations.
But maybe I'm missing something? One thing that comes to mind is using the 
MessageEvent.source to get access to the window of another tab and then 
send a message to it directly. But I'm not sure if that would work.&lt;/pre&gt;&lt;pre&gt;

On Tuesday, November 28, 2023 at 10:44:54 PM UTC+1 Ari Chivukula wrote:

&amp;gt; Thanks for letting us know about your use case. Yes, Chrome has decided 
&amp;gt; not to pursue Shared Worker access via the handle returned by 
&amp;gt; requestStorageAccess given it would allow access to SameSite=Strict cookies 
&amp;gt; to a third-party iframe via that shared worker. We are examining an 
&amp;gt; alternate option where requestStorageAccess will be available in workers: 
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/157"&gt;https://github.com/privacycg/storage-access/issues/157&lt;/a&gt;
&amp;gt;
&amp;gt; Either way, this change will probably require switching from using a 
&amp;gt; (shared) Shared Worker for tab discovery to something like Broadcast 
&amp;gt; Channel 
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API&lt;/a&gt;&amp;gt;which 
&amp;gt; would allow for cross-tab messaging without the need to be online.
&amp;gt;
&amp;gt; ~ Ari Chivukula (Their/There/They're)
&amp;gt;
&amp;gt;
&amp;gt; On Tue, Nov 28, 2023 at 4:35 PM Jesper van den Ende &amp;lt;jesper...@gmail.com&amp;gt; 
&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Hi all,
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; I noticed the TODOs for shared workers were removed.
&amp;gt;&amp;gt; My application relies on cross origin shared workers and to be honest 
&amp;gt;&amp;gt; this was the main part of the proposal I was looking forward to haha.
&amp;gt;&amp;gt; I'm currently relying on the origin trial for disabling third party 
&amp;gt;&amp;gt; storage partitioning.
&amp;gt;&amp;gt; Are there any plans for the shared worker use case? I'm not sure what to 
&amp;gt;&amp;gt; do once the origin trial expires. And as far as I can tell there is no good 
&amp;gt;&amp;gt; alternative for what I'm trying to achieve.
&amp;gt;&amp;gt; Specifically, I'd like to be able to discover other tabs (that are also 
&amp;gt;&amp;gt; broadcasting their existence using the same shared worker) and then 
&amp;gt;&amp;gt; initiate a connection to them.
&amp;gt;&amp;gt; One alternative I could think of was using WebRTC for this, but ideally 
&amp;gt;&amp;gt; I'd like this to work while the user is offline, which is not possible with 
&amp;gt;&amp;gt; WebRTC.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Is there any discussion about the plan to remove shared workers from the 
&amp;gt;&amp;gt; proposal? I couldn't find anything about SameSite=Strict cookies anywhere 
&amp;gt;&amp;gt; other than the commit that removed the TODOs.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Cheers,
&amp;gt;&amp;gt; Jesper
&amp;gt;&amp;gt;
&amp;gt; On Monday, October 2, 2023 at 3:44:05 PM UTC+2 Ari Chivukula wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; ari...@chromium.org, wande...@chromium.org, joha...@chromium.org, 
&amp;gt;&amp;gt;&amp;gt; hel...@google.com
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://arichiv.github.io/saa-non-cookie-storage/"&gt;https://arichiv.github.io/saa-non-cookie-storage/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; We propose an extension of the Storage Access API 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://webkit.org/blog/8124/introducing-storage-access-api/"&gt;https://webkit.org/blog/8124/introducing-storage-access-api/&lt;/a&gt;&amp;gt; 
&amp;gt;&amp;gt;&amp;gt; (backwards compatible) to allow access to unpartitioned (cookie and 
&amp;gt;&amp;gt;&amp;gt; non-cookie) storage in a third-party context, and imagine the API mechanics 
&amp;gt;&amp;gt;&amp;gt; to be roughly like this (JS running in an embedded iframe):
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; // Request a new storage handle via rSA (this should prompt the user)
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; let handle = await document.requestStorageAccess({all: true});
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; // Write some cross-site localstorage
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; handle.localStorage.setItem(&amp;quot;userid&amp;quot;, &amp;quot;1234&amp;quot;);
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; // Open or create an indexedDB that is shared with the 1P context
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; let messageDB = handle.defaultBucket.indexedDB.open(&amp;quot;messages&amp;quot;);
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; The same flow would be used by iframes to get a storage handle when 
&amp;gt;&amp;gt;&amp;gt; their top-level ancestor successfully called rSAFor 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/requestStorageAccessFor"&gt;https://github.com/privacycg/requestStorageAccessFor&lt;/a&gt;&amp;gt;, just that in 
&amp;gt;&amp;gt;&amp;gt; this case the storage-access permission was already granted and thus the 
&amp;gt;&amp;gt;&amp;gt; rSA call would not require a user gesture or show a prompt, allowing for 
&amp;gt;&amp;gt;&amp;gt; “hidden” iframes accessing storage.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Browsers currently shipping the Storage Access API apply varying methods 
&amp;gt;&amp;gt;&amp;gt; of when or how to ask the user for permission to grant 3p cookie access to 
&amp;gt;&amp;gt;&amp;gt; a site. Given that this proposal involves extending the existing Storage 
&amp;gt;&amp;gt;&amp;gt; Access API, while maintaining largely the same implications (from a 
&amp;gt;&amp;gt;&amp;gt; privacy/security perspective) to the user, a consistent prompt for cookie 
&amp;gt;&amp;gt;&amp;gt; and non-cookie access is preferred. No prompt is needed when the origins 
&amp;gt;&amp;gt;&amp;gt; are RWS (Related Website Sets, the new name for First Party Sets).
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Blink&amp;gt;Storage 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Motivation
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; There has been increasing developer 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt; and implementer &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/102"&gt;https://github.com/privacycg/storage-access/issues/102&lt;/a&gt;&amp;gt; 
&amp;gt;&amp;gt;&amp;gt; interest in first-party DOM Storage 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API&lt;/a&gt;&amp;gt; and 
&amp;gt;&amp;gt;&amp;gt; Quota 
&amp;gt;&amp;gt;&amp;gt; Managed Storage 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API&lt;/a&gt;&amp;gt; being 
&amp;gt;&amp;gt;&amp;gt; available in third-party contexts the same way that Cookies already can 
&amp;gt;&amp;gt;&amp;gt; be &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access"&gt;https://github.com/privacycg/storage-access&lt;/a&gt;&amp;gt;. In the absence of 
&amp;gt;&amp;gt;&amp;gt; such a solution, we would in effect be pushing developers to migrate to 
&amp;gt;&amp;gt;&amp;gt; Cookies from other storage mechanisms. There are significant tradeoffs 
&amp;gt;&amp;gt;&amp;gt; between Cookie and non-Cookie storage (size, flexibility, server exposure, 
&amp;gt;&amp;gt;&amp;gt; network request size, etc.) that could cause a detriment in user experience 
&amp;gt;&amp;gt;&amp;gt; from a privacy, security and performance perspective. To prevent 
&amp;gt;&amp;gt;&amp;gt; sub-optimal use of cookies and to preserve context, we propose a solution 
&amp;gt;&amp;gt;&amp;gt; for developers to regain 3p access to unpartitioned storage in select 
&amp;gt;&amp;gt;&amp;gt; instances to avoid user-facing breakage in browsers shipping storage 
&amp;gt;&amp;gt;&amp;gt; partitioning.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/906"&gt;https://github.com/w3ctag/design-reviews/issues/906&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Compatibility
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; The Storage Access API is already implemented in Safari, Firefox, and 
&amp;gt;&amp;gt;&amp;gt; Chrome &amp;lt;&lt;a  rel="nofollow" href="https://caniuse.com/mdn-api_document_requeststorageaccess"&gt;https://caniuse.com/mdn-api_document_requeststorageaccess&lt;/a&gt;&amp;gt;, but 
&amp;gt;&amp;gt;&amp;gt; the proposed API shape would not change existing behavior without new 
&amp;gt;&amp;gt;&amp;gt; arguments added.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Interoperability
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Gecko: &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/898"&gt;https://github.com/mozilla/standards-positions/issues/898&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; WebKit: &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/262"&gt;https://github.com/WebKit/standards-positions/issues/262&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Web developers: Positive 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Storage written can be examined in devtools.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Tests will be added.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://crbug.com/1484966"&gt;https://crbug.com/1484966&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5175585823522816"&gt;https://chromestatus.com/feature/5175585823522816&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/8c0a7937-5cc4-4aec-b4eb-a7f1a4783b93n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/8c0a7937-5cc4-4aec-b4eb-a7f1a4783b93n%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08503.html</id>
        <title>[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08503.html"/>
        <updated>2023-11-28T23:05:02.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08503.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Prototype%5C%3A+Extending+Storage+Access+API+%5C%28SAA%5C%29+to+non%5C-cookie+storage%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Ari+Chivukula%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Ari Chivukula&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 15:05:02 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Testing locally, event.source seems always to be null when using Broadcast
Channel. This seems to align with the spec which doesn't mention setting
source at all for the MessageEvent:
&lt;a  rel="nofollow" href="https://html.spec.whatwg.org/multipage/web-messaging.html#broadcasting-to-other-browsing-contexts"&gt;https://html.spec.whatwg.org/multipage/web-messaging.html#broadcasting-to-other-browsing-contexts&lt;/a&gt;
and the chrome code which doesn't set it:
&lt;a  rel="nofollow" href="https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/broadcastchannel/broadcast_channel.cc;drc=8e78783dc1f7007bad46d657c9f332614e240fd8;l=173"&gt;https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/broadcastchannel/broadcast_channel.cc;drc=8e78783dc1f7007bad46d657c9f332614e240fd8;l=173&lt;/a&gt;&lt;/pre&gt;&lt;pre&gt;

It looks like storing the ArrayBuffer as a Blob (
&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL_static"&gt;https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL_static&lt;/a&gt;)
and sharing the resulting URL via BroadcastChannel or other means may work,
but I'm unsure about the efficiency of such an approach.

~ Ari Chivukula (Their/There/They're)


On Tue, Nov 28, 2023 at 5:35 PM Jesper van den Ende &amp;lt;jesperthe...@gmail.com&amp;gt;
wrote:

&amp;gt; Awesome, thanks for the info!
&amp;gt;
&amp;gt; A broadcast channel doesn't work for my use case unfortunately.
&amp;gt; I'd like to create a MessageChannel
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel"&gt;https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel&lt;/a&gt;&amp;gt; and
&amp;gt; then transfer the two MessagePorts to both tabs.
&amp;gt; Since a broadcast channel doesn't allow transferring objects
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/7088#issuecomment-922529073"&gt;https://github.com/whatwg/html/issues/7088#issuecomment-922529073&lt;/a&gt;&amp;gt;,
&amp;gt; there's no way for me to send messages to both tabs without it also being
&amp;gt; sent to all other tabs.
&amp;gt; And with no way to transfer things such as ArrayBuffers, I reckon this
&amp;gt; would also be pretty inefficient for some operations.
&amp;gt; But maybe I'm missing something? One thing that comes to mind is using the
&amp;gt; MessageEvent.source to get access to the window of another tab and then
&amp;gt; send a message to it directly. But I'm not sure if that would work.
&amp;gt;
&amp;gt; On Tuesday, November 28, 2023 at 10:44:54 PM UTC+1 Ari Chivukula wrote:
&amp;gt;
&amp;gt;&amp;gt; Thanks for letting us know about your use case. Yes, Chrome has decided
&amp;gt;&amp;gt; not to pursue Shared Worker access via the handle returned by
&amp;gt;&amp;gt; requestStorageAccess given it would allow access to SameSite=Strict cookies
&amp;gt;&amp;gt; to a third-party iframe via that shared worker. We are examining an
&amp;gt;&amp;gt; alternate option where requestStorageAccess will be available in workers:
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/157"&gt;https://github.com/privacycg/storage-access/issues/157&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Either way, this change will probably require switching from using a
&amp;gt;&amp;gt; (shared) Shared Worker for tab discovery to something like Broadcast
&amp;gt;&amp;gt; Channel
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API&lt;/a&gt;&amp;gt;which
&amp;gt;&amp;gt; would allow for cross-tab messaging without the need to be online.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; ~ Ari Chivukula (Their/There/They're)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Tue, Nov 28, 2023 at 4:35 PM Jesper van den Ende &amp;lt;jesper...@gmail.com&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Hi all,
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; I noticed the TODOs for shared workers were removed.
&amp;gt;&amp;gt;&amp;gt; My application relies on cross origin shared workers and to be honest
&amp;gt;&amp;gt;&amp;gt; this was the main part of the proposal I was looking forward to haha.
&amp;gt;&amp;gt;&amp;gt; I'm currently relying on the origin trial for disabling third party
&amp;gt;&amp;gt;&amp;gt; storage partitioning.
&amp;gt;&amp;gt;&amp;gt; Are there any plans for the shared worker use case? I'm not sure what to
&amp;gt;&amp;gt;&amp;gt; do once the origin trial expires. And as far as I can tell there is no good
&amp;gt;&amp;gt;&amp;gt; alternative for what I'm trying to achieve.
&amp;gt;&amp;gt;&amp;gt; Specifically, I'd like to be able to discover other tabs (that are also
&amp;gt;&amp;gt;&amp;gt; broadcasting their existence using the same shared worker) and then
&amp;gt;&amp;gt;&amp;gt; initiate a connection to them.
&amp;gt;&amp;gt;&amp;gt; One alternative I could think of was using WebRTC for this, but ideally
&amp;gt;&amp;gt;&amp;gt; I'd like this to work while the user is offline, which is not possible with
&amp;gt;&amp;gt;&amp;gt; WebRTC.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Is there any discussion about the plan to remove shared workers from the
&amp;gt;&amp;gt;&amp;gt; proposal? I couldn't find anything about SameSite=Strict cookies anywhere
&amp;gt;&amp;gt;&amp;gt; other than the commit that removed the TODOs.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Cheers,
&amp;gt;&amp;gt;&amp;gt; Jesper
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Monday, October 2, 2023 at 3:44:05 PM UTC+2 Ari Chivukula wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; ari...@chromium.org, wande...@chromium.org, joha...@chromium.org,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; hel...@google.com
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://arichiv.github.io/saa-non-cookie-storage/"&gt;https://arichiv.github.io/saa-non-cookie-storage/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; We propose an extension of the Storage Access API
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://webkit.org/blog/8124/introducing-storage-access-api/"&gt;https://webkit.org/blog/8124/introducing-storage-access-api/&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; (backwards compatible) to allow access to unpartitioned (cookie and
&amp;gt;&amp;gt;&amp;gt;&amp;gt; non-cookie) storage in a third-party context, and imagine the API mechanics
&amp;gt;&amp;gt;&amp;gt;&amp;gt; to be roughly like this (JS running in an embedded iframe):
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Request a new storage handle via rSA (this should prompt the user)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; let handle = await document.requestStorageAccess({all: true});
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Write some cross-site localstorage
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; handle.localStorage.setItem(&amp;quot;userid&amp;quot;, &amp;quot;1234&amp;quot;);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; // Open or create an indexedDB that is shared with the 1P context
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; let messageDB = handle.defaultBucket.indexedDB.open(&amp;quot;messages&amp;quot;);
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; The same flow would be used by iframes to get a storage handle when
&amp;gt;&amp;gt;&amp;gt;&amp;gt; their top-level ancestor successfully called rSAFor
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/requestStorageAccessFor"&gt;https://github.com/privacycg/requestStorageAccessFor&lt;/a&gt;&amp;gt;, just that in
&amp;gt;&amp;gt;&amp;gt;&amp;gt; this case the storage-access permission was already granted and thus the
&amp;gt;&amp;gt;&amp;gt;&amp;gt; rSA call would not require a user gesture or show a prompt, allowing for
&amp;gt;&amp;gt;&amp;gt;&amp;gt; “hidden” iframes accessing storage.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Browsers currently shipping the Storage Access API apply varying
&amp;gt;&amp;gt;&amp;gt;&amp;gt; methods of when or how to ask the user for permission to grant 3p cookie
&amp;gt;&amp;gt;&amp;gt;&amp;gt; access to a site. Given that this proposal involves extending the existing
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Storage Access API, while maintaining largely the same implications (from a
&amp;gt;&amp;gt;&amp;gt;&amp;gt; privacy/security perspective) to the user, a consistent prompt for cookie
&amp;gt;&amp;gt;&amp;gt;&amp;gt; and non-cookie access is preferred. No prompt is needed when the origins
&amp;gt;&amp;gt;&amp;gt;&amp;gt; are RWS (Related Website Sets, the new name for First Party Sets).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink&amp;gt;Storage
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Motivation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; There has been increasing developer
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; and implementer
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/102"&gt;https://github.com/privacycg/storage-access/issues/102&lt;/a&gt;&amp;gt; interest in
&amp;gt;&amp;gt;&amp;gt;&amp;gt; first-party DOM Storage
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API&lt;/a&gt;&amp;gt; and 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Quota
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Managed Storage
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API&lt;/a&gt;&amp;gt; being
&amp;gt;&amp;gt;&amp;gt;&amp;gt; available in third-party contexts the same way that Cookies already
&amp;gt;&amp;gt;&amp;gt;&amp;gt; can be &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access"&gt;https://github.com/privacycg/storage-access&lt;/a&gt;&amp;gt;. In the absence
&amp;gt;&amp;gt;&amp;gt;&amp;gt; of such a solution, we would in effect be pushing developers to migrate to
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Cookies from other storage mechanisms. There are significant tradeoffs
&amp;gt;&amp;gt;&amp;gt;&amp;gt; between Cookie and non-Cookie storage (size, flexibility, server exposure,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; network request size, etc.) that could cause a detriment in user experience
&amp;gt;&amp;gt;&amp;gt;&amp;gt; from a privacy, security and performance perspective. To prevent
&amp;gt;&amp;gt;&amp;gt;&amp;gt; sub-optimal use of cookies and to preserve context, we propose a solution
&amp;gt;&amp;gt;&amp;gt;&amp;gt; for developers to regain 3p access to unpartitioned storage in select
&amp;gt;&amp;gt;&amp;gt;&amp;gt; instances to avoid user-facing breakage in browsers shipping storage
&amp;gt;&amp;gt;&amp;gt;&amp;gt; partitioning.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/906"&gt;https://github.com/w3ctag/design-reviews/issues/906&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Compatibility
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; The Storage Access API is already implemented in Safari, Firefox, and
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Chrome &amp;lt;&lt;a  rel="nofollow" href="https://caniuse.com/mdn-api_document_requeststorageaccess"&gt;https://caniuse.com/mdn-api_document_requeststorageaccess&lt;/a&gt;&amp;gt;,
&amp;gt;&amp;gt;&amp;gt;&amp;gt; but the proposed API shape would not change existing behavior without new
&amp;gt;&amp;gt;&amp;gt;&amp;gt; arguments added.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Gecko: &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/898"&gt;https://github.com/mozilla/standards-positions/issues/898&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebKit: &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/262"&gt;https://github.com/WebKit/standards-positions/issues/262&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Web developers: Positive
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Storage written can be examined in devtools.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tests will be added.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://crbug.com/1484966"&gt;https://crbug.com/1484966&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5175585823522816"&gt;https://chromestatus.com/feature/5175585823522816&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGpy5DLOowybXAEK_PHrMs-1M_nmC9b_k9eu3e4-nG2rKOEemg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGpy5DLOowybXAEK_PHrMs-1M_nmC9b_k9eu3e4-nG2rKOEemg%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08502.html</id>
        <title>[blink-dev] Re: pylint 2.17 available in depot_tools</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08502.html"/>
        <updated>2023-11-28T21:58:38.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08502.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+pylint+2.17+available+in+depot_tools%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: pylint 2.17 available in depot_tools&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22%27Josip+Sokcevic%27+via+infra%5C-announce%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;'Josip Sokcevic' via infra-announce&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 13:58:38 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Hi all,

We identified pylint 2.13 incompatibilities with py3.11 (
&lt;a  rel="nofollow" href="https://crbug.com/1504663"&gt;https://crbug.com/1504663&lt;/a&gt; has more details). So, pylint 2.13 was removed
and pylint 2.17 was added.&lt;/pre&gt;&lt;pre&gt;

To use pylint 2.17 in presubmit, pass version='2.17' to
input_api.canned_checks.RunPylint or input_api.canned_checks.GetPylint.

Apologies for any inconvenience this may have caused.

Best,

On Mon, Nov 20, 2023 at 4:24 PM Josip Sokcevic &amp;lt;sokce...@google.com&amp;gt; wrote:

&amp;gt; Hi all,
&amp;gt;
&amp;gt; *TL;DR* pylint 2.13 is available for use in PRESUBMITs and is required
&amp;gt; only if you use py3.11 features. Using pylint 2.13 is optional.
&amp;gt;
&amp;gt; depot_tools now provides pylint 2.13 &amp;lt;&lt;a  rel="nofollow" href="https://crrev.com/c/5030756"&gt;https://crrev.com/c/5030756&lt;/a&gt;&amp;gt; which
&amp;gt; runs on Python 3.11. This is the only supported version of pylint
&amp;gt; for python 3.9+ language features. depot_tools pylint 2.7 supports python
&amp;gt; &amp;lt;=3.8.
&amp;gt;
&amp;gt; To use pylint 2.13 in presubmit, pass version='2.13'
&amp;gt; to input_api.canned_checks.RunPylint or input_api.canned_checks.GetPylint.
&amp;gt;
&amp;gt; Best,
&amp;gt;
&amp;gt; --
&amp;gt; Josip Sokcevic
&amp;gt;


-- 
Josip Sokcevic

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;infra-announce&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to infra-announce+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/infra-announce/CAJiyOiiUwMQoWPVEDk16MCzFcYX3U0HuB%3Do_DwJLGB-PyK2Lhg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/infra-announce/CAJiyOiiUwMQoWPVEDk16MCzFcYX3U0HuB%3Do_DwJLGB-PyK2Lhg%40mail.gmail.com&lt;/a&gt;.

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAJiyOiiUwMQoWPVEDk16MCzFcYX3U0HuB%3Do_DwJLGB-PyK2Lhg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAJiyOiiUwMQoWPVEDk16MCzFcYX3U0HuB%3Do_DwJLGB-PyK2Lhg%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08501.html</id>
        <title>[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08501.html"/>
        <updated>2023-11-28T21:44:52.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08501.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Prototype%5C%3A+Extending+Storage+Access+API+%5C%28SAA%5C%29+to+non%5C-cookie+storage%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Prototype: Extending Storage Access API (SAA) to non-cookie storage&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Ari+Chivukula%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Ari Chivukula&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 13:44:52 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Thanks for letting us know about your use case. Yes, Chrome has decided not
to pursue Shared Worker access via the handle returned by
requestStorageAccess given it would allow access to SameSite=Strict cookies
to a third-party iframe via that shared worker. We are examining an
alternate option where requestStorageAccess will be available in workers:
&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/157"&gt;https://github.com/privacycg/storage-access/issues/157&lt;/a&gt;&lt;/pre&gt;&lt;pre&gt;

Either way, this change will probably require switching from using a
(shared) Shared Worker for tab discovery to something like Broadcast
Channel
&amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API&lt;/a&gt;&amp;gt;which
would allow for cross-tab messaging without the need to be online.

~ Ari Chivukula (Their/There/They're)


On Tue, Nov 28, 2023 at 4:35 PM Jesper van den Ende &amp;lt;jesperthe...@gmail.com&amp;gt;
wrote:

&amp;gt; Hi all,
&amp;gt;
&amp;gt; I noticed the TODOs for shared workers were removed.
&amp;gt; My application relies on cross origin shared workers and to be honest this
&amp;gt; was the main part of the proposal I was looking forward to haha.
&amp;gt; I'm currently relying on the origin trial for disabling third party
&amp;gt; storage partitioning.
&amp;gt; Are there any plans for the shared worker use case? I'm not sure what to
&amp;gt; do once the origin trial expires. And as far as I can tell there is no good
&amp;gt; alternative for what I'm trying to achieve.
&amp;gt; Specifically, I'd like to be able to discover other tabs (that are also
&amp;gt; broadcasting their existence using the same shared worker) and then
&amp;gt; initiate a connection to them.
&amp;gt; One alternative I could think of was using WebRTC for this, but ideally
&amp;gt; I'd like this to work while the user is offline, which is not possible with
&amp;gt; WebRTC.
&amp;gt;
&amp;gt; Is there any discussion about the plan to remove shared workers from the
&amp;gt; proposal? I couldn't find anything about SameSite=Strict cookies anywhere
&amp;gt; other than the commit that removed the TODOs.
&amp;gt;
&amp;gt; Cheers,
&amp;gt; Jesper
&amp;gt; On Monday, October 2, 2023 at 3:44:05 PM UTC+2 Ari Chivukula wrote:
&amp;gt;
&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; ari...@chromium.org, wande...@chromium.org, joha...@chromium.org,
&amp;gt;&amp;gt; hel...@google.com
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://arichiv.github.io/saa-non-cookie-storage/"&gt;https://arichiv.github.io/saa-non-cookie-storage/&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; We propose an extension of the Storage Access API
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://webkit.org/blog/8124/introducing-storage-access-api/"&gt;https://webkit.org/blog/8124/introducing-storage-access-api/&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; (backwards compatible) to allow access to unpartitioned (cookie and
&amp;gt;&amp;gt; non-cookie) storage in a third-party context, and imagine the API mechanics
&amp;gt;&amp;gt; to be roughly like this (JS running in an embedded iframe):
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; // Request a new storage handle via rSA (this should prompt the user)
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; let handle = await document.requestStorageAccess({all: true});
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; // Write some cross-site localstorage
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; handle.localStorage.setItem(&amp;quot;userid&amp;quot;, &amp;quot;1234&amp;quot;);
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; // Open or create an indexedDB that is shared with the 1P context
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; let messageDB = handle.defaultBucket.indexedDB.open(&amp;quot;messages&amp;quot;);
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; The same flow would be used by iframes to get a storage handle when their
&amp;gt;&amp;gt; top-level ancestor successfully called rSAFor
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/requestStorageAccessFor"&gt;https://github.com/privacycg/requestStorageAccessFor&lt;/a&gt;&amp;gt;, just that in
&amp;gt;&amp;gt; this case the storage-access permission was already granted and thus the
&amp;gt;&amp;gt; rSA call would not require a user gesture or show a prompt, allowing for
&amp;gt;&amp;gt; “hidden” iframes accessing storage.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Browsers currently shipping the Storage Access API apply varying methods
&amp;gt;&amp;gt; of when or how to ask the user for permission to grant 3p cookie access to
&amp;gt;&amp;gt; a site. Given that this proposal involves extending the existing Storage
&amp;gt;&amp;gt; Access API, while maintaining largely the same implications (from a
&amp;gt;&amp;gt; privacy/security perspective) to the user, a consistent prompt for cookie
&amp;gt;&amp;gt; and non-cookie access is preferred. No prompt is needed when the origins
&amp;gt;&amp;gt; are RWS (Related Website Sets, the new name for First Party Sets).
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Blink&amp;gt;Storage
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Motivation
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; There has been increasing developer
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; and implementer &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access/issues/102"&gt;https://github.com/privacycg/storage-access/issues/102&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; interest in first-party DOM Storage
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API&lt;/a&gt;&amp;gt; and Quota
&amp;gt;&amp;gt; Managed Storage
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API"&gt;https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API&lt;/a&gt;&amp;gt; being
&amp;gt;&amp;gt; available in third-party contexts the same way that Cookies already can
&amp;gt;&amp;gt; be &amp;lt;&lt;a  rel="nofollow" href="https://github.com/privacycg/storage-access"&gt;https://github.com/privacycg/storage-access&lt;/a&gt;&amp;gt;. In the absence of such
&amp;gt;&amp;gt; a solution, we would in effect be pushing developers to migrate to Cookies
&amp;gt;&amp;gt; from other storage mechanisms. There are significant tradeoffs between
&amp;gt;&amp;gt; Cookie and non-Cookie storage (size, flexibility, server exposure, network
&amp;gt;&amp;gt; request size, etc.) that could cause a detriment in user experience from a
&amp;gt;&amp;gt; privacy, security and performance perspective. To prevent sub-optimal use
&amp;gt;&amp;gt; of cookies and to preserve context, we propose a solution for developers to
&amp;gt;&amp;gt; regain 3p access to unpartitioned storage in select instances to avoid
&amp;gt;&amp;gt; user-facing breakage in browsers shipping storage partitioning.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/906"&gt;https://github.com/w3ctag/design-reviews/issues/906&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Compatibility
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; The Storage Access API is already implemented in Safari, Firefox, and
&amp;gt;&amp;gt; Chrome &amp;lt;&lt;a  rel="nofollow" href="https://caniuse.com/mdn-api_document_requeststorageaccess"&gt;https://caniuse.com/mdn-api_document_requeststorageaccess&lt;/a&gt;&amp;gt;, but
&amp;gt;&amp;gt; the proposed API shape would not change existing behavior without new
&amp;gt;&amp;gt; arguments added.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Interoperability
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Gecko: &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/898"&gt;https://github.com/mozilla/standards-positions/issues/898&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; WebKit: &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/262"&gt;https://github.com/WebKit/standards-positions/issues/262&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Web developers: Positive
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124"&gt;https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/issues/124&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Storage written can be examined in devtools.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests?
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Tests will be added.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://crbug.com/1484966"&gt;https://crbug.com/1484966&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5175585823522816"&gt;https://chromestatus.com/feature/5175585823522816&lt;/a&gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGpy5DJXkYGFDUOv6F_KBCGzwE3HzCwprcsWUspkgAca%2B36KOQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAGpy5DJXkYGFDUOv6F_KBCGzwE3HzCwprcsWUspkgAca%2B36KOQ%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08500.html</id>
        <title>Re: [blink-dev] Intent to Prototype and Ship: MessagePort.onclose</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08500.html"/>
        <updated>2023-11-28T20:34:11.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08500.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Prototype+and+Ship%5C%3A+MessagePort.onclose%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Prototype and Ship: MessagePort.onclose&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Torne+%5C%28Richard+Coles%5C%29%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Torne (Richard Coles)&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 12:34:11 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Android WebView exposes the ability to create and use MessagePorts to the
host app through a Java API, and currently one of the limitations of this
API is the lack of a signal about the channel being closed, which in some
cases can lead to apps holding on to Java objects longer than intended.&lt;/pre&gt;&lt;pre&gt;

So, I'm very happy to see this proposed for the web API side, as this
should hopefully also enable us to support the same thing in WebView's Java
API. +Peter Birk Pakkenberg &amp;lt;pb...@google.com&amp;gt; has been tackling some
issues here recently.

On Tue, 28 Nov 2023 at 12:31, Nonoka Muraki &amp;lt;murakinon...@chromium.org&amp;gt;
wrote:

&amp;gt; Contact emails
&amp;gt;
&amp;gt; murakinon...@chromium.org, m...@chromium.org, rak...@chromium.org
&amp;gt;
&amp;gt; Explainer
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/fergald/explainer-messageport-close"&gt;https://github.com/fergald/explainer-messageport-close&lt;/a&gt;
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/fergald/explainer-messageport-close#exposing-that-cross-origin-navigation-has-occurred"&gt;https://github.com/fergald/explainer-messageport-close#exposing-that-cross-origin-navigation-has-occurred&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt; Specification
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/html/pull/9933"&gt;https://github.com/whatwg/html/pull/9933&lt;/a&gt;
&amp;gt;
&amp;gt; Design docs
&amp;gt;
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1lXZU2Pk2ycitqj8aL9kxT2aauwXqpA0vJDUalkXA29Y"&gt;https://docs.google.com/document/d/1lXZU2Pk2ycitqj8aL9kxT2aauwXqpA0vJDUalkXA29Y&lt;/a&gt;
&amp;gt;
&amp;gt; Summary
&amp;gt;
&amp;gt; Notifies one of the MessagePorts that the other port has been disentangled
&amp;gt; (i.e., close() is called, an owning document is destroyed, or the port is
&amp;gt; garbage collected).
&amp;gt;
&amp;gt; Blink component
&amp;gt;
&amp;gt; Blink &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt; Motivation
&amp;gt;
&amp;gt; Channel Messaging API enables two separate scripts running in different
&amp;gt; browsing contexts to communicate directly. Once MessageChannel is created,
&amp;gt; we can access two entangled  MessagePorts (MessageChannel.port1 and
&amp;gt; MessageChannel.port2), transfer port2 to the other browsing context,
&amp;gt; allowing these two scripts to post and receive messages.
&amp;gt;
&amp;gt; The problem with this API is that there is currently no timely and
&amp;gt; reliable way to detect when a MessagePort becomes disentangled. This makes
&amp;gt; it difficult to release resources associated with ports. Some users have
&amp;gt; used the unload event to detect disconnection, but it is unreliable
&amp;gt; especially on mobile. Therefore, the approach available now is to hold a
&amp;gt; MessagePort in WeakRef and periodically check if this port has been garbage
&amp;gt; collected by using deref() or to make use of the pagehide event. However,
&amp;gt; this event is also not an effective solution. The reasons are as follows:
&amp;gt;
&amp;gt; 1) It doesn't work when the document crashes.
&amp;gt;
&amp;gt; 2) The port must cooperate in signaling the port is going to be
&amp;gt; disentangled.(i.e., the port must post the message which is &amp;quot;it is going to
&amp;gt; be closed&amp;quot; to the entangled port.)
&amp;gt;
&amp;gt; 3) It fires even if the page is not being destroyed and just enters
&amp;gt; BFCache.
&amp;gt;
&amp;gt; Adding a close event helps to detect timely and reliably that MessagePort
&amp;gt; is disentangled and make it easier to release resources associated with
&amp;gt; ports.
&amp;gt;
&amp;gt; Initial public proposal
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766#issuecomment-1708027883"&gt;https://github.com/whatwg/html/issues/1766#issuecomment-1708027883&lt;/a&gt;
&amp;gt;
&amp;gt; Search tags
&amp;gt;
&amp;gt; close &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:close"&gt;https://chromestatus.com/features#tags:close&lt;/a&gt;&amp;gt;, onclose
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:onclose"&gt;https://chromestatus.com/features#tags:onclose&lt;/a&gt;&amp;gt;
&amp;gt;
&amp;gt; TAG review
&amp;gt;
&amp;gt; Not needed because This is a small feature where we just dispatch a new
&amp;gt; event.
&amp;gt;
&amp;gt; Risks
&amp;gt;
&amp;gt; Interoperability and Compatibility
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt;
&amp;gt; Gecko:  Positive (
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/914"&gt;https://github.com/mozilla/standards-positions/issues/914&lt;/a&gt;)
&amp;gt;
&amp;gt; Mozilla people are already involved in the initial Github issue
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;&amp;gt;.
&amp;gt;
&amp;gt; WebKit: No response (
&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/271"&gt;https://github.com/WebKit/standards-positions/issues/271&lt;/a&gt;)
&amp;gt;
&amp;gt; WebKit people are already involved in the initial Github issue
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;&amp;gt;.
&amp;gt;
&amp;gt; Web developers: Positive (&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;)
&amp;gt;
&amp;gt; Other signals:
&amp;gt;
&amp;gt; WebView application risks
&amp;gt;
&amp;gt; Does this intent deprecate or change behavior of existing APIs, such that
&amp;gt; it has potentially high risk for Android WebView-based applications?
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt;
&amp;gt; Debuggability
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt;
&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt; ?
&amp;gt;
&amp;gt; Yes.
&amp;gt;
&amp;gt;  &lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5003089"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5003089&lt;/a&gt;
&amp;gt;
&amp;gt; Flag name on chrome://flags
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt; Finch feature name
&amp;gt;
&amp;gt; None
&amp;gt;
&amp;gt; Non-finch justification
&amp;gt;
&amp;gt; This is a small feature (just dispatching a new event) that doesn’t need
&amp;gt; experimentation.
&amp;gt;
&amp;gt; Requires code in //chrome?
&amp;gt;
&amp;gt; False
&amp;gt;
&amp;gt; Tracking bug
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1495616"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1495616&lt;/a&gt;
&amp;gt;
&amp;gt; Estimated milestones
&amp;gt;
&amp;gt; No milestones specified
&amp;gt;
&amp;gt;
&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;
&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5086799659794432"&gt;https://chromestatus.com/feature/5086799659794432&lt;/a&gt;
&amp;gt;
&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;
&amp;gt; --
&amp;gt; You received this message because you are subscribed to the Google Groups
&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an
&amp;gt; email to blink-dev+unsubscr...@chromium.org.
&amp;gt; To view this discussion on the web visit
&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com&lt;/a&gt;
&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt; .
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAEV-rjcZL5YnizhWf0xA%3DBaSt4EmY32p1tjhYG%3DfEOP1B-Kk%2BQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAEV-rjcZL5YnizhWf0xA%3DBaSt4EmY32p1tjhYG%3DfEOP1B-Kk%2BQ%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08499.html</id>
        <title>[blink-dev] Re: Intent to Ship: Storage Buckets API</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08499.html"/>
        <updated>2023-11-28T19:36:24.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08499.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Re%5C%3A+Intent+to+Ship%5C%3A+Storage+Buckets+API%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Re: Intent to Ship: Storage Buckets API&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Evan+Stade%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Evan Stade&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 11:36:24 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;It depends on the use case. Sometimes developers may be OK with missing
functionality. For example, if some data such as downloaded media should be
persisted whereas other data such as logs should be evictable, then not
having buckets available probably just means that the site does not play as
nicely during storage pressure related eviction rounds, which is a
reasonable fallback. In other use cases put forth in the explainer, such as
when a bucket holds all the data for a single user and is deleted on
logout, a site might be able to reasonably degrade by only offering &amp;quot;sign
out all accounts&amp;quot; for browsers that don't yet have buckets.&lt;/pre&gt;&lt;pre&gt;

In cases where buckets functionality is mission critical, such as holding
data that must not be accessible after a certain expiration date, a site
may would need to do more work to support situations where Buckets aren't
available. In these cases we would advise at least designing a schema that
makes the eventual transition to buckets easier, e.g. by keeping all logs
data that might eventually move to a logs bucket co-located in a single
Bucket File System (aka OPFS) directory.

On Mon, Nov 27, 2023 at 10:16 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt; wrote:

&amp;gt; Thanks!
&amp;gt;
&amp;gt; As you mention that this feature won't be polyfillable, what would we
&amp;gt; advise web developers of new apps up until the point where the feature is
&amp;gt; ubiquitous? Would they have different quota systems on different browsers?
&amp;gt;
&amp;gt; On Tue, Nov 28, 2023 at 2:52 AM Evan Stade &amp;lt;est...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; Hi Yoav,
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; The reasoning about adoption also applies to the feature after launch,
&amp;gt;&amp;gt; although less so than the OT. The farther the feature progresses (from OT,
&amp;gt;&amp;gt; to launch, to support in other browsers), the less risk a site is taking in
&amp;gt;&amp;gt; adopting. In the meantime, since a good polyfill is not really possible,
&amp;gt;&amp;gt; the intermediate phase is painful/costly.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; For *existing* apps, taking full advantage of the API requires schema
&amp;gt;&amp;gt; redesign/migration, which we anticipate to be pretty involved for the kind
&amp;gt;&amp;gt; of sophisticated apps this API appeals to. Less sophisticated apps that
&amp;gt;&amp;gt; don't need to manage lots of data will not use the API at all as they don't
&amp;gt;&amp;gt; worry about minimizing the impact of storage eviction (which is, for now,
&amp;gt;&amp;gt; its primary appeal). New apps that are written at a time when Buckets are
&amp;gt;&amp;gt; broadly available will not face these hurdles.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; We hope that both sides of the risk/reward equation improve: adoption
&amp;gt;&amp;gt; risks come down as other vendors implement, and we're able to keep adding
&amp;gt;&amp;gt; useful functionality that justifies the investment to migrate.
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; -- Evan Stade
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Tue, Nov 21, 2023 at 9:56 PM Yoav Weiss &amp;lt;yoavwe...@chromium.org&amp;gt;
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Tuesday, November 14, 2023 at 9:38:55 PM UTC+1 Evan Stade wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Contact emails
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; est...@chromium.org, a...@chromium.org, ajayrahate...@chromium.org
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Explainer
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/WICG/storage-buckets/blob/main/explainer.md"&gt;https://github.com/WICG/storage-buckets/blob/main/explainer.md&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Specification
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wicg.github.io/storage-buckets"&gt;https://wicg.github.io/storage-buckets&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Summary
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Storage Buckets gives sites the ability to organize on-device data into
&amp;gt;&amp;gt;&amp;gt; separate &amp;quot;buckets&amp;quot;, allowing user agents to evict the grouped data
&amp;gt;&amp;gt;&amp;gt; independently of that which is in other buckets, and enabling sites to
&amp;gt;&amp;gt;&amp;gt; ergonomically manage semantically related data. Each storage bucket can
&amp;gt;&amp;gt;&amp;gt; contain data associated with established storage APIs such as IndexedDB and
&amp;gt;&amp;gt;&amp;gt; CacheStorage.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Blink component
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Blink&amp;gt;Storage&amp;gt;Buckets
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage%3EBuckets"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EStorage%3EBuckets&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; TAG review
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/562"&gt;https://github.com/w3ctag/design-reviews/issues/562&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; TAG review status
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Issues addressed
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Chromium Trial Name
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; StorageBuckets
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Link to origin trial feedback summary
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1C8LiQfjYj9wIt94Q4PeCVwiA57-"&gt;https://docs.google.com/document/d/1C8LiQfjYj9wIt94Q4PeCVwiA57-&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; uf37jSLLoBHYhUCM
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Can you expand on the OT results? Are the &amp;quot;slow to adoption&amp;quot; comments
&amp;gt;&amp;gt;&amp;gt; relevant only to the OT itself or to the feature at large?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Origin Trial documentation link
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://developer.chrome.com/blog/storage-buckets/"&gt;https://developer.chrome.com/blog/storage-buckets/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Risks
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; If no other browsers end up implementing this API, websites will only be
&amp;gt;&amp;gt;&amp;gt; able to use the default bucket that is supported today.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Gecko: Positive (&lt;a  rel="nofollow" href="https://mozilla.github.io/standards-positions/#storage-"&gt;https://mozilla.github.io/standards-positions/#storage-&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; buckets)
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; WebKit: No signal (&lt;a  rel="nofollow" href="https://github.com/WebKit/"&gt;https://github.com/WebKit/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; standards-positions/issues/181)
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Web developers: Positive
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Other signals:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; WebView application risks
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such
&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Doesn't change existing APIs.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Debuggability
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Devtools
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows, Mac,
&amp;gt;&amp;gt;&amp;gt; Linux, Chrome OS, Android, and Android WebView)?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; No
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; ?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; No
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flags
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; storage-buckets
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Finch feature name
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; StorageBuckets
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; False
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Tracking bug
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1099413"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1099413&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Launch bug
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://launch.corp.google.com/launch/4227670"&gt;https://launch.corp.google.com/launch/4227670&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Measurement
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/metrics/feature/timeline/popularity/4378"&gt;https://chromestatus.com/metrics/feature/timeline/popularity/4378&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Availability expectation
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Feature is expected to be available on Firefox, but timeline unknown.
&amp;gt;&amp;gt;&amp;gt; Implementation in Safari would likely first require widespread use.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Adoption expectation
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Expected to be applied **in new projects** soon after launch. Full
&amp;gt;&amp;gt;&amp;gt; utilization of the API would require data migration, which is not easy and
&amp;gt;&amp;gt;&amp;gt; may slow adoption in existing projects. Abstractions may be among the first
&amp;gt;&amp;gt;&amp;gt; adopters as the API is, itself, an abstraction layer that simplifies
&amp;gt;&amp;gt;&amp;gt; functionality such as namespacing and managing chunks of data.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Adoption plan
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; We intend to use the Buckets API to expose additional storage-related
&amp;gt;&amp;gt;&amp;gt; functionality to the web, for example, session-scoped data, performance
&amp;gt;&amp;gt;&amp;gt; controls, etc. This new functionality will help drive adoption.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Non-OSS dependencies
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Does the feature depend on any code or APIs outside the Chromium open
&amp;gt;&amp;gt;&amp;gt; source repository and its open-source dependencies to function?
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; No
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Estimated milestones
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Shipping on desktop
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 121
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; OriginTrial desktop last
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 118
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; OriginTrial desktop first
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 115
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 110
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Shipping on Android
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 121
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; OriginTrial Android last
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 118
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; OriginTrial Android first
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 115
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; DevTrial on Android
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 110
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Shipping on WebView
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 121
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; OriginTrial webView last
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 118
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; OriginTrial webView first
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 115
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat or
&amp;gt;&amp;gt;&amp;gt; interop issues. Please list open issues (e.g. links to known github issues
&amp;gt;&amp;gt;&amp;gt; in the project for the feature specification) whose resolution may
&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure of
&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Open issues/questions are add-only enhancements.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5739224579964928"&gt;https://chromestatus.com/feature/5739224579964928&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussions
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Intent to prototype: &lt;a  rel="nofollow" href="https://groups.google.com/u/2/"&gt;https://groups.google.com/u/2/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; a/chromium.org/g/blink-dev/c/LZsMi8heTu0/m/bh0my7vpBwAJ Intent to
&amp;gt;&amp;gt;&amp;gt; Experiment: &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/g/blink-dev/c/"&gt;https://groups.google.com/a/chromium.org/g/blink-dev/c/&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt; LGfcc48qBHY/m/cXjQrqRIAAAJ?utm_medium=email&amp;utm_source=footer
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAO4XGS9iQ%2BuLRLTPszOJRjhQ54Vw45DFR84z7bNumutmZn2%2BQw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAO4XGS9iQ%2BuLRLTPszOJRjhQ54Vw45DFR84z7bNumutmZn2%2BQw%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08498.html</id>
        <title>[blink-dev] Intent to Prototype and Ship: MessagePort.onclose</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08498.html"/>
        <updated>2023-11-28T17:31:25.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08498.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22%5C%5Bblink%5C-dev%5C%5D+Intent+to+Prototype+and+Ship%5C%3A+MessagePort.onclose%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;[blink-dev] Intent to Prototype and Ship: MessagePort.onclose&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22Nonoka+Muraki%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;Nonoka Muraki&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 09:31:25 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Contact emails

murakinon...@chromium.org, m...@chromium.org, rak...@chromium.org&lt;/pre&gt;&lt;pre&gt;

Explainer

&lt;a  rel="nofollow" href="https://github.com/fergald/explainer-messageport-close"&gt;https://github.com/fergald/explainer-messageport-close&lt;/a&gt;
&amp;lt;&lt;a  rel="nofollow" href="https://github.com/fergald/explainer-messageport-close#exposing-that-cross-origin-navigation-has-occurred"&gt;https://github.com/fergald/explainer-messageport-close#exposing-that-cross-origin-navigation-has-occurred&lt;/a&gt;&amp;gt;

Specification

&lt;a  rel="nofollow" href="https://github.com/whatwg/html/pull/9933"&gt;https://github.com/whatwg/html/pull/9933&lt;/a&gt;

Design docs

&lt;a  rel="nofollow" href="https://docs.google.com/document/d/1lXZU2Pk2ycitqj8aL9kxT2aauwXqpA0vJDUalkXA29Y"&gt;https://docs.google.com/document/d/1lXZU2Pk2ycitqj8aL9kxT2aauwXqpA0vJDUalkXA29Y&lt;/a&gt;

Summary

Notifies one of the MessagePorts that the other port has been disentangled
(i.e., close() is called, an owning document is destroyed, or the port is
garbage collected).

Blink component

Blink &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink&lt;/a&gt;&amp;gt;

Motivation

Channel Messaging API enables two separate scripts running in different
browsing contexts to communicate directly. Once MessageChannel is created,
we can access two entangled  MessagePorts (MessageChannel.port1 and
MessageChannel.port2), transfer port2 to the other browsing context,
allowing these two scripts to post and receive messages.

The problem with this API is that there is currently no timely and reliable
way to detect when a MessagePort becomes disentangled. This makes it
difficult to release resources associated with ports. Some users have used
the unload event to detect disconnection, but it is unreliable especially
on mobile. Therefore, the approach available now is to hold a MessagePort
in WeakRef and periodically check if this port has been garbage collected
by using deref() or to make use of the pagehide event. However, this event
is also not an effective solution. The reasons are as follows:

1) It doesn't work when the document crashes.

2) The port must cooperate in signaling the port is going to be
disentangled.(i.e., the port must post the message which is &amp;quot;it is going to
be closed&amp;quot; to the entangled port.)

3) It fires even if the page is not being destroyed and just enters BFCache.

Adding a close event helps to detect timely and reliably that MessagePort
is disentangled and make it easier to release resources associated with
ports.

Initial public proposal

&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766#issuecomment-1708027883"&gt;https://github.com/whatwg/html/issues/1766#issuecomment-1708027883&lt;/a&gt;

Search tags

close &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:close"&gt;https://chromestatus.com/features#tags:close&lt;/a&gt;&amp;gt;, onclose
&amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:onclose"&gt;https://chromestatus.com/features#tags:onclose&lt;/a&gt;&amp;gt;

TAG review

Not needed because This is a small feature where we just dispatch a new
event.

Risks

Interoperability and Compatibility

None


Gecko:  Positive (&lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/914"&gt;https://github.com/mozilla/standards-positions/issues/914&lt;/a&gt;
)

Mozilla people are already involved in the initial Github issue
&amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;&amp;gt;.

WebKit: No response (
&lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/271"&gt;https://github.com/WebKit/standards-positions/issues/271&lt;/a&gt;)

WebKit people are already involved in the initial Github issue
&amp;lt;&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;&amp;gt;.

Web developers: Positive (&lt;a  rel="nofollow" href="https://github.com/whatwg/html/issues/1766"&gt;https://github.com/whatwg/html/issues/1766&lt;/a&gt;)

Other signals:

WebView application risks

Does this intent deprecate or change behavior of existing APIs, such that
it has potentially high risk for Android WebView-based applications?

None


Debuggability

None


Is this feature fully tested by web-platform-tests
&amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
?

Yes.

 &lt;a  rel="nofollow" href="https://chromium-review.googlesource.com/c/chromium/src/+/5003089"&gt;https://chromium-review.googlesource.com/c/chromium/src/+/5003089&lt;/a&gt;

Flag name on chrome://flags

None

Finch feature name

None

Non-finch justification

This is a small feature (just dispatching a new event) that doesn’t need
experimentation.

Requires code in //chrome?

False

Tracking bug

&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1495616"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1495616&lt;/a&gt;

Estimated milestones

No milestones specified


Link to entry on the Chrome Platform Status

&lt;a  rel="nofollow" href="https://chromestatus.com/feature/5086799659794432"&gt;https://chromestatus.com/feature/5086799659794432&lt;/a&gt;

This intent message was generated by Chrome Platform Status
&amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAA66OT2mWU9WJnkVzD2gm_%2Bk%2Bewag5Lhq_K39Vo9WGdtGW79cQ%40mail.gmail.com&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
    <entry>
        <id>http://www.mail-archive.com/blink-dev@chromium.org/msg08497.html</id>
        <title>Re: [blink-dev] Intent to Ship: CSS font-palette property animation</title>
        <author>
            <name>Intent to Ship</name>
        </author>
        <link href="http://www.mail-archive.com/blink-dev@chromium.org/msg08497.html"/>
        <updated>2023-11-28T16:29:44.000Z</updated>
        <summary>http://www.mail-archive.com/blink-dev@chromium.org/msg08497.html summary</summary>
        <content type="html">&lt;div class="msgHead"&gt;
&lt;h1&gt;
&lt;span class="subject"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+CSS+font%5C-palette+property+animation%22&amp;o=newest" rel="nofollow"&gt;&lt;span itemprop="name"&gt;Re: [blink-dev] Intent to Ship: CSS font-palette property animation&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/h1&gt;
&lt;p class="darkgray font13"&gt;
&lt;span class="sender pipe"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=from:%22%27Munira+Tursunova%27+via+blink%5C-dev%22" rel="nofollow"&gt;&lt;span itemprop="author" itemscope itemtype="http://schema.org/Person"&gt;&lt;span itemprop="name"&gt;'Munira Tursunova' via blink-dev&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span class="date"&gt;&lt;a href="/search?l=blink-dev@chromium.org&amp;q=date:20231128" rel="nofollow"&gt;Tue, 28 Nov 2023 08:29:44 -0800&lt;/a&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/div&gt;&lt;div itemprop="articleBody" class="msgBody"&gt;

&lt;pre&gt;Thank you for LGTMs.

FYI, TAG review was positive 
&lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/915#issuecomment-1828305940"&gt;https://github.com/w3ctag/design-reviews/issues/915#issuecomment-1828305940&lt;/a&gt; 
&amp;lt;&lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/915"&gt;https://github.com/w3ctag/design-reviews/issues/915&lt;/a&gt;&amp;gt;.
On Tuesday, November 28, 2023 at 7:53:33 AM UTC+1 rby...@chromium.org wrote:&lt;/pre&gt;&lt;pre&gt;

&amp;gt; LGTM3
&amp;gt;
&amp;gt; On Sun, Nov 26, 2023 at 3:09 AM Mike Taylor &amp;lt;mike...@chromium.org&amp;gt; wrote:
&amp;gt;
&amp;gt;&amp;gt; LGTM2
&amp;gt;&amp;gt; On 11/23/23 8:39 AM, Yoav Weiss wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; LGTM1 assuming there aren't any surprises on that front. Thanks!!
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; On Thu, Nov 23, 2023 at 2:33 PM Dominik Röttsches &amp;lt;dr...@google.com&amp;gt; 
&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Hi Yoav,
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 22, 2023 at 6:46 PM Yoav Weiss &amp;lt;yoav...@chromium.org&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/csswg-drafts/issues/8922#issuecomment-1720930646"&gt;https://github.com/w3c/csswg-drafts/issues/8922#issuecomment-1720930646&lt;/a&gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; indicates that some parts of this were resolved and other parts are still 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; to be bikeshedded. 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Can you expand on that? What's the issue around color space 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; interpolation?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; In my response further down in the thread I untangled that 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/w3c/csswg-drafts/issues/8922#issuecomment-1792237695"&gt;https://github.com/w3c/csswg-drafts/issues/8922#issuecomment-1792237695&lt;/a&gt;&amp;gt;. 
&amp;gt;&amp;gt;&amp;gt; There are two situations in which we need an explicit color space 
&amp;gt;&amp;gt;&amp;gt; representation:
&amp;gt;&amp;gt;&amp;gt; 1) In mixing two palettes, to describe it as a static state, when an 
&amp;gt;&amp;gt;&amp;gt; animation or transition has completed or when we're describing an interim 
&amp;gt;&amp;gt;&amp;gt; state of an animation or transition. For this, we need an explicit 
&amp;gt;&amp;gt;&amp;gt; interpolation method in the grammar of palette-mix() - to be consistent 
&amp;gt;&amp;gt;&amp;gt; with color-mix() and to prepare to capture a static interpolation value 
&amp;gt;&amp;gt;&amp;gt; when animations will have color space control, see below.
&amp;gt;&amp;gt;&amp;gt; The &amp;quot;remaining bike shedding to be done&amp;quot; that's captured in the notes 
&amp;gt;&amp;gt;&amp;gt; solely originated from a question from emilio@ on whether that color 
&amp;gt;&amp;gt;&amp;gt; interpolation tag is needed. Munira and I discussed that with him in the 
&amp;gt;&amp;gt;&amp;gt; directly follow break at resolution at TPAC - but that was offline and not 
&amp;gt;&amp;gt;&amp;gt; minuted. I am expecting emilio@ to comment on this - otherwise there was 
&amp;gt;&amp;gt;&amp;gt; nothing open. 
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; 2) What needs to be discussed as a wider issue in CSS is controlling the 
&amp;gt;&amp;gt;&amp;gt; interpolation method during animation or transitions, but that's outside 
&amp;gt;&amp;gt;&amp;gt; the scope of the issue we resolved on. Interpolation color space control 
&amp;gt;&amp;gt;&amp;gt; during animations and transitions are discussed in #7741 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/w3c/csswg-drafts/issues/7741"&gt;https://github.com/w3c/csswg-drafts/issues/7741&lt;/a&gt;&amp;gt; and #7063 
&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://github.com/w3c/csswg-drafts/issues/7063"&gt;https://github.com/w3c/csswg-drafts/issues/7063&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; I'll ping Emilio again to comment on the issue. Assuming that happens, I 
&amp;gt;&amp;gt;&amp;gt; really see no blockers at all, and Chris Lilley seems to agree with us on 
&amp;gt;&amp;gt;&amp;gt; that.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; Dominik
&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Thursday, November 9, 2023 at 4:02:34 PM UTC+1 moo...@google.com 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Submitted:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;    - TAG review: &lt;a  rel="nofollow" href="https://github.com/w3ctag/design-reviews/issues/915"&gt;https://github.com/w3ctag/design-reviews/issues/915&lt;/a&gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;    - Requested signals from the other vendors:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;    - Gecko: &lt;a  rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/925"&gt;https://github.com/mozilla/standards-positions/issues/925&lt;/a&gt;  
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;       - Webkit: 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;       &lt;a  rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/276"&gt;https://github.com/WebKit/standards-positions/issues/276&lt;/a&gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;    
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Thank you, Daniel!
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On Wed, Nov 8, 2023 at 4:52 PM Daniel Bratell &amp;lt;brat...@gmail.com&amp;gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Hi, could you please request signals from the other vendors? 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bit.ly/blink-signals"&gt;https://bit.ly/blink-signals&lt;/a&gt; will tell you how they work.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Also, you may want to file a TAG review, or give them a FYI or let us 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; know why that is not necessary.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; /Daniel
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; On 2023-11-08 13:56, 'Munira Tursunova' via blink-dev wrote:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Contact emails moo...@google.com, dr...@google.com
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Explainer 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://docs.google.com/document/d/1XMTrKH003KBOes6hxzI-3E7LTwp5YwFC-rnzoFpFrfw/edit?usp=sharing"&gt;https://docs.google.com/document/d/1XMTrKH003KBOes6hxzI-3E7LTwp5YwFC-rnzoFpFrfw/edit?usp=sharing&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Specification &lt;a  rel="nofollow" href="https://drafts.csswg.org/css-fonts-4/#font-palette-prop"&gt;https://drafts.csswg.org/css-fonts-4/#font-palette-prop&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Summary 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; The CSS font-palette property allows selection of a specific palette 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; used to render a font. The CSS Fonts 4 spec defines the animation 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; behavior 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; of this property as discrete, which is insufficient to achieve a smooth 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; transition between two selected palettes. Instead, animating the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; font-palette property should happen by interpolating each of the colour 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; record values from the defined palette, i.e. if the start or the end of 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; animation has a different colour value for some record in the palette, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; such 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; colour value should be interpolated.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Blink component Blink&amp;gt;Fonts 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EFonts"&gt;https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EFonts&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Search tags font-palette 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:font-palette"&gt;https://chromestatus.com/features#tags:font-palette&lt;/a&gt;&amp;gt;, animation 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:animation"&gt;https://chromestatus.com/features#tags:animation&lt;/a&gt;&amp;gt;, transition 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:transition"&gt;https://chromestatus.com/features#tags:transition&lt;/a&gt;&amp;gt;, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; font-palette-values 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:font-palette-values"&gt;https://chromestatus.com/features#tags:font-palette-values&lt;/a&gt;&amp;gt;, color 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; fonts &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/features#tags:color%20fonts"&gt;https://chromestatus.com/features#tags:color%20fonts&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; TAG review status Not applicable
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Risks 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Interoperability and Compatibility 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Low, new feature, was resolved by W3C working group 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://github.com/w3c/csswg-drafts/issues/8922#issuecomment-1720930646"&gt;https://github.com/w3c/csswg-drafts/issues/8922#issuecomment-1720930646&lt;/a&gt;, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; but not yet implemented in other browsers.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Gecko*: No signal Not implemented.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *WebKit*: No signal Not implemented.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Web developers*: Positive (
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://css-tricks.com/colrv1-and-css-font-palette-web-typography/#:~:text=Another%20limitation%3A%20animations%20and%20transitions%20from%20one%20font%2Dpalette%20to%20another%20don%E2%80%99t%20interpolate%20%E2%80%94%20meaning%20you%20can%20switch%20instantly%20from%20one%20palette%20to%20another%2C%20but%20can%E2%80%99t%20gradually%20animate%20between%20them.%20My%20dream%20of%20a%20luridly%20animated%20emoji%20font%20is%20sadly%20unrealized"&gt;https://css-tricks.com/colrv1-and-css-font-palette-web-typography/#:~:text=Another%20limitation%3A%20animations%20and%20transitions%20from%20one%20font%2Dpalette%20to%20another%20don%E2%80%99t%20interpolate%20%E2%80%94%20meaning%20you%20can%20switch%20instantly%20from%20one%20palette%20to%20another%2C%20but%20can%E2%80%99t%20gradually%20animate%20between%20them.%20My%20dream%20of%20a%20luridly%20animated%20emoji%20font%20is%20sadly%20unrealized&lt;/a&gt;)
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Ollie Williams expressed his interest in the feature in his article on 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; CSS 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tricks. Scott Kellum (of typetura.com) has also been suggesting it 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; as a useful feature for the web (origin: a Twitter thread and email 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; conversation, Scott in the meantime deleted their Twitter account).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; *Other signals*:
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; WebView application risks 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Does this intent deprecate or change behavior of existing APIs, such 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; that it has potentially high risk for Android WebView-based applications?
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Debuggability 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Same as any other CSS property, font-palette property is inspectable 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; in DevTools.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Will this feature be supported on all six Blink platforms (Windows, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Mac, Linux, Chrome OS, Android, and Android WebView)? Yes
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Is this feature fully tested by web-platform-tests 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md"&gt;https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; ? Yes 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/css/css-fonts/palette-mix-computed.html"&gt;https://wpt.fyi/results/css/css-fonts/palette-mix-computed.html&lt;/a&gt; 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://wpt.fyi/results/css/css-fonts/animations/font-palette-interpolation.html"&gt;https://wpt.fyi/results/css/css-fonts/animations/font-palette-interpolation.html&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Flag name on chrome://flags FontPaletteAnimation
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Finch feature name None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Non-finch justification None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Requires code in //chrome? False
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Tracking bug 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://bugs.chromium.org/p/chromium/issues/detail?id=1400620"&gt;https://bugs.chromium.org/p/chromium/issues/detail?id=1400620&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Sample links 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://drafts.csswg.org/css-fonts-4/images/nabla-animated.webp"&gt;https://drafts.csswg.org/css-fonts-4/images/nabla-animated.webp&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Estimated milestones 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on desktop 121 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on desktop 119 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on Android 121 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; DevTrial on Android 119 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Shipping on WebView 121 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Anticipated spec changes 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Open questions about a feature may be a source of future web compat 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; or interop issues. Please list open issues (e.g. links to known github 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; issues in the project for the feature specification) whose resolution 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; may 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; introduce web compat/interop risk (e.g., changing to naming or structure 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; of 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; the API in a non-backward-compatible way).
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; None
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Link to entry on the Chrome Platform Status 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://chromestatus.com/feature/5177171439517696"&gt;https://chromestatus.com/feature/5177171439517696&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Links to previous Intent discussions Intent to prototype: 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAAO7W_DFvgY9yqz_Tr%2B2sHMwsydbWMQ66yZWwF7ZoxDZ2yE1QA%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAAO7W_DFvgY9yqz_Tr%2B2sHMwsydbWMQ66yZWwF7ZoxDZ2yE1QA%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; This intent message was generated by Chrome Platform Status 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://chromestatus.com/"&gt;https://chromestatus.com/&lt;/a&gt;&amp;gt;.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; -- 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; send an email to blink-dev+...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit 
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAAO7W_Bao93XoyHRT6NKG6p4pP87pQ0bvTedXOiGc_2hX3E7Jw%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAAO7W_Bao93XoyHRT6NKG6p4pP87pQ0bvTedXOiGc_2hX3E7Jw%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAAO7W_Bao93XoyHRT6NKG6p4pP87pQ0bvTedXOiGc_2hX3E7Jw%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAAO7W_Bao93XoyHRT6NKG6p4pP87pQ0bvTedXOiGc_2hX3E7Jw%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; -- 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; You received this message because you are subscribed to the Google 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; Groups &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; an email to blink-dev+...@chromium.org.
&amp;gt;&amp;gt;&amp;gt;&amp;gt; To view this discussion on the web visit 
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/85a8ff9f-03e2-4434-bc29-f7d02130e8e3n%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/85a8ff9f-03e2-4434-bc29-f7d02130e8e3n%40chromium.org&lt;/a&gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/85a8ff9f-03e2-4434-bc29-f7d02130e8e3n%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/85a8ff9f-03e2-4434-bc29-f7d02130e8e3n%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; -- 
&amp;gt;&amp;gt; You received this message because you are subscribed to the Google Groups 
&amp;gt;&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an 
&amp;gt;&amp;gt; email to blink-dev+...@chromium.org.
&amp;gt;&amp;gt; To view this discussion on the web visit 
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfU%3DKmysPKGBfykEE7Kv1g%3D9tO8bEq87Tfaw9knb9-uAZg%40mail.gmail.com"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfU%3DKmysPKGBfykEE7Kv1g%3D9tO8bEq87Tfaw9knb9-uAZg%40mail.gmail.com&lt;/a&gt;
&amp;gt;&amp;gt;  
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfU%3DKmysPKGBfykEE7Kv1g%3D9tO8bEq87Tfaw9knb9-uAZg%40mail.gmail.com?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAL5BFfU%3DKmysPKGBfykEE7Kv1g%3D9tO8bEq87Tfaw9knb9-uAZg%40mail.gmail.com?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;
&amp;gt;&amp;gt; -- 
&amp;gt;&amp;gt; You received this message because you are subscribed to the Google Groups 
&amp;gt;&amp;gt; &amp;quot;blink-dev&amp;quot; group.
&amp;gt;&amp;gt; To unsubscribe from this group and stop receiving emails from it, send an 
&amp;gt;&amp;gt; email to blink-dev+...@chromium.org.
&amp;gt;&amp;gt;
&amp;gt; To view this discussion on the web visit 
&amp;gt;&amp;gt; &lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/ce826ae3-ed8a-44c9-a62f-64d7ad1bb36e%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/ce826ae3-ed8a-44c9-a62f-64d7ad1bb36e%40chromium.org&lt;/a&gt;
&amp;gt;&amp;gt;  
&amp;gt;&amp;gt; &amp;lt;&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/ce826ae3-ed8a-44c9-a62f-64d7ad1bb36e%40chromium.org?utm_medium=email&amp;utm_source=footer"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/ce826ae3-ed8a-44c9-a62f-64d7ad1bb36e%40chromium.org?utm_medium=email&amp;utm_source=footer&lt;/a&gt;&amp;gt;
&amp;gt;&amp;gt; .
&amp;gt;&amp;gt;
&amp;gt;

-- 
You received this message because you are subscribed to the Google Groups 
&amp;quot;blink-dev&amp;quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email 
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit 
&lt;a  rel="nofollow" href="https://groups.google.com/a/chromium.org/d/msgid/blink-dev/94a843fb-8e98-4b16-9300-e3258b7f86fen%40chromium.org"&gt;https://groups.google.com/a/chromium.org/d/msgid/blink-dev/94a843fb-8e98-4b16-9300-e3258b7f86fen%40chromium.org&lt;/a&gt;.
&lt;/pre&gt;

&lt;/div&gt;</content>
    </entry>
</feed>