// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`AtomEntry.toXML > should match snapshot 1`] = `
"<entry><id>https://example.com/a</id><title>title</title><author><name
    >author</name></author><link href=\\"https://example.com\\" /><updated
  >2001-02-03T16:05:06Z</updated><summary
  >this is a summary text</summary><content
    type=\\"html\\"
  >this is a content of the entry</content></entry>
"
`;

exports[`AtomFeed.createFromXML > should match snapshot 1`] = `
"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><feed xmlns=\\"http://www.w3.org/2005/Atom\\"><id>https://negibokken.github.io/feeds/intent_to_ship/atom.xml</id><title>intent to ship feed</title><link href=\\"https://negibokken.github.io/feeds/intent_to_ship/atom.xml\\" rel=\\"self\\" /><updated>2024-02-22T05:01:37.000Z</updated><entry><id>http://www.mail-archive.com/blink-dev@chromium.org/msg09376.html</id><title>Re: [blink-dev] Intent to Ship: Remove \\"window-placement\\" alias for permission and permission policy \\"window-management\\"</title><author><name>Intent to Ship</name></author><link href=\\"http://www.mail-archive.com/blink-dev@chromium.org/msg09376.html\\" /><updated>2024-02-22T05:01:37.000Z</updated><summary>http://www.mail-archive.com/blink-dev@chromium.org/msg09376.html summary</summary><content type=\\"html\\"><div class=\\"msgHead\\">
<h1>
<span class=\\"subject\\"><a href=\\"/search?l=blink-dev@chromium.org&q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Ship%5C%3A+Remove+%5C%22window%5C-placement%5C%22+alias+for+permission+and+permission+policy+%5C%22window%5C-management%5C%22%22&o=newest\\" rel=\\"nofollow\\"><span itemprop=\\"name\\">Re: [blink-dev] Intent to Ship: Remove \\"window-placement\\" alias for permission and permission policy \\"window-management\\"</span></a></span>
</h1>
<p class=\\"darkgray font13\\">
<span class=\\"sender pipe\\"><a href=\\"/search?l=blink-dev@chromium.org&q=from:%22Domenic+Denicola%22\\" rel=\\"nofollow\\"><span itemprop=\\"author\\" itemscope itemtype=\\"http://schema.org/Person\\"><span itemprop=\\"name\\">Domenic Denicola</span></span></a></span>
<span class=\\"date\\"><a href=\\"/search?l=blink-dev@chromium.org&q=date:20240221\\" rel=\\"nofollow\\">Wed, 21 Feb 2024 21:01:37 -0800</a></span>
</p>
</div><div itemprop=\\"articleBody\\" class=\\"msgBody\\">

<pre>LGTM2

On Thu, Feb 22, 2024 at 5:20 AM Yoav Weiss (@Shopify) &lt;
yoavwe...@chromium.org&gt; wrote:</pre><pre>

&gt; LGTM1
&gt;
&gt; Thanks for diving into the samples. Sounds like the breakage risk here is
&gt; indeed low.
&gt;
&gt; On Wed, Feb 21, 2024 at 8:15 PM Brad Triebwasser &lt;btri...@chromium.org&gt;
&gt; wrote:
&gt;
&gt;&gt; Sure, I checked 10 unique origins (skipping duplicate pu707ev.com
&gt;&gt; subdomains which make up half of the sampled domains) listed in
&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4448\\">https://chromestatus.com/metrics/feature/timeline/popularity/4448</a>.
&gt;&gt;
&gt;&gt; 4 of them reference:
&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://cdn.jsdelivr.net/gh/cffgnu/qhdd/asset/responsive.min.js\\">https://cdn.jsdelivr.net/gh/cffgnu/qhdd/asset/responsive.min.js</a>. I won't
&gt;&gt; post all the code here, but you can see it querying a list of permissions,
&gt;&gt; with a  .catch() shortly after. Evidence of fingerprinting, but does handle
&gt;&gt; exceptions.
&gt;&gt; 1 on the root page &lt;<a  rel=\\"nofollow\\" href=\\"https://app.webscrapingapi.com/login\\">https://app.webscrapingapi.com/login</a>&gt; listed all
&gt;&gt; permissions (and specifically
&gt;&gt; referenced
&gt;&gt; third_party/blink/renderer/modules/permissions/permission_descriptor.idl);
&gt;&gt; Looks like fingerprinting. It has a catch following the
&gt;&gt;  navigator.permissions.query call.
&gt;&gt; 1 had a library
&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://klempner-verband.de/assets/js/app.js?id=a58e3fa4bf16bb1db6a6.js\\">https://klempner-verband.de/assets/js/app.js?id=a58e3fa4bf16bb1db6a6.js</a>&gt;checking
&gt;&gt; every permission with navigator.permissions.query with a corresponding
&gt;&gt; catch handler.
&gt;&gt; 2 referenced <a  rel=\\"nofollow\\" href=\\"https://fs.pudaf.com/fp.js\\">https://fs.pudaf.com/fp.js</a>. This was a little more
&gt;&gt; obfuscated and I can't tell if exceptions are handled, but looking at the
&gt;&gt; code, there is a ton of evidence suggesting fingerprinting (iterating over
&gt;&gt; every permission, navigator properties, etc.). I tried in Firefox, and
&gt;&gt; didn't observe any unhandled exceptions even though the debugger did pass
&gt;&gt; that point in the code.
&gt;&gt; 2 used a similar highly obfuscated library
&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://ebarter.pro/app/js/dd.js\\">https://ebarter.pro/app/js/dd.js</a>&gt; which contains the &quot;window-placement
&gt;&gt; string&quot; but I did not see any corresponding permissions.query call, so
&gt;&gt; results are inconclusive, but the sites did load in firefox with no
&gt;&gt; unhandled exceptions on the missing window-placement permission.
&gt;&gt;
&gt;&gt; Out of 10 sampled origins, 8 were obvious fingerprinting, 8 had exception
&gt;&gt; handling, 2 were too obfuscated to be conclusive.
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Brad
&gt;&gt;
&gt;&gt; On Tue, Feb 20, 2024 at 11:01 PM Yoav Weiss (@Shopify) &lt;
&gt;&gt; yoavwe...@chromium.org&gt; wrote:
&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Tuesday, February 20, 2024 at 8:32:33 PM UTC+1 Brad Triebwasser wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; [Premature Send. Full message below]
&gt;&gt;&gt;
&gt;&gt;&gt; We are tracking UMA for when the permission name &quot;window-placement&quot; is
&gt;&gt;&gt; parsed (e.g  all calls to navigator.permissions.query({name:
&gt;&gt;&gt; 'window-placement'}) increment the counter. That function will throw an
&gt;&gt;&gt; exception *&quot;The provided value 'window-placement' is not a valid enum
&gt;&gt;&gt; value of type PermissionName.&quot; *once we remove the permission. So based
&gt;&gt;&gt; on the metrics, 0.006% of page loads that aren't handling the exception
&gt;&gt;&gt; could break. I strongly suspect most sites would have exception handling
&gt;&gt;&gt; since no other browser has implemented this permission string.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Would it be possible to manually inspect a few samples to see how many
&gt;&gt;&gt; of these sites properly handle the exception?
&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4448\\">https://chromestatus.com/metrics/feature/timeline/popularity/4448</a> seems
&gt;&gt;&gt; to have a list of 100+ origins
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; We are also tracking UMA for window-placement permission policy. So
&gt;&gt;&gt; everytime the browser parcels &quot;window-placement&quot; in a header (e.g.
&gt;&gt;&gt; Permissions-Policy:
&gt;&gt;&gt; window-placement=(self)) or in an iframe (e.g. &lt;iframe src=&quot;
&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://example.com&quot\\">https://example.com&quot</a>; allow=&quot;window-placement&quot;&gt;&lt;/iframe&gt;), the counter
&gt;&gt;&gt; is incremented. So ~0.015% of page loads are parsing the window-placement
&gt;&gt;&gt; policy. This scenario would not explicitly break a page, but the policy
&gt;&gt;&gt; would silently be ignored and the corresponding permission denied if the
&gt;&gt;&gt; site did not also have window-management specified. Again, no other browser
&gt;&gt;&gt; has implemented this string, so I suspect sites legitimately using this
&gt;&gt;&gt; would have some kind of fallback for non-chromium browsers anyway.
&gt;&gt;&gt;
&gt;&gt;&gt; Regards,
&gt;&gt;&gt; Brad
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Tue, Feb 20, 2024 at 11:24 AM Brad Triebwasser &lt;btri...@chromium.org&gt;
&gt;&gt;&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Certainly.
&gt;&gt;&gt;
&gt;&gt;&gt; We are tracking UMA both for when the permission name &quot;window-placement&quot;
&gt;&gt;&gt; is parsed (e.g  all calls to navigator.permissions.query({name:
&gt;&gt;&gt; 'window-placement'}) increment the counter. That function will throw an
&gt;&gt;&gt; exception *&quot;The provided value 'window-placement' is not a valid enum
&gt;&gt;&gt; value of type PermissionName.&quot;*
&gt;&gt;&gt;
&gt;&gt;&gt; On Mon, Feb 19, 2024 at 12:10 PM Yoav Weiss (@Shopify) &lt;
&gt;&gt;&gt; yoavwe...@chromium.org&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Fri, Feb 16, 2024 at 8:19 PM Brad Triebwasser &lt;btri...@chromium.org&gt;
&gt;&gt;&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Usage for the legacy permission and permission policy are ~0.006
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4448\\">https://chromestatus.com/metrics/feature/timeline/popularity/4448</a>&gt; and
&gt;&gt;&gt; ~0.015
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4450\\">https://chromestatus.com/metrics/feature/timeline/popularity/4450</a>&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Can you detail what these two different counters represent?
&gt;&gt;&gt; Our typical threshold is about half of the lower one (~0.0003%), but
&gt;&gt;&gt; that varies based on the potential breakage.
&gt;&gt;&gt;
&gt;&gt;&gt; What would breakage here look like?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;  (% page loads) while the new variants are ~1.166
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4447\\">https://chromestatus.com/metrics/feature/timeline/popularity/4447</a>&gt; and
&gt;&gt;&gt; ~3.066
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4449\\">https://chromestatus.com/metrics/feature/timeline/popularity/4449</a>&gt; (%
&gt;&gt;&gt; page loads) respectively, so the main metric for potential breakage here is
&gt;&gt;&gt; 0.006% of page loads. 0.006% seems low in my opinion, but I'm curious if
&gt;&gt;&gt; there is any guidance on a lower target % we should be aiming for prior to
&gt;&gt;&gt; removing this feature.
&gt;&gt;&gt;
&gt;&gt;&gt; I separately calculated that the 200 origins make up about 0.0058% of
&gt;&gt;&gt; total origins tracked by UKM (if that's what you're asking), which aligns
&gt;&gt;&gt; with the UMA figures. I also want to note that 50 of those origins are
&gt;&gt;&gt; likely the same (spam?) website (e.g. <a  rel=\\"nofollow\\" href=\\"https://aaaa123.com\\">https://aaaa123.com</a>,
&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://aaaa124.com\\">https://aaaa124.com</a>, <a  rel=\\"nofollow\\" href=\\"https://aaaa125.com\\">https://aaaa125.com</a>). You can see examples of this
&gt;&gt;&gt; in the UMA sample data
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4448\\">https://chromestatus.com/metrics/feature/timeline/popularity/4448</a>&gt;.
&gt;&gt;&gt;
&gt;&gt;&gt; Regards,
&gt;&gt;&gt; Brad
&gt;&gt;&gt;
&gt;&gt;&gt; On Thu, Feb 15, 2024 at 12:42 AM Yoav Weiss (@Shopify) &lt;
&gt;&gt;&gt; yoavwe...@chromium.org&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; 200 origins sounds like a lot. Do you know what %age of page views those
&gt;&gt;&gt; origins would represent?
&gt;&gt;&gt;
&gt;&gt;&gt; On Wed, Feb 14, 2024 at 11:32 PM Brad Triebwasser &lt;btri...@chromium.org&gt;
&gt;&gt;&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; *tl;dr:* We expect at most 200 origins could break, and only ~30 of
&gt;&gt;&gt; those may be legitimately using the API.
&gt;&gt;&gt;
&gt;&gt;&gt; We do track UMA/UKM for the primary API entrypoint function (
&gt;&gt;&gt; GetScreenDetails
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://developer.mozilla.org/en-US/docs/Web/API/Window/getScreenDetails\\">https://developer.mozilla.org/en-US/docs/Web/API/Window/getScreenDetails</a>&gt;)
&gt;&gt;&gt; which we expect nearly all legitimate usage of the API to use. We see 60
&gt;&gt;&gt; unique origins invoking GetScreenDetails, dominated by a handful of
&gt;&gt;&gt; origins (which align with the partners we know are using the API).
&gt;&gt;&gt;
&gt;&gt;&gt; For reference, 2500 unique origins are checking the window-management
&gt;&gt;&gt; permission, and 200 unique origins checking the old window-placement
&gt;&gt;&gt; permission (82% of those origins are *not *logging any GetScreenDetails
&gt;&gt;&gt; calls).
&gt;&gt;&gt;
&gt;&gt;&gt; As Mike mentioned, the only breakage here would be a site using
&gt;&gt;&gt; navigator.permissions.query({name: 'window-placement'}) without error
&gt;&gt;&gt; handling which according to UKM data would be roughly 200 origins (at most
&gt;&gt;&gt; 18% of those may be legitimately using the API).
&gt;&gt;&gt;
&gt;&gt;&gt; I believe 200 unique origins is a relatively low number of potential
&gt;&gt;&gt; breakages, especially considering our data strongly suggests a majority of
&gt;&gt;&gt; that is fingerprinting.
&gt;&gt;&gt;
&gt;&gt;&gt; Regards,
&gt;&gt;&gt; Brad
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Mon, Feb 12, 2024 at 6:27 AM Mike Taylor &lt;miketa...@chromium.org&gt;
&gt;&gt;&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Agree that the risk feels low... one thing to perhaps check for (if you
&gt;&gt;&gt; have UKM or use counters) is to see if there is any legit usage on sites of
&gt;&gt;&gt; \`navigator.permissions.query()\` that isn't catching errors, since that
&gt;&gt;&gt; will throw a TypeError and can break a page.
&gt;&gt;&gt; On 2/12/24 9:16 AM, Rick Byers wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Presumably the risk of legitimate breakage here is bounded by the use of
&gt;&gt;&gt; the Window Management API, right? Are there any UseCounters for the various
&gt;&gt;&gt; Window Management operations? I couldn't find any at a quick glance. I
&gt;&gt;&gt; imagine legitimate usage is dominated by a few sites with an obvious need
&gt;&gt;&gt; (do we have UKM data?), and such sites should always degrade gracefully
&gt;&gt;&gt; without window management capabilities, right?
&gt;&gt;&gt;
&gt;&gt;&gt; My intuition is that the compat risk here should be extremely low, but I
&gt;&gt;&gt; hope we have some data to validate that which isn't tainted by the
&gt;&gt;&gt; fingerprinting usage.
&gt;&gt;&gt;
&gt;&gt;&gt; Rick
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Wed, Feb 7, 2024 at 1:59 PM Brad Triebwasser &lt;btri...@chromium.org&gt;
&gt;&gt;&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; +blink-dev@chromium.org &lt;blink-dev@chromium.org&gt; / Reply All
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks for your feedback, Mike! Recipes inline:
&gt;&gt;&gt;
&gt;&gt;&gt; On Tue, Feb 6, 2024 at 9:36 PM Mike Taylor &lt;miketa...@chromium.org&gt;
&gt;&gt;&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Hi Brad,
&gt;&gt;&gt; On 2/6/24 3:49 PM, Brad Triebwasser wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Contact emails
&gt;&gt;&gt;
&gt;&gt;&gt; btri...@chromium.org
&gt;&gt;&gt;
&gt;&gt;&gt; Explainer
&gt;&gt;&gt;
&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://github.com/w3c/window-management/blob/main/\\">https://github.com/w3c/window-management/blob/main/</a>
&gt;&gt;&gt; EXPLAINER_spec_and_permission_rename.md
&gt;&gt;&gt;
&gt;&gt;&gt; Specification
&gt;&gt;&gt;
&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://w3c.github.io/window-management/#api-permission-api-integration\\">https://w3c.github.io/window-management/#api-permission-api-integration</a>
&gt;&gt;&gt;
&gt;&gt;&gt; Summary
&gt;&gt;&gt;
&gt;&gt;&gt; Removes the legacy &quot;window-placement&quot; alias for permission and
&gt;&gt;&gt; permission policy &quot;window-management&quot;. This is a follow-up to
&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/feature/5146352391028736\\">https://chromestatus.com/feature/5146352391028736</a> and corresponding
&gt;&gt;&gt; blink-dev PSA
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/g/blink-dev/c/Hf2b1-S39Uw/m/YAEC_0DSBQAJ\\">https://groups.google.com/a/chromium.org/g/blink-dev/c/Hf2b1-S39Uw/m/YAEC_0DSBQAJ</a>&gt;.
&gt;&gt;&gt; The &quot;window-placement&quot; alias has been showing console deprecation warnings
&gt;&gt;&gt; since M113
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromium.googlesource.com/chromium/src.git/+/13204be718225ae09c8ba7e36b055a369c36c878\\">https://chromium.googlesource.com/chromium/src.git/+/13204be718225ae09c8ba7e36b055a369c36c878</a>&gt;.
&gt;&gt;&gt; We will disable WindowPlacementPermissionAlias
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/platform/runtime_enabled_features.json5?q=-f:gen%2F%20AND%20-f:out%2F%20WindowPlacementPermissionAlias\\">https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/platform/runtime_enabled_features.json5?q=-f:gen%2F%20AND%20-f:out%2F%20WindowPlacementPermissionAlias</a>&gt;
&gt;&gt;&gt; by default, and remove the flag and legacy code shortly thereafter.
&gt;&gt;&gt;
&gt;&gt;&gt; I'm a little bit confused here - it seems like the PSA of the alias is
&gt;&gt;&gt; being treated as the beginning of a deprecation, is that correct? My
&gt;&gt;&gt; interpretation of &quot;will lead to a deprecation and removal&quot; from the
&gt;&gt;&gt; original message was that it would be followed with an Intent to Deprecate
&gt;&gt;&gt; and Remove (per <a  rel=\\"nofollow\\" href=\\"https://www.chromium.org/blink/launching-features/#\\">https://www.chromium.org/blink/launching-features/#</a>
&gt;&gt;&gt; deprecate), but it seems like that step of the process was skipped.
&gt;&gt;&gt;
&gt;&gt;&gt;  Yes, I never sent out a separate &quot;Intent to Deprecate&quot; in this case.
&gt;&gt;&gt; The original PSA
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/g/blink-dev/c/Hf2b1-S39Uw/m/YAEC_0DSBQAJ\\">https://groups.google.com/a/chromium.org/g/blink-dev/c/Hf2b1-S39Uw/m/YAEC_0DSBQAJ</a>&gt;
&gt;&gt;&gt;  was
&gt;&gt;&gt; intended to be a hybrid of the introduction of the new names and
&gt;&gt;&gt; deprecation of the old ones so we also landed deprecation code (DevTools
&gt;&gt;&gt; deprecation warnings etc.) during that time. Since these have already been
&gt;&gt;&gt; &quot;deprecated&quot; since M113, I wasn't sure if a separate &quot;intent to deprecate&quot;
&gt;&gt;&gt; was appropriate in this case since we already deprecated them and monitored
&gt;&gt;&gt; usage to be sufficiently low, but I can back-up and send an I2D if
&gt;&gt;&gt; recommended here.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Blink component
&gt;&gt;&gt;
&gt;&gt;&gt; Blink&gt;Screen&gt;MultiScreen
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EScreen%3EMultiScreen\\">https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3EScreen%3EMultiScreen</a>&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; TAG review
&gt;&gt;&gt;
&gt;&gt;&gt; No feedback was specifically requested for the permission rename,
&gt;&gt;&gt; however related TAG reviews have been requested with both the old (1
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://github.com/w3ctag/design-reviews/issues/413\\">https://github.com/w3ctag/design-reviews/issues/413</a>&gt;, 2
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://github.com/w3ctag/design-reviews/issues/602\\">https://github.com/w3ctag/design-reviews/issues/602</a>&gt;) and new
&gt;&gt;&gt; terminology (3 &lt;<a  rel=\\"nofollow\\" href=\\"https://github.com/w3ctag/design-reviews/issues/840\\">https://github.com/w3ctag/design-reviews/issues/840</a>&gt;).
&gt;&gt;&gt;
&gt;&gt;&gt; TAG review status
&gt;&gt;&gt;
&gt;&gt;&gt; Not applicable
&gt;&gt;&gt;
&gt;&gt;&gt; Risks
&gt;&gt;&gt; Interoperability and Compatibility
&gt;&gt;&gt;
&gt;&gt;&gt; There are low compatibility risks. Usage for the legacy permission and
&gt;&gt;&gt; permission policy are ~0.006
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4448\\">https://chromestatus.com/metrics/feature/timeline/popularity/4448</a>&gt; and
&gt;&gt;&gt; ~0.015
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4450\\">https://chromestatus.com/metrics/feature/timeline/popularity/4450</a>&gt; (%
&gt;&gt;&gt; page loads) while the new variants are ~1.166
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4447\\">https://chromestatus.com/metrics/feature/timeline/popularity/4447</a>&gt; and
&gt;&gt;&gt; ~3.066
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/metrics/feature/timeline/popularity/4449\\">https://chromestatus.com/metrics/feature/timeline/popularity/4449</a>&gt; (%
&gt;&gt;&gt; page loads) respectively, indicating most usage has already migrated.
&gt;&gt;&gt;
&gt;&gt;&gt; These percentages are still relatively high, especially for the
&gt;&gt;&gt; permissions policy variant. Besides the obvious fingerprint.js usage (which
&gt;&gt;&gt; shouldn't break pages... I would hope), can you describe what the failure
&gt;&gt;&gt; mode is after the proposed removal is? Have you dug into the remaining
&gt;&gt;&gt; usage to verify?
&gt;&gt;&gt; Yes, I dug into the remaining usage quite extensively via Web Archive
&gt;&gt;&gt; queries and UKM and couldn't find any usages other than what looked like
&gt;&gt;&gt; fingerprinting. After removal, the permission API will produce an error due
&gt;&gt;&gt; to an unknown permission, and the permission policy will silently fail
&gt;&gt;&gt; (e.g. iframes with allow='window-placement' will not have access to the
&gt;&gt;&gt; features). I beleive that the numbers shifting several orders of magnitude
&gt;&gt;&gt; in favor of the new strings seems to indicate legitamite usage has
&gt;&gt;&gt; migrated, and the remainig usage likely fingerprinting.
&gt;&gt;&gt;
&gt;&gt;&gt; Gecko: No signal
&gt;&gt;&gt;
&gt;&gt;&gt; Firefox has not implemented the API and corresponding permission yet.
&gt;&gt;&gt; The original API signal request is here
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://github.com/mozilla/standards-positions/issues/542\\">https://github.com/mozilla/standards-positions/issues/542</a>&gt;.
&gt;&gt;&gt;
&gt;&gt;&gt; WebKit: No signal
&gt;&gt;&gt;
&gt;&gt;&gt; Safari has not implemented the API and corresponding permission yet. The
&gt;&gt;&gt; original API signal request is here
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://github.com/WebKit/standards-positions/issues/117\\">https://github.com/WebKit/standards-positions/issues/117</a>&gt;.
&gt;&gt;&gt;
&gt;&gt;&gt; Mind linking to the original API position requests here in this thread?
&gt;&gt;&gt; Added links above to the original API signal request. FWIW, we have
&gt;&gt;&gt; since filed additional requests for functionality related to window
&gt;&gt;&gt; management, not necessarily window *placement* related (hence
&gt;&gt;&gt; motivation for renaming the API): eg 1
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://github.com/WebKit/standards-positions/issues/96\\">https://github.com/WebKit/standards-positions/issues/96</a>&gt; 2
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://github.com/mozilla/standards-positions/issues/712\\">https://github.com/mozilla/standards-positions/issues/712</a>&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Web developers: We have communicated internally with partners using the
&gt;&gt;&gt; API who have expressed commitment to updating the permission strings in
&gt;&gt;&gt; their code.
&gt;&gt;&gt;
&gt;&gt;&gt; Other signals: Positive comment
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://github.com/w3c/window-placement/pull/115#pullrequestreview-1159676614\\">https://github.com/w3c/window-placement/pull/115#pullrequestreview-1159676614</a>&gt;
&gt;&gt;&gt; from W3C WG Chair
&gt;&gt;&gt;
&gt;&gt;&gt; WebView application risks
&gt;&gt;&gt;
&gt;&gt;&gt; This is considered low risk. It removes an alias without any change in
&gt;&gt;&gt; behavior of the underlying API.
&gt;&gt;&gt;
&gt;&gt;&gt; Does this permission do anything on WebView? I would have guessed no.
&gt;&gt;&gt; Your correct, this window management API doesn't apply to WebView so
&gt;&gt;&gt; there is no impact there.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Debuggability
&gt;&gt;&gt;
&gt;&gt;&gt; Disabling WindowPlacementPermissionAlias
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/platform/runtime_enabled_features.json5?q=-f:gen%2F%20AND%20-f:out%2F%20WindowPlacementPermissionAlias\\">https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/platform/runtime_enabled_features.json5?q=-f:gen%2F%20AND%20-f:out%2F%20WindowPlacementPermissionAlias</a>&gt;
&gt;&gt;&gt; will stop DevTools deprecation warnings for usage of the legacy strings and
&gt;&gt;&gt; instead will act as if they did not exist at all (e.g. Permission API will
&gt;&gt;&gt; produce an error when using &quot;window-placement&quot;).
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Will this feature be supported on all six Blink platforms (Windows, Mac,
&gt;&gt;&gt; Linux, ChromeOS, Android, and Android WebView)?
&gt;&gt;&gt;
&gt;&gt;&gt; No. This feature is not supported on Android.
&gt;&gt;&gt;
&gt;&gt;&gt; Is this feature fully tested by web-platform-tests
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md\\">https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md</a>&gt;
&gt;&gt;&gt; ?
&gt;&gt;&gt;
&gt;&gt;&gt; Yes. Web Platform tests have already been migrated to the new alias:
&gt;&gt;&gt;
&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://github.com/web-platform-tests/wpt/tree/master/window-management\\">https://github.com/web-platform-tests/wpt/tree/master/window-management</a>
&gt;&gt;&gt;
&gt;&gt;&gt; Flag name on chrome://flags
&gt;&gt;&gt;
&gt;&gt;&gt; None
&gt;&gt;&gt;
&gt;&gt;&gt; Finch feature name
&gt;&gt;&gt;
&gt;&gt;&gt; WindowPlacementPermissionAlias
&gt;&gt;&gt;
&gt;&gt;&gt; Requires code in //chrome?
&gt;&gt;&gt;
&gt;&gt;&gt; False
&gt;&gt;&gt;
&gt;&gt;&gt; Tracking bug
&gt;&gt;&gt;
&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://bugs.chromium.org/p/chromium/issues/detail?id=1328581\\">https://bugs.chromium.org/p/chromium/issues/detail?id=1328581</a>
&gt;&gt;&gt;
&gt;&gt;&gt; Estimated milestones
&gt;&gt;&gt;
&gt;&gt;&gt; M123 (flag disable) M125 (flag/code removal)
&gt;&gt;&gt;
&gt;&gt;&gt; Anticipated spec changes
&gt;&gt;&gt;
&gt;&gt;&gt; None
&gt;&gt;&gt;
&gt;&gt;&gt; Link to entry on the Chrome Platform Status
&gt;&gt;&gt;
&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/feature/5137018030391296\\">https://chromestatus.com/feature/5137018030391296</a>
&gt;&gt;&gt;
&gt;&gt;&gt; This intent message was generated by Chrome Platform Status
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/\\">https://chromestatus.com/</a>&gt;.
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; You received this message because you are subscribed to the Google
&gt;&gt;&gt; Groups &quot;blink-dev&quot; group.
&gt;&gt;&gt; To unsubscribe from this group and stop receiving emails from it, send
&gt;&gt;&gt; an email to blink-dev+unsubscr...@chromium.org.
&gt;&gt;&gt; To view this discussion on the web visit <a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/\\">https://groups.google.com/a/</a>
&gt;&gt;&gt; chromium.org/d/msgid/blink-dev/CALEeEUCdqsmmEhBROkinxbzTULFPX
&gt;&gt;&gt; nC8goANs6-_O8n3%2B%3D47hQ%40mail.gmail.com
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CALEeEUCdqsmmEhBROkinxbzTULFPXnC8goANs6-_O8n3%2B%3D47hQ%40mail.gmail.com?utm_medium=email&utm_source=footer\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CALEeEUCdqsmmEhBROkinxbzTULFPXnC8goANs6-_O8n3%2B%3D47hQ%40mail.gmail.com?utm_medium=email&utm_source=footer</a>&gt;
&gt;&gt;&gt; .
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; You received this message because you are subscribed to the Google
&gt;&gt;&gt; Groups &quot;blink-dev&quot; group.
&gt;&gt;&gt; To unsubscribe from this group and stop receiving emails from it, send
&gt;&gt;&gt; an email to blink-dev+unsubscr...@chromium.org.
&gt;&gt;&gt; To view this discussion on the web visit <a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/\\">https://groups.google.com/a/</a>
&gt;&gt;&gt; chromium.org/d/msgid/blink-dev/CALEeEUBYrF50-%3Dp8umAxQLaEttR-
&gt;&gt;&gt; jW4WRfWyF5AATV2p29w17w%40mail.gmail.com
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CALEeEUBYrF50-%3Dp8umAxQLaEttR-jW4WRfWyF5AATV2p29w17w%40mail.gmail.com?utm_medium=email&utm_source=footer\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CALEeEUBYrF50-%3Dp8umAxQLaEttR-jW4WRfWyF5AATV2p29w17w%40mail.gmail.com?utm_medium=email&utm_source=footer</a>&gt;
&gt;&gt;&gt; .
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; You received this message because you are subscribed to the Google
&gt;&gt;&gt; Groups &quot;blink-dev&quot; group.
&gt;&gt;&gt; To unsubscribe from this group and stop receiving emails from it, send
&gt;&gt;&gt; an email to blink-dev+unsubscr...@chromium.org.
&gt;&gt;&gt; To view this discussion on the web visit <a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/\\">https://groups.google.com/a/</a>
&gt;&gt;&gt; chromium.org/d/msgid/blink-dev/CALEeEUDd9YoriLSXG3h7usjpyJThZ
&gt;&gt;&gt; 4W3%2BixTCdVK2PhS0p9_Rw%40mail.gmail.com
&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CALEeEUDd9YoriLSXG3h7usjpyJThZ4W3%2BixTCdVK2PhS0p9_Rw%40mail.gmail.com?utm_medium=email&utm_source=footer\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CALEeEUDd9YoriLSXG3h7usjpyJThZ4W3%2BixTCdVK2PhS0p9_Rw%40mail.gmail.com?utm_medium=email&utm_source=footer</a>&gt;
&gt;&gt;&gt; .
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt; You received this message because you are subscribed to the Google Groups
&gt; &quot;blink-dev&quot; group.
&gt; To unsubscribe from this group and stop receiving emails from it, send an
&gt; email to blink-dev+unsubscr...@chromium.org.
&gt; To view this discussion on the web visit
&gt; <a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOmohS%2BkYoJShdaKKonG1pZasT4vg7enXWdh%2BU8FNeVTmyPKWw%40mail.gmail.com\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOmohS%2BkYoJShdaKKonG1pZasT4vg7enXWdh%2BU8FNeVTmyPKWw%40mail.gmail.com</a>
&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOmohS%2BkYoJShdaKKonG1pZasT4vg7enXWdh%2BU8FNeVTmyPKWw%40mail.gmail.com?utm_medium=email&utm_source=footer\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOmohS%2BkYoJShdaKKonG1pZasT4vg7enXWdh%2BU8FNeVTmyPKWw%40mail.gmail.com?utm_medium=email&utm_source=footer</a>&gt;
&gt; .
&gt;

--
You received this message because you are subscribed to the Google Groups
&quot;blink-dev&quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit
<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAM0wra8E3Fct43ED1Se82h3CE3x2oNahe9xOkztC%3DFEAV7XTpg%40mail.gmail.com\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAM0wra8E3Fct43ED1Se82h3CE3x2oNahe9xOkztC%3DFEAV7XTpg%40mail.gmail.com</a>.
</pre>

</div></content></entry><entry><id>http://www.mail-archive.com/blink-dev@chromium.org/msg09375.html</id><title>Re: [blink-dev] Intent to Prototype and Ship: Streams API: ReadableStream async iteration</title><author><name>Intent to Ship</name></author><link href=\\"http://www.mail-archive.com/blink-dev@chromium.org/msg09375.html\\" /><updated>2024-02-22T04:58:16.000Z</updated><summary>http://www.mail-archive.com/blink-dev@chromium.org/msg09375.html summary</summary><content type=\\"html\\"><div class=\\"msgHead\\">
<h1>
<span class=\\"subject\\"><a href=\\"/search?l=blink-dev@chromium.org&q=subject:%22Re%5C%3A+%5C%5Bblink%5C-dev%5C%5D+Intent+to+Prototype+and+Ship%5C%3A+Streams+API%5C%3A+ReadableStream+async+iteration%22&o=newest\\" rel=\\"nofollow\\"><span itemprop=\\"name\\">Re: [blink-dev] Intent to Prototype and Ship: Streams API: ReadableStream async iteration</span></a></span>
</h1>
<p class=\\"darkgray font13\\">
<span class=\\"sender pipe\\"><a href=\\"/search?l=blink-dev@chromium.org&q=from:%22Domenic+Denicola%22\\" rel=\\"nofollow\\"><span itemprop=\\"author\\" itemscope itemtype=\\"http://schema.org/Person\\"><span itemprop=\\"name\\">Domenic Denicola</span></span></a></span>
<span class=\\"date\\"><a href=\\"/search?l=blink-dev@chromium.org&q=date:20240221\\" rel=\\"nofollow\\">Wed, 21 Feb 2024 20:58:16 -0800</a></span>
</p>
</div><div itemprop=\\"articleBody\\" class=\\"msgBody\\">

<pre>LGTM3!!

On Thu, Feb 22, 2024 at 4:07 AM Chris Harrelson &lt;chris...@chromium.org&gt;
wrote:</pre><pre>

&gt; Thanks!
&gt;
&gt; LGTM2
&gt;
&gt; On Wed, Feb 21, 2024 at 11:03 AM Mattias Buelens &lt;
&gt; mattias.buel...@gmail.com&gt; wrote:
&gt;
&gt;&gt; Thanks Chris, they're all blue now.
&gt;&gt;
&gt;&gt; Op woensdag 21 februari 2024 om 18:09:55 UTC+1 schreef chri...@google.com
&gt;&gt; :
&gt;&gt;
&gt;&gt;&gt; Hi,
&gt;&gt;&gt;
&gt;&gt;&gt; Please start the reviews for the 5 other areas shown below in your
&gt;&gt;&gt; chromestatus entry (once you've done show they should turn blue, not gray):
&gt;&gt;&gt;
&gt;&gt;&gt; [image: Screenshot 2024-02-21 9.08.57 AM.png]
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Wed, Feb 21, 2024 at 8:03 AM Yoav Weiss (@Shopify) &lt;
&gt;&gt;&gt; yoav...@chromium.org&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; LGTM1
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks for catching us up here!!
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Wed, Feb 21, 2024 at 4:57 PM Mattias Buelens &lt;mattias...@gmail.com&gt;
&gt;&gt;&gt;&gt; wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Contact emails
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; mattias...@gmail.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Explainer
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://github.com/whatwg/streams/blob/main/readable-stream-async-iteration-explainer.md\\">https://github.com/whatwg/streams/blob/main/readable-stream-async-iteration-explainer.md</a>
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Specification
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://streams.spec.whatwg.org/#rs-asynciterator\\">https://streams.spec.whatwg.org/#rs-asynciterator</a>
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Summary
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; The streams APIs provide ubiquitous, interoperable primitives for
&gt;&gt;&gt;&gt;&gt; creating, composing, and consuming streams of data. This change adds
&gt;&gt;&gt;&gt;&gt; support for the async iterable protocol to the ReadableStream API,
&gt;&gt;&gt;&gt;&gt; enabling
&gt;&gt;&gt;&gt;&gt; readable streams to be used as the source of for await...of loops.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Blink component
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Blink&gt;Network&gt;StreamsAPI
&gt;&gt;&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3ENetwork%3EStreamsAPI\\">https://bugs.chromium.org/p/chromium/issues/list?q=component:Blink%3ENetwork%3EStreamsAPI</a>&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Motivation
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; To consume a ReadableStream, developers currently acquire a reader and
&gt;&gt;&gt;&gt;&gt; repeatedly call read(). By adding support for the async iterable protocol,
&gt;&gt;&gt;&gt;&gt; web developers will be able to use the much simpler for await...of syntax
&gt;&gt;&gt;&gt;&gt; to loop over all chunks of a ReadableStream.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Web developers are already using polyfills to async-iterate over a
&gt;&gt;&gt;&gt;&gt; ReadableStream. These polyfills usually work fine, but might not handle
&gt;&gt;&gt;&gt;&gt; all
&gt;&gt;&gt;&gt;&gt; edge cases correctly (such as when the stream errors during a read, or
&gt;&gt;&gt;&gt;&gt; releasing the reader's lock when breaking out of a for await...of loop).
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Initial public proposal
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; None
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Search tags
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; streams &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/features#tags:streams\\">https://chromestatus.com/features#tags:streams</a>&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; TAG review
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; None
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; TAG review status
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Not applicable. (This is a small feature with a mature specification
&gt;&gt;&gt;&gt;&gt; that's already shipping in Firefox.)
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Risks
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Interoperability and Compatibility
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Low risk. The Streams API has already been standardised for a long
&gt;&gt;&gt;&gt;&gt; time. Async iteration is already supported in one other browser (Firefox)
&gt;&gt;&gt;&gt;&gt; and several JavaScript runtimes (Node.js, Deno, bun).
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Gecko: Shipped/Shipping (
&gt;&gt;&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://bugzilla.mozilla.org/show_bug.cgi?id=1525852\\">https://bugzilla.mozilla.org/show_bug.cgi?id=1525852</a>) Shipped in
&gt;&gt;&gt;&gt;&gt; Firefox 110
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; WebKit: No signal (
&gt;&gt;&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://github.com/WebKit/standards-positions/issues/319\\">https://github.com/WebKit/standards-positions/issues/319</a>)
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Web developers: Positive (<a  rel=\\"nofollow\\" href=\\"https://github.com/whatwg/streams/issues/778\\">https://github.com/whatwg/streams/issues/778</a>)
&gt;&gt;&gt;&gt;&gt; Developers already expect this to work, and often use a polyfill.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Other signals:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Activation
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Async iteration can be feature detected by checking the existence of
&gt;&gt;&gt;&gt;&gt; \`ReadableStream.prototype.values\`. Various polyfills already exist in the
&gt;&gt;&gt;&gt;&gt; wild. (e.g.
&gt;&gt;&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://jakearchibald.com/2017/async-iterators-and-generators/\\">https://jakearchibald.com/2017/async-iterators-and-generators/</a>)
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; WebView application risks
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Does this intent deprecate or change behavior of existing APIs, such
&gt;&gt;&gt;&gt;&gt; that it has potentially high risk for Android WebView-based applications?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; None
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Debuggability
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; No special support needed. The JavaScript debugger is already
&gt;&gt;&gt;&gt;&gt; sufficiently capable of handling for await...of loops.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Is this feature fully tested by web-platform-tests
&gt;&gt;&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md\\">https://chromium.googlesource.com/chromium/src/+/main/docs/testing/web_platform_tests.md</a>&gt;
&gt;&gt;&gt;&gt;&gt; ?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Yes
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://wpt.fyi/results/streams/readable-streams/async-iterator.any.html\\">https://wpt.fyi/results/streams/readable-streams/async-iterator.any.html</a>
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Flag name on chrome://flags
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; None
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Finch feature name
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; ReadableStreamAsyncIterable
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Requires code in //chrome?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; False
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Tracking bug
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://issues.chromium.org/issues/40612900\\">https://issues.chromium.org/issues/40612900</a>
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Estimated milestones
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; No milestones specified
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Link to entry on the Chrome Platform Status
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/feature/5143121161879552\\">https://chromestatus.com/feature/5143121161879552</a>
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This intent message was generated by Chrome Platform Status
&gt;&gt;&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://chromestatus.com/\\">https://chromestatus.com/</a>&gt;.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt;&gt; You received this message because you are subscribed to the Google
&gt;&gt;&gt;&gt;&gt; Groups &quot;blink-dev&quot; group.
&gt;&gt;&gt;&gt;&gt; To unsubscribe from this group and stop receiving emails from it, send
&gt;&gt;&gt;&gt;&gt; an email to blink-dev+...@chromium.org.
&gt;&gt;&gt;&gt;&gt; To view this discussion on the web visit
&gt;&gt;&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/b1438dfd-ec71-4e18-b34d-0213aff6250cn%40chromium.org\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/b1438dfd-ec71-4e18-b34d-0213aff6250cn%40chromium.org</a>
&gt;&gt;&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/b1438dfd-ec71-4e18-b34d-0213aff6250cn%40chromium.org?utm_medium=email&utm_source=footer\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/b1438dfd-ec71-4e18-b34d-0213aff6250cn%40chromium.org?utm_medium=email&utm_source=footer</a>&gt;
&gt;&gt;&gt;&gt;&gt; .
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; You received this message because you are subscribed to the Google
&gt;&gt;&gt;&gt; Groups &quot;blink-dev&quot; group.
&gt;&gt;&gt;&gt; To unsubscribe from this group and stop receiving emails from it, send
&gt;&gt;&gt;&gt; an email to blink-dev+...@chromium.org.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt; To view this discussion on the web visit
&gt;&gt;&gt;&gt; <a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOmohS%2B%3DFoQs%3DtGNQWLaeqjbrJmjB-C_A%3D%2BY6Grwps%2Bik92xoA%40mail.gmail.com\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOmohS%2B%3DFoQs%3DtGNQWLaeqjbrJmjB-C_A%3D%2BY6Grwps%2Bik92xoA%40mail.gmail.com</a>
&gt;&gt;&gt;&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOmohS%2B%3DFoQs%3DtGNQWLaeqjbrJmjB-C_A%3D%2BY6Grwps%2Bik92xoA%40mail.gmail.com?utm_medium=email&utm_source=footer\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOmohS%2B%3DFoQs%3DtGNQWLaeqjbrJmjB-C_A%3D%2BY6Grwps%2Bik92xoA%40mail.gmail.com?utm_medium=email&utm_source=footer</a>&gt;
&gt;&gt;&gt;&gt; .
&gt;&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt; You received this message because you are subscribed to the Google Groups
&gt; &quot;blink-dev&quot; group.
&gt; To unsubscribe from this group and stop receiving emails from it, send an
&gt; email to blink-dev+unsubscr...@chromium.org.
&gt; To view this discussion on the web visit
&gt; <a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw-YT%3DXY7xKC5htG%2B1yqqhYmpvXUxQ8qVX_zqdsVYXrHiw%40mail.gmail.com\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw-YT%3DXY7xKC5htG%2B1yqqhYmpvXUxQ8qVX_zqdsVYXrHiw%40mail.gmail.com</a>
&gt; &lt;<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw-YT%3DXY7xKC5htG%2B1yqqhYmpvXUxQ8qVX_zqdsVYXrHiw%40mail.gmail.com?utm_medium=email&utm_source=footer\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAOMQ%2Bw-YT%3DXY7xKC5htG%2B1yqqhYmpvXUxQ8qVX_zqdsVYXrHiw%40mail.gmail.com?utm_medium=email&utm_source=footer</a>&gt;
&gt; .
&gt;

--
You received this message because you are subscribed to the Google Groups
&quot;blink-dev&quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email
to blink-dev+unsubscr...@chromium.org.
To view this discussion on the web visit
<a  rel=\\"nofollow\\" href=\\"https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAM0wra_DmSqSUmbAUaUxVuXomOxz1xK8mtpRg_%3DbTroV_qNzxA%40mail.gmail.com\\">https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAM0wra_DmSqSUmbAUaUxVuXomOxz1xK8mtpRg_%3DbTroV_qNzxA%40mail.gmail.com</a>.
</pre>

</div></content></entry></feed>"
`;

exports[`AtomFeed.toXML > should match snapshot 1`] = `
"<?xml version=\\"1.0\\" encoding=\\"utf-8\\" ?>
<feed xmlns=\\"http://www.w3.org/2005/Atom\\"><id>https://example.com</id><title
  >feed_title</title><link href=\\"https://example.com\\" rel=\\"self\\" /><updated
  >2001-02-03T16:05:06Z</updated><entry><id>https://example.com/a</id><title
    >title</title><author><name>author</name></author><link
      href=\\"https://example.com\\"
    /><updated>2001-02-03T16:05:06Z</updated><summary
    >this is a summary text</summary><content
      type=\\"html\\"
    >this is a content of the entry</content></entry></feed>
"
`;
